<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FlexPhraserStepSeq - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="./Templates.html">Templates</a> /</p>
<h1 id="flexphraserstepseq"><a class="header" href="#flexphraserstepseq">FlexPhraserStepSeq</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#description">Description</a></li>
<li><a href="#template-properties">Template Properties</a></li>
<li><a href="#template-parameters">Template Parameters</a></li>
<li><a href="#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="#ui-variables">UI Variables</a></li>
<li><a href="#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="#ui-script">UI Script</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="../images/Flexphraser-Page.png" alt="Flexphraser" /></p>
<h2 id="description"><a class="header" href="#description">Description</a></h2>
<p>The FlexPhaserStepSeq template allows you to control the User phrase editor of the FlexPhraser. It combines several <a href="./Step-Modulator.html">Step Modulator</a> controls with additional value boxes for Key Transpose and Key Replace and switches that modifiy the entire phrase. These controls are all preconfigured within the template and use dedicated parameters which are not supposed to change. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; FlexPhraser Page &gt; StepSEQ".</li>
<li>Select "StepSeq" and click <strong>Edit Element</strong> <img src="../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<blockquote>
<p>❕ The control templates for selecting phrases and for adjusting the performance parameters can be found in the Arp Parameter group. See <a href="./FlexPhraser.html">FlexPhraser</a> for details.</p>
</blockquote>
<h2 id="template-properties"><a class="header" href="#template-properties">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters"><a class="header" href="#template-parameters">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Defines the path to the FlexPhraser MIDI modue that will be controlled. For example: <code>@0:FlexPhraser</code> controls the first FlexPhraser in the program.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template"><a class="header" href="#components-inside-the-template">Components inside the Template</a></h2>
<p><img src="../images/FlexPhraserStepSeq-Template.PNG" alt="FlexPhraserStepSeq Template" /></p>
<h3 id="ui-variables"><a class="header" href="#ui-variables">UI Variables</a></h3>
<p>These variables are needed to allow the communication between the <a href="./Step-Modulator.html">Step Modulator</a> control and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>VarTransp</strong></td><td style="text-align: left">List of transpose variables used by the "templatelistview Transpose" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Transpose1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarKey</strong></td><td style="text-align: left">List of key variables used by the "templatelistview Key" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Key1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarTie</strong></td><td style="text-align: left">List of tie variables used by the "StepTie" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Tie1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarEnable</strong></td><td style="text-align: left">List of enable variables used by the "Enable" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Enable1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarTransposeKey</strong></td><td style="text-align: left">Used to switch between the pages of the "TranspKey" stack.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
<tr><td style="text-align: left"><strong>VarKeyLabel</strong></td><td style="text-align: left">List of numbers used as labels in the "Enable" template.</td><td style="text-align: left">string list</td><td style="text-align: left">1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarStepPages</strong></td><td style="text-align: left">Used to switch between the pages of the "Step Pages" stack.</td><td style="text-align: left">integer</td><td style="text-align: left">0 - 3</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates"><a class="header" href="#controls-and-subtemplates">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Disable</strong></td><td style="text-align: left">A <a href="./Disable.html">Disable</a> control containing all further elements. It is needed to disable the contained elements if the FlexPhraser variation is not set to User mode. Its Value must be set to <code>@UserMode</code>.</td></tr>
<tr><td style="text-align: left"><strong>Sw Vel, Sw C1, Sw C2, Sw C3</strong></td><td style="text-align: left">These switches are used to switch between the velocity and controller lane pages. The Value is set to <code>@VarStepPages</code> and the Onvalue is set to the index of the corresponding page.</td></tr>
<tr><td style="text-align: left"><strong>ArpMod</strong></td><td style="text-align: left">A <a href="./Stack.html">Stack</a> for switching between the pages that contain the controls for selecting the MIDI controller that is sent by the corresponding controller lane. It is switched by the UI Variable <code>@VarStepPages</code>.<ul><li><strong>Empty Page:</strong> A <a href="./Group.html">Group</a> without content. It is displayed if the velocity lane is selected.</li><li><strong>Ctrl1/2/3:</strong> These Groups contain the templates for selecting the MIDI controller of the corresponding controller lane.</li><ul><li><strong>MIDI Ctrl1/2/3:</strong> The templates for selecting the MIDI controller. Their values must be set to <code>@UsrCC1</code>, <code>@UsrCC1</code>, <code>@UsrCC2</code>, or <code>@UsrCC3</code> accordingly.</li><li><strong>MIDI Ctrl Label:</strong> The label for the parameters.</li></ul></ul></td></tr>
<tr><td style="text-align: left"><strong>LED pages</strong></td><td style="text-align: left">A <a href="./Stack.html">Stack</a> that switches between two LED chain bitmap displays, "LED Chain Off" and "LED Chain". They are both identical. "LED Chain Off" is not connected to the engine and is used when User mode is set to off. "LED Chain" is connected to the engine via <code>@CurrentStep</code>.</td></tr>
<tr><td style="text-align: left"><strong>StepTie</strong></td><td style="text-align: left">A <a href="./Template-List.html">Template List</a> that controls the Tie parameter of the 32 steps. It uses the "StepTie" template as a switch. The switch will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Enable</strong></td><td style="text-align: left">A <a href="./Template-List.html">Template List</a> used to control the Enable parameter of the 32 steps. It uses the "StepSwitch OnOff " template as a switch. The switch will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="#ui-script">UI Script</a> for details. The Label parameter uses the stringlist variable <code>@VarKeyLabel</code> to set the label for each step.</td></tr>
<tr><td style="text-align: left"><strong>TranspKey</strong></td><td style="text-align: left">A <a href="./Stack.html">Stack</a> switching between the Key Transpose and Key Replace values. This is controlled by the <a href="#ui-variables">UI variable</a> <code>@VarTransposeKey</code>. These values are managed by "templatelistview Transpose" and "templatelistview Key". "templatelistview Transpose" uses the string list variable <code>@VarTrans</code>. "templatelistview Key" uses the string list variable <code>@VarKey</code>. Both will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Sw_TranspKey</strong></td><td style="text-align: left">A <a href="./Switch.html">Switch</a> that toggles between the Key Transpose and Key Replace values. Connected to the "TranspKey" stack by the <a href="#ui-variables">UI variable</a> <code>@VarTranposeKey</code>.</td></tr>
<tr><td style="text-align: left"><strong>Duplicate</strong></td><td style="text-align: left">A push button that duplicates the active steps. Connected by the internal variable <code>@Duplicate</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>Reverse</strong></td><td style="text-align: left">A push button that reverses the order of the active steps. Connected by the internal variable <code>@Reverse</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>ShiftRight</strong></td><td style="text-align: left">A push button that shifts the active steps to the right. Connected by the internal variable <code>@ShiftPhraseRight</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>ShiftLeft</strong></td><td style="text-align: left">A push button that shifts the active steps to the left. Connected by the internal variable <code>@ShiftPhraseLeft</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>PatternLength</strong></td><td style="text-align: left">A <a href="./Slider.html">Slider</a> to change the number of steps. Connected by <code>@PatternLength</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Step Pages</strong></td><td style="text-align: left">A <a href="./Stack.html">Stack</a> that contains four <a href="./Step-Modulator.html">Step Modulator</a> controls, one for the step velocity and three for the available controller lanes. It is switched by the <a href="#ui-variables">UI variable</a> <code>@VarStepPages</code>.<ul><li><strong>stepmodulator:</strong> A <a href="./Step-Modulator.html">Step Modulator</a> controlling the step velocity. The required setting for Formats is <code>Level%d;Length%d;Enable%d</code>. This allows to control the level, the length, and the enable state of the steps. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C1:</strong> A <a href="./Step-Modulator.html">Step Modulator</a> for controlling the first controller lane. The required setting for Formats is <code>Control1_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C2:</strong> A <a href="./Step-Modulator.html">Step Modulator</a> for controlling the second controller lane. The required setting for Formats is <code>Control2_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C3:</strong> A <a href="./Step-Modulator.html">Step Modulator</a> for controlling the third controller lane. The required setting for Formats is <code>Control3_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li></ul></td></tr>
</tbody></table>
</div>
<h3 id="ui-script"><a class="header" href="#ui-script">UI Script</a></h3>
<pre><code class="language-lua">-- FlexPhraserStepSeq.lua  (Manages the disable state of the steps)

function onStepCountChanged()  
  step = math.floor (StepCount+0.5)

  for i = 1, step, 1 do
    _G["disableStep"..tostring(i)] = 0
  end

  for i=step + 1, 32, 1 do
	_G["disableStep"..tostring(i)] = 1
  end
end

defineParameter("StepCount", nil, 1, 1, 32, onStepCountChanged)

disableStepParams = {}
for i=1,32,1 do
	disableStepParams[i]="@disableStep"..tostring(i);
	defineParameter("disableStep"..tostring(i), nil, 0,0,1)	
end

defineParameter("disableStepParams", nil, 1, disableStepParams)
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Macro-Page/pages/FlexPhraser.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Macro-Page/pages/FX-Meter.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Macro-Page/pages/FlexPhraser.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Macro-Page/pages/FX-Meter.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
