<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js steinberg-light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HALion 7.1.10</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="shortcut icon" href="resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-image"></div>
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="HALion-Developer-Resource.html">HALion Developer Resource</a></li><li class="chapter-item affix "><li class="part-title">HALion Script</li><li class="chapter-item "><a href="HALion-Script/pages/HALion-Script.html">HALion Script</a></li><li class="chapter-item "><a href="HALion-Script/pages/Getting-Started.html">Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/What-is-HALion-Script.html">What is HALion Script?</a></li><li class="chapter-item "><a href="HALion-Script/pages/Exploring-the-Code-Examples.html">Exploring the Code Examples</a></li><li class="chapter-item "><a href="HALion-Script/pages/Lua-Syntax-Highlighting.html">Lua Syntax Highlighting</a></li></ol></li><li class="chapter-item "><a href="HALion-Script/pages/Diving-Deeper.html">Diving Deeper</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/Working-with-Objects.html">Working with Objects</a></li><li class="chapter-item "><a href="HALion-Script/pages/Working-with-UI-Scripts.html">Working with UI Scripts</a></li><li class="chapter-item "><a href="HALion-Script/pages/Threads-in-HALion.html">Threads in HALion</a></li><li class="chapter-item "><a href="HALion-Script/pages/Script-Initialization.html">Script Initialization</a></li><li class="chapter-item "><a href="HALion-Script/pages/Creating-Parameters.html">Creating Parameters</a></li><li class="chapter-item "><a href="HALion-Script/pages/Working-with-Parameters.html">Working with Parameters</a></li><li class="chapter-item "><a href="HALion-Script/pages/Using-Slot-Local-Variables.html">Using Slot Local Variables</a></li><li class="chapter-item "><a href="HALion-Script/pages/Protecting-Layers.html">Protecting Layers</a></li><li class="chapter-item "><a href="HALion-Script/pages/Managing-Script-Modules.html">Managing Script Modules</a></li><li class="chapter-item "><a href="HALion-Script/pages/Using-External-Files.html">Using External Files</a></li><li class="chapter-item "><a href="HALion-Script/pages/Debugging-with-LDT.html">Debugging with LDT</a></li></ol></li><li class="chapter-item "><a href="HALion-Script/pages/Updates.html">Updates</a></li><li class="chapter-item "><a href="HALion-Script/pages/Functions-by-Subject.html">Functions by Subject</a></li><li class="chapter-item "><a href="HALion-Script/pages/Class-Reference.html">Class Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/Audio-File.html">Audio File</a></li><li class="chapter-item "><a href="HALion-Script/pages/Element.html">Element</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/Bus.html">Bus</a></li><li class="chapter-item "><a href="HALion-Script/pages/Effect.html">Effect</a></li><li class="chapter-item "><a href="HALion-Script/pages/Instance.html">Instance</a></li><li class="chapter-item "><a href="HALion-Script/pages/Layer.html">Layer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/Program.html">Program</a></li></ol></li><li class="chapter-item "><a href="HALion-Script/pages/MidiModule.html">MidiModule</a></li><li class="chapter-item "><a href="HALion-Script/pages/ModulationMatrixRow.html">ModulationMatrixRow</a></li><li class="chapter-item "><a href="HALion-Script/pages/Slot.html">Slot</a></li><li class="chapter-item "><a href="HALion-Script/pages/Zone.html">Zone</a></li></ol></li><li class="chapter-item "><a href="HALion-Script/pages/Event.html">Event</a></li><li class="chapter-item "><a href="HALion-Script/pages/LoadProgress.html">LoadProgress</a></li><li class="chapter-item "><a href="HALion-Script/pages/ParameterDefinition.html">ParameterDefinition</a></li></ol></li><li class="chapter-item "><a href="HALion-Script/pages/Reference.html">Reference</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Script/pages/addLayerPassword.html">addLayerPassword</a></li><li class="chapter-item "><a href="HALion-Script/pages/addQCAssignment.html">addQCAssignment</a></li><li class="chapter-item "><a href="HALion-Script/pages/afterTouch.html">afterTouch</a></li><li class="chapter-item "><a href="HALion-Script/pages/AlternateData-Table.html">AlternateData Table</a></li><li class="chapter-item "><a href="HALion-Script/pages/analyzePitch.html">analyzePitch</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendBus.html">appendBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendEffect.html">appendEffect</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendLayer.html">appendLayer</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendLayerAsync.html">appendLayerAsync</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendMidiModule.html">appendMidiModule</a></li><li class="chapter-item "><a href="HALion-Script/pages/appendZone.html">appendZone</a></li><li class="chapter-item "><a href="HALion-Script/pages/assignAutomation.html">assignAutomation</a></li><li class="chapter-item "><a href="HALion-Script/pages/AudioFileopen.html">AudioFile.open</a></li><li class="chapter-item "><a href="HALion-Script/pages/beat2ms.html">beat2ms</a></li><li class="chapter-item "><a href="HALion-Script/pages/Bus-Constructor.html">Bus Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/Bypass-Masks.html">Bypass Masks</a></li><li class="chapter-item "><a href="HALion-Script/pages/calcModulation.html">calcModulation</a></li><li class="chapter-item "><a href="HALion-Script/pages/cancelDecompose.html">cancelDecompose</a></li><li class="chapter-item "><a href="HALion-Script/pages/cancelPitchAnalysis.html">cancelPitchAnalysis</a></li><li class="chapter-item "><a href="HALion-Script/pages/changeNoteExpression.html">changeNoteExpression</a></li><li class="chapter-item "><a href="HALion-Script/pages/changePan.html">changePan</a></li><li class="chapter-item "><a href="HALion-Script/pages/changeTune.html">changeTune</a></li><li class="chapter-item "><a href="HALion-Script/pages/changeVolume.html">changeVolume</a></li><li class="chapter-item "><a href="HALion-Script/pages/changeVolumedB.html">changeVolumedB</a></li><li class="chapter-item "><a href="HALion-Script/pages/clone.html">clone</a></li><li class="chapter-item "><a href="HALion-Script/pages/controlChange.html">controlChange</a></li><li class="chapter-item "><a href="HALion-Script/pages/Controller-Numbers.html">Controller Numbers</a></li><li class="chapter-item "><a href="HALion-Script/pages/decompose.html">decompose</a></li><li class="chapter-item "><a href="HALion-Script/pages/Decompose-Output-Modes.html">Decompose Output Modes</a></li><li class="chapter-item "><a href="HALion-Script/pages/defineModulation.html">defineModulation</a></li><li class="chapter-item "><a href="HALion-Script/pages/defineParameter.html">defineParameter</a></li><li class="chapter-item "><a href="HALion-Script/pages/defineSlotLocal.html">defineSlotLocal</a></li><li class="chapter-item "><a href="HALion-Script/pages/Effect-Constructor.html">Effect Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/endUndoBlock.html">endUndoBlock</a></li><li class="chapter-item "><a href="HALion-Script/pages/Event-Constructor.html">Event Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/Event-Types.html">Event Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/fade.html">fade</a></li><li class="chapter-item "><a href="HALion-Script/pages/findBusses.html">findBusses</a></li><li class="chapter-item "><a href="HALion-Script/pages/findChildren.html">findChildren</a></li><li class="chapter-item "><a href="HALion-Script/pages/findEffects.html">findEffects</a></li><li class="chapter-item "><a href="HALion-Script/pages/findLayers.html">findLayers</a></li><li class="chapter-item "><a href="HALion-Script/pages/findMidiModules.html">findMidiModules</a></li><li class="chapter-item "><a href="HALion-Script/pages/findSlots.html">findSlots</a></li><li class="chapter-item "><a href="HALion-Script/pages/findZones.html">findZones</a></li><li class="chapter-item "><a href="HALion-Script/pages/forgetAutomation.html">forgetAutomation</a></li><li class="chapter-item "><a href="HALion-Script/pages/getAllocatedMemory.html">getAllocatedMemory</a></li><li class="chapter-item "><a href="HALion-Script/pages/getAutomationIndex.html">getAutomationIndex</a></li><li class="chapter-item "><a href="HALion-Script/pages/getBarDuration.html">getBarDuration</a></li><li class="chapter-item "><a href="HALion-Script/pages/getBeatDuration.html">getBeatDuration</a></li><li class="chapter-item "><a href="HALion-Script/pages/getBeatTime.html">getBeatTime</a></li><li class="chapter-item "><a href="HALion-Script/pages/getBeatTimeInBar.html">getBeatTimeInBar</a></li><li class="chapter-item "><a href="HALion-Script/pages/getBus.html">getBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/getCC.html">getCC</a></li><li class="chapter-item "><a href="HALion-Script/pages/getChild.html">getChild</a></li><li class="chapter-item "><a href="HALion-Script/pages/getContext.html">getContext</a></li><li class="chapter-item "><a href="HALion-Script/pages/getDecomposeOutputPath.html">getDecomposeOutputPath</a></li><li class="chapter-item "><a href="HALion-Script/pages/getDecomposeProgress.html">getDecomposeProgress</a></li><li class="chapter-item "><a href="HALion-Script/pages/getDecomposeSettings.html">getDecomposeSettings</a></li><li class="chapter-item "><a href="HALion-Script/pages/getDisplayString.html">getDisplayString</a></li><li class="chapter-item "><a href="HALion-Script/pages/getEffect.html">getEffect</a></li><li class="chapter-item "><a href="HALion-Script/pages/getElement.html">getElement</a></li><li class="chapter-item "><a href="HALion-Script/pages/getFreeVoices.html">getFreeVoices</a></li><li class="chapter-item "><a href="HALion-Script/pages/getHostName.html">getHostName</a></li><li class="chapter-item "><a href="HALion-Script/pages/getHostVersion.html">getHostVersion</a></li><li class="chapter-item "><a href="HALion-Script/pages/getKeyProperties.html">getKeyProperties</a></li><li class="chapter-item "><a href="HALion-Script/pages/getKeySwitches.html">getKeySwitches</a></li><li class="chapter-item "><a href="HALion-Script/pages/getLayer.html">getLayer</a></li><li class="chapter-item "><a href="HALion-Script/pages/getMidiModule.html">getMidiModule</a></li><li class="chapter-item "><a href="HALion-Script/pages/getModulationMatrixRow.html">getModulationMatrixRow</a></li><li class="chapter-item "><a href="HALion-Script/pages/getMsTime.html">getMsTime</a></li><li class="chapter-item "><a href="HALion-Script/pages/getNoteDuration.html">getNoteDuration</a></li><li class="chapter-item "><a href="HALion-Script/pages/getNoteExpression.html">getNoteExpression</a></li><li class="chapter-item "><a href="HALion-Script/pages/getNoteExpressionProperties.html">getNoteExpressionProperties</a></li><li class="chapter-item "><a href="HALion-Script/pages/getNumQCAssignments.html">getNumQCAssignments</a></li><li class="chapter-item "><a href="HALion-Script/pages/getOnsets.html">getOnsets</a></li><li class="chapter-item "><a href="HALion-Script/pages/getOutputBus.html">getOutputBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/getParameter.html">getParameter</a></li><li class="chapter-item "><a href="HALion-Script/pages/getParameterDefinition.html">getParameterDefinition</a></li><li class="chapter-item "><a href="HALion-Script/pages/getParameterNormalized.html">getParameterNormalized</a></li><li class="chapter-item "><a href="HALion-Script/pages/getPeak.html">getPeak</a></li><li class="chapter-item "><a href="HALion-Script/pages/getPitch.html">getPitch</a></li><li class="chapter-item "><a href="HALion-Script/pages/getPitchAnalysisProgress.html">getPitchAnalysisProgress</a></li><li class="chapter-item "><a href="HALion-Script/pages/getProcessedSamples.html">getProcessedSamples</a></li><li class="chapter-item "><a href="HALion-Script/pages/getProductName.html">getProductName</a></li><li class="chapter-item "><a href="HALion-Script/pages/getProductVersion.html">getProductVersion</a></li><li class="chapter-item "><a href="HALion-Script/pages/getProgram.html">getProgram</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentBypass.html">getQCAssignmentBypass</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentCurve.html">getQCAssignmentCurve</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentMax.html">getQCAssignmentMax</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentMin.html">getQCAssignmentMin</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentMode.html">getQCAssignmentMode</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentParamId.html">getQCAssignmentParamId</a></li><li class="chapter-item "><a href="HALion-Script/pages/getQCAssignmentScope.html">getQCAssignmentScope</a></li><li class="chapter-item "><a href="HALion-Script/pages/getSamplingRate.html">getSamplingRate</a></li><li class="chapter-item "><a href="HALion-Script/pages/getScriptExecTimeOut.html">getScriptExecTimeOut</a></li><li class="chapter-item "><a href="HALion-Script/pages/getScriptVersion.html">getScriptVersion</a></li><li class="chapter-item "><a href="HALion-Script/pages/getSlot.html">getSlot</a></li><li class="chapter-item "><a href="HALion-Script/pages/getSlotIndex.html">getSlotIndex</a></li><li class="chapter-item "><a href="HALion-Script/pages/getSource1.html">getSource1</a></li><li class="chapter-item "><a href="HALion-Script/pages/getSource2.html">getSource2</a></li><li class="chapter-item "><a href="HALion-Script/pages/getTempo.html">getTempo</a></li><li class="chapter-item "><a href="HALion-Script/pages/getTime.html">getTime</a></li><li class="chapter-item "><a href="HALion-Script/pages/getTimeSignature.html">getTimeSignature</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUndoContext.html">getUndoContext</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUsedMemory.html">getUsedMemory</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUsedVoices.html">getUsedVoices</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUserPresetPath.html">getUserPresetPath</a></li><li class="chapter-item "><a href="HALion-Script/pages/getUserSubPresetPath.html">getUserSubPresetPath</a></li><li class="chapter-item "><a href="HALion-Script/pages/getVoices.html">getVoices</a></li><li class="chapter-item "><a href="HALion-Script/pages/getZone.html">getZone</a></li><li class="chapter-item "><a href="HALion-Script/pages/hasParameter.html">hasParameter</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertBus.html">insertBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertEffect.html">insertEffect</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertEnvelopePoint.html">insertEnvelopePoint</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertEvent.html">insertEvent</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertLayer.html">insertLayer</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertLayerAsync.html">insertLayerAsync</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertMidiModule.html">insertMidiModule</a></li><li class="chapter-item "><a href="HALion-Script/pages/insertZone.html">insertZone</a></li><li class="chapter-item "><a href="HALion-Script/pages/isKeyDown.html">isKeyDown</a></li><li class="chapter-item "><a href="HALion-Script/pages/isNoteHeld.html">isNoteHeld</a></li><li class="chapter-item "><a href="HALion-Script/pages/isOctaveKeyDown.html">isOctaveKeyDown</a></li><li class="chapter-item "><a href="HALion-Script/pages/isPlaying.html">isPlaying</a></li><li class="chapter-item "><a href="HALion-Script/pages/Layer-Constructor.html">Layer Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/loadPreset.html">loadPreset</a></li><li class="chapter-item "><a href="HALion-Script/pages/loadPresetAsync.html">loadPresetAsync</a></li><li class="chapter-item "><a href="HALion-Script/pages/messageBox.html">messageBox</a></li><li class="chapter-item "><a href="HALion-Script/pages/MIDI-File-Format-Types.html">MIDI File Format Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/MidiModule-Constructor.html">MidiModule Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/MIDI-Sequence-Table.html">MIDI Sequence Table</a></li><li class="chapter-item "><a href="HALion-Script/pages/Modulation-Destination-Types.html">Modulation Destination Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/Modulation-Source-Types.html">Modulation Source Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/ms2beat.html">ms2beat</a></li><li class="chapter-item "><a href="HALion-Script/pages/ms2samples.html">ms2samples</a></li><li class="chapter-item "><a href="HALion-Script/pages/Note-Expression-Types.html">Note Expression Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/onAfterTouch.html">onAfterTouch</a></li><li class="chapter-item "><a href="HALion-Script/pages/onController.html">onController</a></li><li class="chapter-item "><a href="HALion-Script/pages/onData.html">onData</a></li><li class="chapter-item "><a href="HALion-Script/pages/onIdle.html">onIdle</a></li><li class="chapter-item "><a href="HALion-Script/pages/onInit.html">onInit</a></li><li class="chapter-item "><a href="HALion-Script/pages/onLoad.html">onLoad</a></li><li class="chapter-item "><a href="HALion-Script/pages/onLoadIntoSlot.html">onLoadIntoSlot</a></li><li class="chapter-item "><a href="HALion-Script/pages/onLoadSubPreset.html">onLoadSubPreset</a></li><li class="chapter-item "><a href="HALion-Script/pages/onNote.html">onNote</a></li><li class="chapter-item "><a href="HALion-Script/pages/onNoteExpression.html">onNoteExpression</a></li><li class="chapter-item "><a href="HALion-Script/pages/onPitchBend.html">onPitchBend</a></li><li class="chapter-item "><a href="HALion-Script/pages/onRelease.html">onRelease</a></li><li class="chapter-item "><a href="HALion-Script/pages/onRemoveFromSlot.html">onRemoveFromSlot</a></li><li class="chapter-item "><a href="HALion-Script/pages/onRetrigger.html">onRetrigger</a></li><li class="chapter-item "><a href="HALion-Script/pages/onSave.html">onSave</a></li><li class="chapter-item "><a href="HALion-Script/pages/onSaveSubPreset.html">onSaveSubPreset</a></li><li class="chapter-item "><a href="HALion-Script/pages/onTriggerPad.html">onTriggerPad</a></li><li class="chapter-item "><a href="HALion-Script/pages/onUnhandledEvent.html">onUnhandledEvent</a></li><li class="chapter-item "><a href="HALion-Script/pages/openURL.html">openURL</a></li><li class="chapter-item "><a href="HALion-Script/pages/pitchBend.html">pitchBend</a></li><li class="chapter-item "><a href="HALion-Script/pages/playNote.html">playNote</a></li><li class="chapter-item "><a href="HALion-Script/pages/playTriggerPad.html">playTriggerPad</a></li><li class="chapter-item "><a href="HALion-Script/pages/postEvent.html">postEvent</a></li><li class="chapter-item "><a href="HALion-Script/pages/printRaw.html">printRaw</a></li><li class="chapter-item "><a href="HALion-Script/pages/Program-Constructor.html">Program Constructor</a></li><li class="chapter-item "><a href="HALion-Script/pages/Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></li><li class="chapter-item "><a href="HALion-Script/pages/readMidiFile.html">readMidiFile</a></li><li class="chapter-item "><a href="HALion-Script/pages/releaseVoice.html">releaseVoice</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeBus.html">removeBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeEffect.html">removeEffect</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeEnvelopePoint.html">removeEnvelopePoint</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeFromParent.html">removeFromParent</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeLayer.html">removeLayer</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeMidiModule.html">removeMidiModule</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeQCAssignment.html">removeQCAssignment</a></li><li class="chapter-item "><a href="HALion-Script/pages/removeZone.html">removeZone</a></li><li class="chapter-item "><a href="HALion-Script/pages/runAsync.html">runAsync</a></li><li class="chapter-item "><a href="HALion-Script/pages/runSync.html">runSync</a></li><li class="chapter-item "><a href="HALion-Script/pages/samples2ms.html">samples2ms</a></li><li class="chapter-item "><a href="HALion-Script/pages/savePreset.html">savePreset</a></li><li class="chapter-item "><a href="HALion-Script/pages/setBypassNoteOff.html">setBypassNoteOff</a></li><li class="chapter-item "><a href="HALion-Script/pages/setName.html">setName</a></li><li class="chapter-item "><a href="HALion-Script/pages/setOutputBus.html">setOutputBus</a></li><li class="chapter-item "><a href="HALion-Script/pages/setParameter.html">setParameter</a></li><li class="chapter-item "><a href="HALion-Script/pages/setParameterNormalized.html">setParameterNormalized</a></li><li class="chapter-item "><a href="HALion-Script/pages/setProgram.html">setProgram</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentBypass.html">setQCAssignmentBypass</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentCurve.html">setQCAssignmentCurve</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentMax.html">setQCAssignmentMax</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentMin.html">setQCAssignmentMin</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentMode.html">setQCAssignmentMode</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentParamId.html">setQCAssignmentParamId</a></li><li class="chapter-item "><a href="HALion-Script/pages/setQCAssignmentScope.html">setQCAssignmentScope</a></li><li class="chapter-item "><a href="HALion-Script/pages/setScriptExecTimeOut.html">setScriptExecTimeOut</a></li><li class="chapter-item "><a href="HALion-Script/pages/setSource1.html">setSource1</a></li><li class="chapter-item "><a href="HALion-Script/pages/setSource2.html">setSource2</a></li><li class="chapter-item "><a href="HALion-Script/pages/setZoneFMXAlgo.html">setZoneFMXAlgo</a></li><li class="chapter-item "><a href="HALion-Script/pages/sortEvents.html">sortEvents</a></li><li class="chapter-item "><a href="HALion-Script/pages/spawn.html">spawn</a></li><li class="chapter-item "><a href="HALion-Script/pages/startUndoBlock.html">startUndoBlock</a></li><li class="chapter-item "><a href="HALion-Script/pages/startWriteOutputToFile.html">startWriteOutputToFile</a></li><li class="chapter-item "><a href="HALion-Script/pages/stopWriteOutputToFile.html">stopWriteOutputToFile</a></li><li class="chapter-item "><a href="HALion-Script/pages/Undo-Context-Types.html">Undo Context Types</a></li><li class="chapter-item "><a href="HALion-Script/pages/VoiceGroupsData-Table.html">VoiceGroupsData Table</a></li><li class="chapter-item "><a href="HALion-Script/pages/Voice-Group-Steal-Modes.html">Voice Group Steal Modes</a></li><li class="chapter-item "><a href="HALion-Script/pages/wait.html">wait</a></li><li class="chapter-item "><a href="HALion-Script/pages/waitBeat.html">waitBeat</a></li><li class="chapter-item "><a href="HALion-Script/pages/waitForRelease.html">waitForRelease</a></li><li class="chapter-item "><a href="HALion-Script/pages/writeMidiFile.html">writeMidiFile</a></li><li class="chapter-item "><a href="HALion-Script/pages/Zone-Constructor.html">Zone Constructor</a></li></ol></li><li class="chapter-item "><li class="part-title">HALion Macro Page</li><li class="chapter-item "><a href="HALion-Macro-Page/pages/HALion-Macro-Page.html">HALion Macro Page</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Example-Macro-Pages.html">Example Macro Pages</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Exploring-Templates.html">Exploring Templates</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Resources.html">Resources</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Color.html">Color</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Decor-Resource.html">Decor (Resource)</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Font.html">Font</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Section.html">Section</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/SVG.html">SVG</a></li></ol></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Controls.html">Controls</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Macro-Page/pages/Animation.html">Animation</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Decor-Control.html">Decor (Control)</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Disable.html">Disable</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Drag-Group.html">Drag Group</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Drop.html">Drop</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Group.html">Group</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Image.html">Image</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Internal.html">Internal</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Knob.html">Knob</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Label.html">Label</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Live-Data-View.html">Live Data View</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Menu.html">Menu</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Meter.html">Meter</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Range-Slider.html">Range Slider</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Slider.html">Slider</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Stack.html">Stack</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Step-Modulator.html">Step Modulator</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Switch.html">Switch</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Template.html">Template</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Template-List.html">Template List</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Text.html">Text</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Waveform.html">Waveform</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Wavetable.html">Wavetable</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Wavetable-3D.html">Wavetable 3D</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/XY.html">XY</a></li></ol></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Templates.html">Templates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Macro-Page/pages/About-Box.html">About Box</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Animation-Script.html">Animation Script</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Curve-Editor.html">Curve Editor</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Envelope.html">Envelope</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Envelope-Shaper.html">Envelope Shaper</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/FlexPhraser.html">FlexPhraser</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html">FlexPhraserStepSeq</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/FX-Meter.html">FX Meter</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/MIDI-Player.html">MIDI Player</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Mixer-Channel.html">Mixer Channel</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Path-Browser.html">Path Browser</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Sample-Display.html">Sample Display</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html">Step Modulator(Template)</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html">Studio EQ Meter</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html">Wavetable Noise Selector</a></li><li class="chapter-item "><a href="HALion-Macro-Page/pages/Wavetable-Selector.html">Wavetable Selector</a></li></ol></li><li class="chapter-item "><li class="part-title">HALion Tutorials & Guidelines</li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/HALion-Tutorials-Guidelines.html">HALion Tutorials & Guidelines</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Getting-Started.html">Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/HALion-Libraries.html">HALion Libraries</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html">Creating Instruments</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Exploring-the-Tutorials-and-How-tos.html">Exploring the Turorials and How-tos</a></li></ol></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Tutorials.html">Tutorials</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html">Creating a Template List</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html">Using Attribute Rules</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html">Using Relative Paths</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html">Using Velocity Crossfades</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Properties.html">Working with Exported Properties</a></li></ol></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/How-tos.html">How-tos</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html">Animating and Modifying SVGs</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html">Animating Switches Using SVGs</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html">Custom Multi-Level Menus</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html">Custom Multi-Level Menus II</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html">Custom Popup Menus</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html">Dynamic Template References</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Map-Samples-to-Root-Key.html">Map Samples to Root Key</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/MIDI-Note-Parameters.html">MIDI Note Parameters</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html">Modifying SVGs with Multiple Objects</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html">Multi-Level System Menus</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Relative-Paths.html">Relative Paths</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Switching-Control-Templates.html">Switching Control Templates</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Using-Mouse-States-in-SVGs.html">Using Mouse States in SVGs</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html">Working with Exported Variables</a></li></ol></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Guidelines.html">Guidelines</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html">HS Preset Guideline</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/Quick-Controls-Guideline.html">Quick Controls Guideline</a></li><li class="chapter-item "><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html">MediaBay Guideline</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.10</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="halion-developer-resource"><a class="header" href="#halion-developer-resource">HALion Developer Resource</a></h1>
<p>Please choose from the below to learn how to get started and find short examples and detailed information on the selected topic.</p>
<div class="image-container">
    <div class="image-with-caption">
        <a href="./HALion-Script/pages/HALion-Script.html">
            <img src="Scripting.png">
            <figcaption><a href="./HALion-Script/pages/HALion-Script.html">HALion Script</a></figcaption>
        </a>
    </div>
    <div class="image-with-caption">
        <a href="./HALion-Macro-Page/pages/HALion-Macro-Page.html">
            <img src="Macro-Page-Designer.png">
            <figcaption><a href="./HALion-Macro-Page/pages/HALion-Macro-Page.html">HALion Macro Page</a></figcaption>
        </a>
    </div>
    <div class="image-with-caption">
        <a href="./HALion-Tutorials-Guidelines/pages/HALion-Tutorials-Guidelines.html">
            <img src="Library-Creator.png">
            <figcaption><a href="./HALion-Tutorials-Guidelines/pages/HALion-Tutorials-Guidelines.html">HALion Tutorials & Guidelines</a></figcaption>
        </a>
    </div>
</div>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> /</p>
<h1 id="halion-script"><a class="header" href="#halion-script">HALion Script</a></h1>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<p>This section provides general information about HALion Script and the Lua scripting language.
Links for learning more about Lua can be found in <a href="HALion-Script/pages/./What-is-HALion-Script.html">What is HALion Script?</a>.</p>
<h2 id="diving-deeper"><a class="header" href="#diving-deeper">Diving Deeper</a></h2>
<p>This section provides information about the inner workings of HALion and its implementation of the Lua scripting language. How to protect your work is described in <a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a> and <a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a>.</p>
<h2 id="halion-script-reference"><a class="header" href="#halion-script-reference">HALion Script Reference</a></h2>
<p>The classes and functions of the HALion Script language are described in the <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> and on the <a href="HALion-Script/pages/./Reference.html">Reference</a> pages. Many of the descriptions provide small code examples. For more details, see <a href="HALion-Script/pages/./Exploring-the-Code-Examples.html">Exploring the Code Examples</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> /</p>
<h1 id="getting-started-1"><a class="header" href="#getting-started-1">Getting Started</a></h1>
<p>This section provides general information about HALion Script and the Lua scripting language.</p>
<ul>
<li><a href="HALion-Script/pages/./What-is-HALion-Script.html">What is HALion Script?</a></li>
<li><a href="HALion-Script/pages/./Exploring-the-Code-Examples.html">Exploring the Code Examples</a></li>
<li><a href="HALion-Script/pages/./Lua-Syntax-Highlighting.html">Lua Syntax Highlighting</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="what-is-halion-script"><a class="header" href="#what-is-halion-script">What is HALion Script?</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/What-is-HALion-Script.html#lua-resources">Lua Resources</a></li>
<li><a href="HALion-Script/pages/What-is-HALion-Script.html#lua-release">Lua Release</a></li>
</ul>
<hr />
<p>HALion Script allows you to customize and expand the features of HALion to a great extent. It is a domain-specific programming language based on the Lua scripting language. It comes with many functions tailored to HALion, while maintaining the general programmability of Lua. HALion Script allows you to manipulate musical events, access and modify parameters of HALion, control the behavior of macro pages, and much more. All of this can enhance your instrument creation greatly.</p>
<p><strong>Fields of application:</strong></p>
<ul>
<li>Arpeggiation and sequencing</li>
<li>Chord generation and recognition</li>
<li>Microtonal music and alternative scales</li>
<li>Algorithmic composition</li>
<li>Advanced, interactive playback for creating more realistic performances</li>
<li>Custom-built workflows for macro pages</li>
<li>Automization of repeating tasks while building large-scale libraries</li>
</ul>
<p><a href="HALion-Script/pages/What-is-HALion-Script.html#what-is-halion-script">Jump to Top </a></p>
<h2 id="lua-resources"><a class="header" href="#lua-resources">Lua Resources</a></h2>
<p>Lua is a very common scripting language, used in many professional fields, such as game development or image processing, for example. To find out more about Lua, please visit <a href="https://lua.org">lua.org</a>. For learning Lua, we recommend the official book <a href="https://www.lua.org/pil/">Programming in Lua</a> and <a href="https://www.lua.org/manual/5.2/">Lua's Reference Manual</a>.</p>
<p><a href="HALion-Script/pages/What-is-HALion-Script.html#what-is-halion-script">Jump to Top </a></p>
<h2 id="lua-release"><a class="header" href="#lua-release">Lua Release</a></h2>
<p>HALion Script uses <a href="https://www.lua.org/manual/5.2/">Lua 5.2.3</a> with the following standard libraries:</p>
<ul>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.1">basic library</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.3">package library</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.4">string manipulation</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.5">table manipulation</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.6">mathematical functions</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.7">bitwise operations</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.8">input and output facilities</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.9">operating system facilities</a></li>
<li><a href="https://www.lua.org/manual/5.2/manual.html#6.10">debug facilities</a></li>
</ul>
<blockquote>
<p>❕ The standard library <a href="https://www.lua.org/manual/5.2/manual.html#6.2">coroutine</a> is not supported. Furthermore, the functions <code>io.popen</code>, <code>io.tmpfile</code>, <code>os.execute</code>, <code>os.exit</code>, <code>os.getenv</code>, <code>os.setlocale</code> and <code>os.tmpname</code> are not supported.</p>
</blockquote>
<p>The classes and functions of the HALion Script language are described in the <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> and on the <a href="HALion-Script/pages/./Reference.html">Reference</a> pages. Many of the descriptions provide small code examples. For more details, see <a href="HALion-Script/pages/./Exploring-the-Code-Examples.html">Exploring the Code Examples</a>.</p>
<p><a href="HALion-Script/pages/What-is-HALion-Script.html#what-is-halion-script">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="exploring-the-code-examples"><a class="header" href="#exploring-the-code-examples">Exploring the Code Examples</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Exploring-the-Code-Examples.html#program-for-code-examples">Program for Code Examples</a></li>
<li><a href="HALion-Script/pages/Exploring-the-Code-Examples.html#loading-the-code-examples">Loading the Code Examples</a></li>
</ul>
<hr />
<p>Many of the classes and functions that are are described in the <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> and on the <a href="HALion-Script/pages/./Reference.html">Reference</a> pages provide working code examples. The code examples use syntax highlighting. Comments are displayed in green, functions in magenta and values in blue, for example. See <a href="HALion-Script/pages/./Lua-Syntax-Highlighting.html">Lua Syntax Highlighting</a> for more details.</p>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-lua">-- "Hello world!" Lua script

print("Hello world!")
</code></pre>
<p>The easiest way to explore the code examples is to copy the code to the clipboard and to paste it to the internal script editor of the Lua Script MIDI module. Please read on for information on how to do this.</p>
<p><a href="HALion-Script/pages/Exploring-the-Code-Examples.html#exploring-the-code-examples">Jump to Top </a></p>
<h2 id="program-for-code-examples"><a class="header" href="#program-for-code-examples">Program for Code Examples</a></h2>
<p>If not stated otherwise, the following simple program will be sufficient for exploring the code examples in HALion.</p>
<ol>
<li>Download the program <a href="HALion-Script/pages/../vstpresets/Explore%20Code%20Examples.vstpreset">Explore Code Examples.vstpreset</a></li>
<li>Drag the program to the <strong>Slot Rack</strong>.</li>
</ol>
<p>To create the program manually, proceed as follows:</p>
<ol>
<li>Select an empty program in the <strong>Program Table</strong>.</li>
<li>In the <strong>Program Tree</strong>, click <strong>Create New MIDI Module</strong> <img src="HALion-Script/pages/../images/Create-New-MIDI-Module.PNG" alt="Create New MIDI Module" /> and select <strong>Lua Script</strong>.</li>
<li>In the <strong>Program Tree</strong>, click <strong>Create New Zone</strong> <img src="HALion-Script/pages/../images/Create-New-Zone.PNG" alt="Create New Zone" /> and select <strong>Synth Zone</strong>.</li>
<li>Load the program to the <strong>Slot Rack</strong>.</li>
</ol>
<p>This is how your program should look like in the <strong>Program Tree</strong>.</p>
<p><img src="HALion-Script/pages/../images/Simple-Program.PNG" alt="Simple Program" /></p>
<p><a href="HALion-Script/pages/Exploring-the-Code-Examples.html#exploring-the-code-examples">Jump to Top </a></p>
<h2 id="loading-the-code-examples"><a class="header" href="#loading-the-code-examples">Loading the Code Examples</a></h2>
<p>The program described above should be loaded in the <strong>Slot Rack</strong>.</p>
<ol>
<li>Open a page with a code example, for example, <a href="HALion-Script/pages/./onNote.html">onNote</a>.</li>
<li>Double-click the code example to select all lines and press <strong>Ctrl/Cmd-C</strong> to copy the code to the clipboard.</li>
<li>Go to HALion and select <strong>Lua Script</strong> in the <strong>Program Tree</strong>.</li>
<li>Open the section for the <strong>Lua Script MIDI module</strong>, either in the <strong>Sound</strong> editor or in the <strong>MIDI Modules</strong> editor.</li>
<li>Click <strong>Edit Script</strong> to open the internal <strong>Script Editor</strong>.</li>
<li>Click the <strong>Script Editor</strong> window to bring it to focus and press <strong>Ctrl/Cmd-V</strong> to paste the code from the clipboard.</li>
<li>Click <strong>OK</strong> to activate the script.</li>
</ol>
<p><img src="HALion-Script/pages/../images/Internal-Script-Editor.PNG" alt="Internal Script Editor" /></p>
<p>Depending on the code example, you usually have to play a note or send a MIDI controller to get a sound or output message from the script. Typically, the description of the feature and the comments in the code will give you enough hints on what to do. In the example above, <a href="HALion-Script/pages/./onNote.html">onNote</a> prints the note ID, the MIDI note number and the MIDI velocity each time you play a note.</p>
<p><img src="HALion-Script/pages/../images/Script-Output.PNG" alt="Script Output Messages" /></p>
<p><a href="HALion-Script/pages/Exploring-the-Code-Examples.html#exploring-the-code-examples">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="lua-syntax-highlighting"><a class="header" href="#lua-syntax-highlighting">Lua Syntax Highlighting</a></h1>
<p>The following pseudo code examplifies the Lua syntax highlighting used throughout this documentation.</p>
<pre><code class="language-lua">--single line comment
  
--[[
    block comment
--]]
  
--keywords
and       break     do        else      elseif    end
false     for       function  goto      if        in
local     nil       not       or        repeat    return
then      true      until     while
  
--strings
a = 'alo\n123"'
a = "alo\n123\""
a = '\97lo\10\04923"'
a = [[alo
123"]]
a = [==[
alo
123"]==]
  
--numbers
3     3.0     3.1416     314.16e-2     0.31416E1
0xff  0x0.1E  0xA23p-4   0X1.921FB54442D18P+1
  
--functions
print(a)
print("Hello")
print(123)
  
for k,v in ipairs(t)
    print(v)
end
</code></pre>
<p>Keywords, strings and numbers extracted from <a href="https://www.lua.org/manual/5.2/manual.html#3">Lua's Reference Manual, Chapter 3 - The Language</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> /</p>
<h1 id="diving-deeper-1"><a class="header" href="#diving-deeper-1">Diving Deeper</a></h1>
<p>This section provides information about the inner workings of HALion and its implementation of the Lua scripting language. How to protect your work is described in <a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a> and <a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a>.</p>
<ul>
<li><a href="HALion-Script/pages/./Working-with-Objects.html">Working with Objects</a></li>
<li><a href="HALion-Script/pages/./Working-with-UI-Scripts.html">Working with UI Scripts</a></li>
<li><a href="HALion-Script/pages/./Threads-in-HALion.html">Threads in HALion</a></li>
<li><a href="HALion-Script/pages/./Script-Initialization.html">Script Initialization</a></li>
<li><a href="HALion-Script/pages/./Creating-Parameters.html">Creating Parameters</a></li>
<li><a href="HALion-Script/pages/./Working-with-Parameters.html">Working with Parameters</a></li>
<li><a href="HALion-Script/pages/./Using-Slot-Local-Variables.html">Using Slot Local Variables</a></li>
<li><a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a></li>
<li><a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a></li>
<li><a href="HALion-Script/pages/./Using-External-Files.html">Using External Files</a></li>
<li><a href="HALion-Script/pages/./Debugging-with-LDT.html">Debugging with LDT</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="working-with-objects"><a class="header" href="#working-with-objects">Working with Objects</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Working-with-Objects.html#objects-and-classes">Objects and Classes</a></li>
<li><a href="HALion-Script/pages/Working-with-Objects.html#class-reference">Class Reference</a></li>
<li><a href="HALion-Script/pages/Working-with-Objects.html#addressing-objects">Addressing Objects</a></li>
<li><a href="HALion-Script/pages/Working-with-Objects.html#calling-methods">Calling Methods</a></li>
<li><a href="HALion-Script/pages/Working-with-Objects.html#using-type-on-objects">Using type() on Objects</a></li>
</ul>
<hr />
<p>In the HALion Script language, elements that make up the program, MIDI and note expression events, the definitions of parameters, etc., are all represented by <em>objects</em>. HALion Script provides dedicated functions for modifying these objects. To understand the principles of writing scripts that operate on objects, some terminology from object-oriented programming will be helpful.</p>
<h2 id="objects-and-classes"><a class="header" href="#objects-and-classes">Objects and Classes</a></h2>
<p>Object-oriented programming (OOP) is a style of programming based on the concept of objects. In OOP objects are organized in classes. A class provides data fields and methods for an object. The data fields describe what the object is and the methods describe what it can do. A concrete occurance of an object is called an instance. The elements in the <strong>Program Tree</strong> are instances of different types of objects, for example, <a href="HALion-Script/pages/./Bus.html">Bus</a> objects, <a href="HALion-Script/pages/./Layer.html">Layer</a> objects,  <a href="HALion-Script/pages/./Zone.html">Zone</a> objects, etc. MIDI and note expression events are represented by <a href="HALion-Script/pages/./Event.html">Event</a> objects and each parameter has a <a href="HALion-Script/pages/./getParameterDefinition.html">ParameterDefinition</a> object.</p>
<h2 id="class-reference"><a class="header" href="#class-reference">Class Reference</a></h2>
<p>The classes/objects of the HALion Script language are structured in the following class hierarchy.</p>
<h4 id="halion-script-class-hierarchy"><a class="header" href="#halion-script-class-hierarchy">HALion Script Class Hierarchy</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Audio-File.html">Audio File</a></li>
<li><a href="HALion-Script/pages/./Element.html">Element</a>
<ul>
<li><a href="HALion-Script/pages/./Bus.html">Bus</a></li>
<li><a href="HALion-Script/pages/./Effect.html">Effect</a></li>
<li><a href="HALion-Script/pages/./Instance.html">Instance</a></li>
<li><a href="HALion-Script/pages/./Layer.html">Layer</a>
<ul>
<li><a href="HALion-Script/pages/./Program.html">Program</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></li>
<li><a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a></li>
<li><a href="HALion-Script/pages/./Slot.html">Slot</a></li>
<li><a href="HALion-Script/pages/./Zone.html">Zone</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/./Event.html">Event</a></li>
<li><a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a></li>
<li><a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a></li>
</ul>
<p>Classes deeper down inherit the data fields and methods of classes higher up in the class hierarchy. For example, the classes <a href="HALion-Script/pages/./Bus-Constructor.html">Bus</a>, <a href="HALion-Script/pages/./Instance.html">Instance</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a>, and so on, inherit all data fields and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class. Subclasses add functionality to their parent class by providing more data fields and methods.</p>
<h2 id="addressing-objects"><a class="header" href="#addressing-objects">Addressing Objects</a></h2>
<p>The Lua Script MIDI module itself can be addressed with <code>this</code>. Further objects can be addressed with <code>this.parent</code>, <code>this.program</code> or with the respective 'get' and 'find' functions.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Syntax</th><th style="text-align: left">Object</th><th style="text-align: left">Class</th></tr></thead><tbody>
<tr><td style="text-align: left">this</td><td style="text-align: left">Returns the object of the script module itself.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></td></tr>
<tr><td style="text-align: left">this.parent</td><td style="text-align: left">Returns the object of the parent element, which can be a Layer or the Program.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a> or <a href="HALion-Script/pages/./Program.html">Program</a></td></tr>
<tr><td style="text-align: left">this.program</td><td style="text-align: left">Returns the object of the Program.</td><td style="text-align: left"><a href="HALion-Script/pages/./Program.html">Program</a></td></tr>
</tbody></table>
</div>
<p>After addressing an object, you can read its fields through dot-notation. In the following example, the name and the type of different objects are printed with <code>.name</code> and <code>.type</code>.</p>
<h4 id="example-1"><a class="header" href="#example-1">Example 1</a></h4>
<pre><code class="language-lua">-- Print the name and type of different objects.

print(this.name, this.type)
print(this.parent.name, this.parent.type)
print(this.program.name, this.program.type)
print(this.program:getChild().name, this.program:getChild().type)
</code></pre>
<h2 id="calling-methods"><a class="header" href="#calling-methods">Calling Methods</a></h2>
<p>To operate on an element in the <strong>Program Tree</strong>, you must first address its object and then call the desired method. The basic syntax is as follows:</p>
<blockquote>
<p><strong>object:method()</strong></p>
</blockquote>
<h4 id="example-2"><a class="header" href="#example-2">Example 2</a></h4>
<pre><code class="language-lua">-- Get the object of the first Zone after the script module.

zone = this.parent:getZone()

-- setName operates on the Zone object.

zone:setName("MyZone")
</code></pre>
<h2 id="using-type-on-objects"><a class="header" href="#using-type-on-objects">Using type() on Objects</a></h2>
<p>For the HALion Script language the type() function of Lua has been extended to return the type of an object.</p>
<h4 id="example-3"><a class="header" href="#example-3">Example 3</a></h4>
<pre><code class="language-lua">-- Print the name of all zones in the program.

elements = this.program:findChildren(true)

for i, element in ipairs(elements) do
    if type(element) == "Zone" then
        print(element.name)
    end
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="working-with-ui-scripts"><a class="header" href="#working-with-ui-scripts">Working with UI Scripts</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Working-with-UI-Scripts.html#executing-ui-scripts">Executing UI Scripts</a>
<ul>
<li><a href="HALion-Script/pages/Working-with-UI-Scripts.html#showhide-output-messages">Show/Hide Output Messages</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Working-with-UI-Scripts.html#addressing-the-elements-of-the-program">Addressing the Elements of the Program</a></li>
</ul>
<p><strong>Related pages:</strong></p>
<ul>
<li><a href="https://steinberg.help/halion/v6/en/halion/topics/midi_modules/lua_script_c.html">steinberg.help / MIDI Modules Reference / Lua Script</a></li>
</ul>
<hr />
<p>HALion offers two types of scripts:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Type</th><th style="text-align: left">Fields of Application</th></tr></thead><tbody>
<tr><td style="text-align: left">MIDI module scripts</td><td style="text-align: left">Process MIDI events, set parameters, etc.</td></tr>
<tr><td style="text-align: left">UI scripts</td><td style="text-align: left">Switching logic for pages and disable views, translation of parameter values to display strings, etc.</td></tr>
</tbody></table>
</div>
<p>UI scripts have the following restrictions:</p>
<ul>
<li>UI scripts are only executed when the UI is open. If the UI is closed, the UI script is not executed anymore.</li>
<li>The parameters defined in a UI script cannot be automated.</li>
</ul>
<blockquote>
<p>❕ MIDI module scripts do not have these restrictions. Therefore, be sure to check if UI scripts are required for a specific task, and if not, use MIDI module scripts instead.</p>
</blockquote>
<h2 id="executing-ui-scripts"><a class="header" href="#executing-ui-scripts">Executing UI Scripts</a></h2>
<p>You can execute UI scripts for the macro page and even for each template. The <strong>Script</strong> section can be found in the <strong>Properties</strong> section in the lower left of the <strong>Macro Page Designer</strong>. Just as with the Lua Script MIDI Module, you can write your scripts with the internal editor or an external editor. See <a href="https://steinberg.help/halion/v6/en/halion/topics/midi_modules/lua_script_c.html">steinberg.help / MIDI Modules Reference / Lua Script</a> for more details.</p>
<ol>
<li>In the <strong>GUI Tree</strong> of the <strong>Macro Page Designer</strong>, select the element that has the macro page attached. Alternatively, select a control element, then go to the <strong>Show Templates</strong> tab and click <strong>Edit Element</strong>.</li>
<li>In the <strong>Properties</strong> section in the lower left of the <strong>Macro Page Designer</strong>, go to the <strong>Script</strong> section.</li>
<li>Click <strong>Edit Script</strong> to open the internal <strong>Script Editor</strong>, then enter your script and press <strong>OK</strong>. Alternatively, click <strong>Load Script</strong> and select a script file from disk.</li>
</ol>
<h3 id="showhide-output-messages"><a class="header" href="#showhide-output-messages">Show/Hide Output Messages</a></h3>
<p>The <strong>Output Messages</strong> section for the UI scripts is hidden by default.</p>
<ul>
<li>In the toolbar of the <strong>Macro Page Designer</strong>, click <strong>Show/Hide Script Output Messages</strong> <img src="HALion-Script/pages/../images/Show-Hide-Script-Output-Messages.PNG" alt="Show/Hide Script Output Messages" /> to show or hide the <strong>Output Messages</strong> below the <strong>Resource / Library Browser</strong>.</li>
</ul>
<p>The <strong>Output Messages</strong> section displays the messages of all UI scripts. The UI script the message belongs to is indicated by a prefix.</p>
<h2 id="addressing-the-elements-of-the-program"><a class="header" href="#addressing-the-elements-of-the-program">Addressing the Elements of the Program</a></h2>
<p>A UI script cannot address the elements of a program directly. To address a program and its elements from the UI script, you must use <a href="HALion-Script/pages/./getElement.html">getElement</a>.</p>
<h4 id="example-1"><a class="header" href="#example-1">Example</a></h4>
<pre><code class="language-lua">-- Must be executed as UI script!
-- Print the name and type of the element that has the macro page attached.

element = getElement()
print(element.name, element.type)

-- Print the name and type of the parent element.

if element.parent then
    print(element.parent.name, element.parent.type)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="threads-in-halion"><a class="header" href="#threads-in-halion">Threads in HALion</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Threads-in-HALion.html#script-error---wrong-thread">Script Error - Wrong Thread</a></li>
<li><a href="HALion-Script/pages/Threads-in-HALion.html#using-runasync">Using runAsync</a></li>
<li><a href="HALion-Script/pages/Threads-in-HALion.html#using-runsync">Using runSync</a></li>
</ul>
<hr />
<p>HALion provides two threads:</p>
<ul>
<li>Parameter changes and the storage of them are handled by the <strong>Controller</strong> thread.</li>
<li>MIDI event processing and sound reproduction happen in the <strong>Processor</strong> thread.</li>
</ul>
<p>You can think of these threads as two sections of code that are exectued in concurrency by HALion. Basically, the two threads are needed to separate longer-lasting function calls from timing-critical function calls. The functions that are called in the <strong>Controller</strong> thread are executed only as fast as required, while the functions that are called in the <strong>Processor</strong> thread are executed within an ASIO block.</p>
<p>The information whether a function can be called in the <strong>Controller</strong> thread, the <strong>Processor</strong> thread, or in both threads, can be found on the <a href="HALion-Script/pages/./Reference.html">Reference</a> pages below the description of each function.</p>
<p>It looks like this:</p>
<blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
</blockquote>
<h2 id="script-error---wrong-thread"><a class="header" href="#script-error---wrong-thread">Script Error - Wrong Thread</a></h2>
<p>If you call a function in the wrong thread, the script module will output an error message.</p>
<h4 id="example-1-1"><a class="header" href="#example-1-1">Example 1</a></h4>
<pre><code class="language-lua">--[[
  Example for a script error when calling a function in the wrong thread.
  The onNote callback runs in the Processor thread. openURL runs in the Controller thread.
  Therefore, openURL cannot be called in onNote. The script produces a script error when playing a note.
--]]
 
function onNote(event)     
  openURL("http://www.steinberg.net/en/home.html")
end
</code></pre>
<p>The output message for the script error of the above example looks like this:</p>
<p><img src="HALion-Script/pages/../images/Script-Error-Wrong-Thread.PNG" alt="Script error - Wrong Thread" /></p>
<p>If this ever happens to you, please review your code and try to place the function call elsewhere in your script. Alternatively, you could use <a href="HALion-Script/pages/./runAsync.html">runAsync</a>.</p>
<h2 id="using-runasync"><a class="header" href="#using-runasync">Using runAsync</a></h2>
<p>By calling <a href="HALion-Script/pages/./runAsync.html">runAsync</a> in the <strong>Processor</strong> thread you can invoke a function that is executed in the <strong>Controller</strong> thread. The execution of <a href="HALion-Script/pages/./runAsync.html">runAsync</a> takes at least one audio block, or longer, depending on the function that was called. Please note that when using <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, the callback that called <a href="HALion-Script/pages/./runAsync.html">runAsync</a> is put on hold until the function has completed.</p>
<h4 id="example-2-1"><a class="header" href="#example-2-1">Example 2</a></h4>
<pre><code class="language-lua">-- Using runAsync to call openURL within onNote.
 
function onNote(event)
  runAsync(function() openURL("http://www.steinberg.net/en/home.html") end)
end
</code></pre>
<h2 id="using-runsync"><a class="header" href="#using-runsync">Using runSync</a></h2>
<p>By calling <a href="HALion-Script/pages/./runSync.html">runSync</a> in the <strong>Controller</strong> thread, you can invoke a function that is executed in the <strong>Processor</strong> thread. For example, by calling <a href="HALion-Script/pages/./runSync.html">runSync</a> in a parameter change callback, you can invoke an event function like <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, etc. The callback that called <a href="HALion-Script/pages/./runSync.html">runSync</a> is not stopped and continues its execution. The specified function will be exectued in the next audio block.</p>
<pre><code class="language-lua">-- Fade all voices, triggered by a script parameter.

defineSlotLocal("noteIDs")
noteIDs = {}
  
function onNote(event)
  local id = postEvent(event)
  table.insert(noteIDs, id)
end
  
function syncFadeAllVoices()
  for i, id in ipairs(noteIDs) do
      fade(id, nil, 0, 1000, true)
  end
  noteIDs = {}
end
  
function fadeAllVoices()
  if fadeVoices then
    runSync(syncFadeAllVoices, 1)
  end
end
  
defineParameter("fadeVoices", "Fade All Voices", false, fadeAllVoices)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="script-initialization"><a class="header" href="#script-initialization">Script Initialization</a></h1>
<p>When a program with a script is loaded into the <strong>Slot Rack</strong>, the global statements, all parameters and the <a href="HALion-Script/pages/./onLoad.html">onLoad</a>, <a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a> and <a href="HALion-Script/pages/./onInit.html">onInit</a> callbacks must be initialized. The order is as follows:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Initialization of</th><th style="text-align: left">Description</th><th style="text-align: left">Thread</th></tr></thead><tbody>
<tr><td style="text-align: left">1.</td><td style="text-align: left">Global statements</td><td style="text-align: left">Global statements are any expressions outside a function call.</td><td style="text-align: left">Controller</td></tr>
<tr><td style="text-align: left">2.</td><td style="text-align: left">Parameters</td><td style="text-align: left">All parameters of the program, including the parameters that you defined in the script.</td><td style="text-align: left">Controller</td></tr>
<tr><td style="text-align: left">3.</td><td style="text-align: left"><a href="HALion-Script/pages/./onLoad.html">onLoad</a></td><td style="text-align: left">This callback function is called when the script module is loaded as part of a preset or project.</td><td style="text-align: left">Controller</td></tr>
<tr><td style="text-align: left">4.</td><td style="text-align: left"><a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a></td><td style="text-align: left">This callback function is called when the program is loaded into the <strong>Slot Rack</strong>.</td><td style="text-align: left">Controller</td></tr>
<tr><td style="text-align: left">5.</td><td style="text-align: left"><a href="HALion-Script/pages/./onInit.html">onInit</a></td><td style="text-align: left">This is the first callback function that is called when the processor thread is initialized.</td><td style="text-align: left">Processor</td></tr>
</tbody></table>
</div>
<p>For more details about threads, see <a href="HALion-Script/pages/./Threads-in-HALion.html">Threads in HALion</a>.</p>
<h4 id="example-2"><a class="header" href="#example-2">Example</a></h4>
<pre><code class="language-lua">-- Script for testing the initialization when loading a program into the Slot Rack.
 
function onInit()
  print("onInit")  -- This is printed last, after onLoadIntoSlot.
end
 
function onLoadIntoSlot()
  print("onLoadIntoSlot")  -- This is printed after onLoad.
end
 
function onLoad()
  print("onLoad")  -- This is printed after the global statement.
end
 
print("Global statement") -- This is printed first.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="creating-parameters"><a class="header" href="#creating-parameters">Creating Parameters</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Creating-Parameters.html#defining-parameters">Defining Parameters</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#parameters-vs-global-variables">Parameters vs. Global Variables</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#parameter-characteristics">Parameter Characteristics</a>
<ul>
<li><a href="HALion-Script/pages/Creating-Parameters.html#numeric">Numeric</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#indexed-string-array">Indexed String Array</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#boolean">Boolean</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#string">String</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#table">Table</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#by-parameter-definition">By Parameter Definition</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#by-named-arguments">By Named Arguments</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#parameter-change-callback">Parameter Change Callback</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#change-callback-with-anonymous-function">Change Callback with Anonymous Function</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#defining-parameters-by-named-arguments">Defining Parameters by Named Arguments</a></li>
<li><a href="HALion-Script/pages/Creating-Parameters.html#additional-named-arguments">Additional Named Arguments</a></li>
</ul>
<hr />
<p>You need parameters to connect the script module with controls on the macro page and to save the script module's state with the program. Before you can connect your script module with controls on a macro page, you must specify the parameters that you want to use in your script by calling the function <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> for each of them. Once a parameter is defined, it is shown in the <strong>Parameter List</strong>. From this list, you can then connect it with a control on the macro page. When you save the program, the parameters that you defined for the script module are saved with it.</p>
<p>The function <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> also creates a global variable that represents the value of the parameter in the script. You can use this global variable like any other variable in the script (see <a href="HALion-Script/pages/Creating-Parameters.html#parameters-vs-global-variables">Parameter vs. Global Variables</a> for details).</p>
<h2 id="defining-parameters"><a class="header" href="#defining-parameters">Defining Parameters</a></h2>
<blockquote>
<p><strong>defineParameter(name)</strong></p>
</blockquote>
<p>You define a parameter by calling the function <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> with at least its name as the first argument. This name serves as name for the parameter in the <strong>Parameter List</strong> and as name for the global variable that represents the parameter in the script. The additional arguments of <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> are optional and can be used to change the characteristics of the parameter (see <a href="HALion-Script/pages/Creating-Parameters.html#parameter-characteristics">Parameter Characteristics</a> for details). If no further arguments are defined, the parameter will be a floating point value in the range from 0 to 100.</p>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="parameters-vs-global-variables"><a class="header" href="#parameters-vs-global-variables">Parameters vs. Global Variables</a></h2>
<p>The function <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> creates a global variable that represents the value of the parameter in the script. It should be noted that:</p>
<ul>
<li>The rules for the naming and scope of global variables also apply for parameters.</li>
<li>You can change the value of a parameter by assigning a new value to the corresponding global variable.</li>
<li>The parameters that you defined for your script module are saved with the program, as opposed to global variables, which are not saved automatically.</li>
</ul>
<p>The following example shows that parameters can be used just like global variables. After the parameter Scale has been defined, it is used to replace the note-on velocity. The value of Scale is changed by assigning the value of the last incoming MIDI controller to it.</p>
<h4 id="example-1-2"><a class="header" href="#example-1-2">Example 1</a></h4>
<pre><code class="language-lua">-- Change the parameter Scale through a MIDI controller and use its value to replace the note-on velocity.
 
-- Initialize variables.

min = 0
max = 100
maxVel = 127
defVel = 100
default = defVel / maxVel * max
maxCC = 127
 
-- Define Scale using the previous variables.

defineParameter("Scale", nil, default, min, max)
 
-- Use the value of Scale to replace the note-on velocity.

function onNote(event)
    event.velocity = maxVel * Scale / max
    postEvent(event)
end
 
-- Change the value of Scale through the last incoming MIDI controller.

function onController(event)
    Scale = event.value / maxCC * max
end
</code></pre>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="parameter-characteristics"><a class="header" href="#parameter-characteristics">Parameter Characteristics</a></h2>
<p>How a parameter behaves depends on its characteristics. You determine the characteristics of a parameter with the arguments of <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a>. To create a parameter with specific characteristics, the arguments must be set in the order in which they are shown in the following syntax examples.</p>
<h3 id="numeric"><a class="header" href="#numeric">Numeric</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, default, min, max, increment, changeCallback)</strong></p>
</blockquote>
<p>Creates a numeric parameter. The <code>default</code> argument defines the value that the parameter will default to. The <code>min</code> and <code>max</code> arguments define the value range of the parameter. The <code>increment</code> argument defines the step size in which the parameter value can be adjusted. The arguments <code>default</code>, <code>min</code>, <code>max</code>  and <code>increment</code> can be any integer or floating point value. How many digits are shown after the decimal point for a value string of a parameter is determined by the value of the <code>increment</code> argument. For example:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Value</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>increment = 1</code></td><td style="text-align: left">The parameter will be an integer value and its value string will display no digits after the decimal point.</td></tr>
<tr><td style="text-align: left"><code>increment = 0.001</code></td><td style="text-align: left">The parameter will be a floating point value and its value string will display three digits after the decimal point.</td></tr>
<tr><td style="text-align: left"><code>increment = 0</code></td><td style="text-align: left">The parameter will be a floating point value and its value string will display two digits after the decimal point.</td></tr>
</tbody></table>
</div>
<p>The automatic formatting of a value can be overridden with the <code>format</code> argument. See <a href="HALion-Script/pages/./Creating-Parameters.html#additional-named-arguments">Additional Named Arguments</a> for more details.</p>
<h3 id="indexed-string-array"><a class="header" href="#indexed-string-array">Indexed String Array</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, default, strings, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with integer indices that have a text representation given by the string values of an array. The <code>default</code> argument defines the index value that the parameter will default to. The <code>strings</code> argument must be an array with string values starting with index 0 or 1.</p>
<h3 id="boolean"><a class="header" href="#boolean">Boolean</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, bool, changeCallback)</strong></p>
</blockquote>
<p>Creates a boolean parameter. The <code>bool</code> argument also defines the default value of the parameter.</p>
<h3 id="string"><a class="header" href="#string">String</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, string, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with a string value. You can change the string by assigning a new string value to the parameter.</p>
<h3 id="table"><a class="header" href="#table">Table</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, table, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with a table as value. The <code>name</code> argument of the parameter also defines the name of the table. You can access the values of the table using the regular methods, e.g., dot notation.</p>
<h3 id="by-parameter-definition"><a class="header" href="#by-parameter-definition">By Parameter Definition</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, parameterDefinition, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with the behavior of the specified <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a>. You can use this to clone the behavior of existing parameters.</p>
<h3 id="by-named-arguments"><a class="header" href="#by-named-arguments">By Named Arguments</a></h3>
<blockquote>
<p><strong>defineParameter { name = "p", longName = "param", default = 0, min = 0, max = 100, increment = 0.01, onChanged = callback, type = "float", format = "%.2f", readOnly = false, writeAlways = false, automatable = true, persistent = true }</strong></p>
</blockquote>
<p>Creates a parameter by named arguments. The only argument to the function is a table with the key/value pairs that define the parameter. The additional keys type, format, readOnly, writeAlways, automatable, processorCallback and persistent give you control over more advanced features. They can only be set with named arguments. See <a href="HALion-Script/pages/./Creating-Parameters.html#defining-parameters-by-named-arguments">Defining Parameters by Named Arguments</a> for more details.</p>
<h4 id="example-2-2"><a class="header" href="#example-2-2">Example 2</a></h4>
<pre><code class="language-lua">-- Showcase different parameters.
 
-- Initialize variables.

maxVelocity = 127
 
-- Change callback of the parameter "Label".

function nameChanged()
    print("name changed to", Label) --Print the value of the parameter.
end
 
-- Initialize parameters.

defineParameter("Scale", nil, 100)                                          -- Parameter with default 100 and range 0 to 100.
defineParameter("Offset", nil, 0, -100, 100, 1)                             -- Bipolar parameter with integer steps.
defineParameter("Pan", nil, 0, -100, 100, 0.1)                              -- Bipolar parameter with 0.1 steps.
defineParameter("Mode", nil, 1, { "Off", "Normal", "Hyper" })               -- Indexed string array.
defineParameter("Enable", "Enable Filter", true)                            -- Switch with long name.
defineParameter("Label", nil, "untitled", nameChanged)                      -- String parameter.
defineParameter("Intervals", nil, { 0, 4, 7 })                              -- Table parameter.
defineParameter("Volume", nil, this.parent:getParameterDefinition("Level")) -- Parameter with the same behavior as the "Level" parameter of the parent layer.

-- Use the parameters Scale and Intervals to play a chord with fixed velocity.

function onNote(event)
    fixedVelocity = maxVelocity * Scale / 100
    local id1 = playNote(event.note + Intervals[1], fixedVelocity)
    local id2 = playNote(event.note + Intervals[2], fixedVelocity)
    local id3 = playNote(event.note + Intervals[3], fixedVelocity)
end
</code></pre>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="parameter-change-callback"><a class="header" href="#parameter-change-callback">Parameter Change Callback</a></h2>
<p>The change callback is only called if the value of the parameter was changed on the user interface, e.g., by adjusting the corresponding control on the macro page, or by calling <a href="HALion-Script/pages/./setParameter.html">setParameter</a>. It is not called if the value was changed by assigning a value from inside the script. The following example revisits <a href="HALion-Script/pages/Creating-Parameters.html#example-1">Example 1</a> to demonstrate this:</p>
<h4 id="example-3-1"><a class="header" href="#example-3-1">Example 3</a></h4>
<pre><code class="language-lua">-- Change the parameter Scale through MIDI controller and use its value to replace the note-on velocity.
-- The current value of Scale is printed only if changed from UI, e.g., go to the Parameter List to adjust Scale
 
-- Initialize variables.

min = 0
max = 100
maxVel = 127
defVel = 100
default = defVel / maxVel * max
maxCC = 127
 
-- This callback function will only be called if you adjust Scale from the UI.

function valueChanged()
    print("Value of Scale changed to:", Scale)
end
 
-- Define Scale with the previous variables.

defineParameter("Scale", nil, default, min, max, valueChanged)
 
-- Use the value of Scale to replace the note-on velocity.

function onNote(event)
    event.velocity = maxVel * Scale / max
    postEvent(event)
end
 
-- Change the value of Scale through the last incoming MIDI controller.

function onController(event)
    -- Assigning a value to Scale will not call the callback function.
    Scale = event.value / maxCC * max
end
</code></pre>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="change-callback-with-anonymous-function"><a class="header" href="#change-callback-with-anonymous-function">Change Callback with Anonymous Function</a></h2>
<p>In <a href="HALion-Script/pages/Creating-Parameters.html#example-2">Example 2</a>, the function nameChanged is declared before the associate parameter is defined. This is necessary for <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> in order to detect that the argument nameChanged is a function. If you want to declare the callback function after defining the corresponding parameter, you must call the callback function within an anonymous function. As the name suggests, an anonymous function is a function without a name.</p>
<h4 id="example-4"><a class="header" href="#example-4">Example 4</a></h4>
<pre><code class="language-lua">-- Define a string parameter.

defineParameter("Name", nil, "untitled", function() nameChanged() end)

-- If nameChanged is called inside an anonymous function, it can be declared after defineParameter.

function nameChanged()
    print("name changed to", Name) -- Print the value of the parameter.
end
</code></pre>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="defining-parameters-by-named-arguments"><a class="header" href="#defining-parameters-by-named-arguments">Defining Parameters by Named Arguments</a></h2>
<p>When calling <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> with several arguments, the arguments are matched by their position and the associated values are passed on to the function. For this reason, the arguments of <a href="HALion-Script/pages/./defineParameter.html">defineParameter</a> must match the exact order and position when calling the function. Alternatively, you can set the arguments with the keys and values of a table. This method of passing arguments and values to a function is called <em>named arguments</em>.</p>
<p>Named arguments have the advantage that they can be set in any order and that optional or additional arguments can be left out without destroying the predefined order and position of the arguments of that function. The following example shows the parameters from <a href="HALion-Script/pages/Creating-Parameters.html#example-2">Example 2</a> created with named arguments.</p>
<h4 id="example-5"><a class="header" href="#example-5">Example 5</a></h4>
<pre><code class="language-lua">-- Different parameters created with named arguments.
 
-- Change callback of the parameter "Label".

function nameChanged()
    print("name changed to", Label) --Print the value of the parameter.
end
 
-- Parameter with default 100 and range 0 to 100.

defineParameter{
    name = "Scale",
    default = 100
}
 
-- Bipolar parameter with integer steps.

defineParameter{
    name = "Offset",
    default = 0,
    min = -100,
    max = 100,
    increment = 1,
}
 
-- Bipolar parameter with 0.1 steps.

defineParameter{
    name = "Pan",
    default = 0,
    min = -100,
    max = 100,
    increment = 0.1,
}
 
-- Indexed string array.

defineParameter{
    name = "Mode",
    default = 1,
    strings = { "Off", "Normal", "Hyper" },
}
 
-- Switch with long name.

defineParameter{
    name = "Enable",
    longName = "Enable Filter",
    default = true,
}
 
-- String parameter.

defineParameter{
    name = "Label",
    default = "untitled",
    onChanged = nameChanged,
}
 
-- Table parameter.

defineParameter{
    name = "Intervals",
    default = { 0, 4, 7 },
}
</code></pre>
<blockquote>
<p>❕ Creating a parameter by <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> is not supported when using named arguments.</p>
</blockquote>
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<h2 id="additional-named-arguments"><a class="header" href="#additional-named-arguments">Additional Named Arguments</a></h2>
<p><span class="version-text">(Since HALion 6.1)</span></p>
<p>If you create a parameter by named arguments, you get access to these additional arguments:</p>
<!-- ANCHOR: additional-named-arguments -->
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The value type of the parameter (integer, float, boolean, string, variant, or envelope). The type must match the default and increment arguments.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>format</strong></td><td style="text-align: left">Formats the value string of a float value using the provided arguments. Only the format specifiers for float values are supported, i.e., e, E, f, g, or G. Other format specifiers are not supported. This overrides any automatic formatting from the <code>increment</code> argument.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>readOnly</strong></td><td style="text-align: left">Setting this to <code>true</code> will prevent the parameter from being changed from outside the script. The argument defaults to <code>false</code> if no value is set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>writeAlways</strong></td><td style="text-align: left">A parameter does not call its change callback if its value is set without being changed. Set this to <code>true</code> if you want to make sure that the change callback of the parameter is called. The argument defaults to <code>false</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>automatable</strong></td><td style="text-align: left">Set this to <code>false</code> if you do not want the parameter to be automated. The argument defaults to <code>true</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>processorCallback</strong></td><td style="text-align: left">If this is set to <code>true</code>, the parameter change callback will be executed in the processor context with high accuracy. This is required for automated script parameters to update correctly when using <strong>Render in Place</strong> or <strong>Export Audio</strong>, for example.  If no processor exists, the callback is still run in the controller context. <span class="version-text">(Since HALion 6.4.20)</span></td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>persistent</strong></td><td style="text-align: left">The parameter will not be restored from the VST preset if this is set to <code>false</code>. The argument defaults to <code>true</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
</tbody></table>
</div>
<p>The arguments readOnly, writeAlways and automatable are usepful if you have a parameter that is used only for indication, but not for entering values.</p>
<!-- ANCHOR_END: additional-named-arguments -->
<h4 id="example-6"><a class="header" href="#example-6">Example 6</a></h4>
<!-- ANCHOR: additional-named-arguments-example -->
<pre><code class="language-lua">-- The following parameter is read only, not automatable and not persistent.

defineParameter {
    name = "deltaTime",
    longName = "Delta Time",
    default = 0,
    min = 0,
    max = 2^31,
    type = "float",
    format = "%.3f ms",
    readOnly = true,
    automatable = false,
    persistent = false,
}
   
-- Measure the time between subsequent notes.

function onNote(event)
    postEvent(event)
    t2 = getTime()
    if t1 then
        deltaTime = t2 - t1
    end
    t1 = t2
end
 
-- The following parameter change callback is executed in the processor context with high accuracy.

function onP1changed()
   this.parent:setParameterNormalized("Level", P1 / 100)
end
 
defineParameter{name = "P1", min=0, max=100, onChanged = onP1changed, processorCallback = true}
</code></pre>
<!-- ANCHOR_END: additional-named-arguments-example -->
<p><a href="HALion-Script/pages/Creating-Parameters.html#creating-parameters">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="working-with-parameters"><a class="header" href="#working-with-parameters">Working with Parameters</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Working-with-Parameters.html#properties-of-parameters">Properties of Parameters</a></li>
<li><a href="HALion-Script/pages/Working-with-Parameters.html#addressing-parameters">Addressing Parameters</a>
<ul>
<li><a href="HALion-Script/pages/Working-with-Parameters.html#addressing-parameters-by-name">Addressing Parameters by Name</a></li>
<li><a href="HALion-Script/pages/Working-with-Parameters.html#addressing-parameters-by-id">Addressing Parameters by ID</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Working-with-Parameters.html#using-setparameter">Using setParameter</a></li>
</ul>
<hr />
<h2 id="properties-of-parameters"><a class="header" href="#properties-of-parameters">Properties of Parameters</a></h2>
<p>Every parameter has a <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object that describes the properties of a parameter. For example, you can retrieve the minimum, maximum, or default value of a parameter by reading the corresponding fields of the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object (see <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a> for details). The fields of the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object can only be read and not be modified.</p>
<p>The actual value of a parameter is not part of the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object. It can be modified using the functions <a href="HALion-Script/pages/./getParameter.html">getParameter</a> and <a href="HALion-Script/pages/./setParameter.html">setParameter</a> or <a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a> and <a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a>.</p>
<h2 id="addressing-parameters"><a class="header" href="#addressing-parameters">Addressing Parameters</a></h2>
<p>Functions like <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./setParameter.html">setParameter</a> or <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a> address the desired parameter by its name or ID.</p>
<h3 id="addressing-parameters-by-name"><a class="header" href="#addressing-parameters-by-name">Addressing Parameters by Name</a></h3>
<p>Please do not mix up the parameter's label on the UI with its name in the engine. Sometimes, the label and the name of a parameter are the same, but most of the time they are different.</p>
<blockquote>
<p>❕ Throughout this documentation "name of parameter..." refers to its name in the engine and not its label on the UI.</p>
</blockquote>
<p>The name of a parameter can be found in HALion's <strong>Parameter List</strong>. The <strong>Parameter List</strong> gives you a detailed overview of the parameters of the currently selected element in the <strong>Program Tree</strong>. The following screenshot shows parts of the parameters of a zone.</p>
<p><img src="HALion-Script/pages/../images/Parameter-List.PNG" alt="Parameter List" /></p>
<p>The <strong>Parameter</strong> column lists the names of the parameters. Parameters that belong together can be grouped into functional sections, represented by the folders in the <strong>Parameter</strong> column.</p>
<ul>
<li>Parameters that do not belong to a section can be addressed directly. In the screenshot above, "UserAttOffset" addresses the attack offset of the user envelope in the zone, for example.</li>
<li>Parameters that belong to a section need the name of the section as prefix, for example, the shape parameter of LFO 1 in the zone has the name "LFO 1.Shape".</li>
</ul>
<h4 id="example-1-3"><a class="header" href="#example-1-3">Example 1</a></h4>
<pre><code class="language-lua">function onLoadIntoSlot()
  local zones = this.program:findZones(true)
  if zones[1] then
    print("LFO 1.Shape: "..tostring(zones[1]:hasParameter("LFO 1.Shape")))
    print("lfo 1.shape: "..tostring(zones[1]:hasParameter("lfo 1.shape")))
  end
end
</code></pre>
<blockquote>
<p>❕ Addressing a parameter by its name is case sensitive.</p>
</blockquote>
<h3 id="addressing-parameters-by-id"><a class="header" href="#addressing-parameters-by-id">Addressing Parameters by ID</a></h3>
<p>The ID of a parameter can also be found in the <strong>Parameter List</strong>. By default, the <strong>Parameter List</strong> does not show the ID.</p>
<ul>
<li>To add the ID column to the <strong>Parameter List</strong>, right-click a column header and select <strong>ID (Dec)</strong>.</li>
</ul>
<p>The ID of "LFO 1.Shape" is 65542, for example.</p>
<h4 id="example-2-3"><a class="header" href="#example-2-3">Example 2</a></h4>
<pre><code class="language-lua">local lfo1ShapeID = 65542
function onLoadIntoSlot()
  local zones = this.program:findZones(true)
  if zones[1] then
    print("LFO 1.Shape: "..tostring(zones[1]:hasParameter(lfo1ShapeID)))
  end
end
</code></pre>
<p>Addressing parameters by name needs more computing time and might be a disadvantage for timing critical scripts. To optimize your script, you can read the ID of a parameter with <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a> during the initialization of the script and use this instead.</p>
<h4 id="example-3-2"><a class="header" href="#example-3-2">Example 3</a></h4>
<pre><code class="language-lua">-- Read the ID of the parent layer's level parameter.

local paramID = this.parent:getParameterDefinition("Level").id
 
-- Print the value of the parent layer's level parameter with each note-on.

function onNote(event)
    postEvent(event)
    print("Level = "..this.parent:getParameter(paramID))
end
</code></pre>
<h2 id="using-setparameter"><a class="header" href="#using-setparameter">Using setParameter</a></h2>
<p>The functions <a href="HALion-Script/pages/./setParameter.html">setParameter</a> and <a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a> address parameters also by name or ID.</p>
<h4 id="example-4-1"><a class="header" href="#example-4-1">Example 4</a></h4>
<pre><code class="language-lua">-- Set the value of the Level parameter of the parent layer.

function onLoadIntoSlot()
    this.parent:setParameter("Level", 0) -- set via name
    this.parent:setParameter(38, 0) -- set via ID
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="using-slot-local-variables"><a class="header" href="#using-slot-local-variables">Using Slot Local Variables</a></h1>
<p>If a program is loaded in several slots, the state of its parameters (e.g., level, cutoff, resonance, etc.) is synchronized across these slots. The same is true for the state of global variables in a Lua script. If a global variable is changed in one slot, its state will change in every other slot where the program is loaded.</p>
<p>However, the engine's playback state of the program is handled independently for each slot. This is necessary because each slot can receive different MIDI events. If some functions in your script depend on global variables that store the state of MIDI events, the automatic synchronization of global variables is usually a hindrance, because the global variables will be overwritten by the slot that received the latest MIDI events. To attain global variables that operate independently per slot, use slot local variables by calling <a href="HALion-Script/pages/./defineSlotLocal.html">defineSlotLocal</a>.</p>
<h2 id="declaring-slot-local-variables"><a class="header" href="#declaring-slot-local-variables">Declaring Slot Local Variables</a></h2>
<p>You declare slot local variables by calling <a href="HALion-Script/pages/./defineSlotLocal.html">defineSlotLocal</a> with the name of the corresponding global variable as argument. You can call <a href="HALion-Script/pages/./defineSlotLocal.html">defineSlotLocal</a> before or after the initialization of the variable, but it is common practice to call the function in advance.</p>
<h4 id="example-3"><a class="header" href="#example-3">Example</a></h4>
<p>The following example plays a classic up arpeggio. The variables for the arpeggio (noteBuffer, arpRunning and arpeggioNotes) need to be declared as slot local variables, otherwise, the script will not work as expected if the program is loaded into more than one slot.</p>
<p>To explore the script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/SlotLocalVariables.vstpreset">SlotLocalVariables.vstpreset</a>.</li>
<li>Load the program twice into the <strong>Slot Rack</strong> and send different chords to the slots.</li>
<li>Comment out the declaration of the slot local variables and send different chords to the slots again.</li>
</ol>
<p>If slot local variables are declared, both slots play separate arpeggios. If slot local variables are not declared, only one slot will play an arpeggio with a mix of the chords that you are sending to the slots.</p>
<pre><code class="language-lua">--[[
    Simple arpeggiator playing 1/16 notes with fixed velocity.
    The global variables noteBuffer, arpRunning and arpeggioNotes use defineSlotLocal.
--]]
 
-- Global statements.
 
-- Declare slot local variables.

defineSlotLocal("noteBuffer")
defineSlotLocal("arpRunning")
defineSlotLocal("arpeggioNotes")
 
-- Initialize variables.
-- Set note length to 1/16, i.e., one beat divided by four.

noteLength = 0.25

-- Set a fixed velocity of 100.

fixedVelocity = 100

-- Buffer for held notes.

noteBuffer = {}

-- Playback state of the arpeggiator.

arpRunning = false
 
-- Transfer the held notes into an array and sort its values.

function sortNotes()
    arpeggioNotes = {}
    for note in pairs(noteBuffer) do
        arpeggioNotes[#arpeggioNotes+1] = note
    end
    table.sort(arpeggioNotes)
end
 
-- Play up arpeggio.

function playArpeggioUp()
    arpRunning = true
    -- Start playback with index 1.
    local i = 1
    -- Playback for as long as there are arpeggio notes.
    while arpeggioNotes[i] do
        local id = playNote(arpeggioNotes[i], fixedVelocity, 0)
        wait(getBeatDuration() * noteLength * 0.5)
        -- Release the current voice after half the note length.
        releaseVoice(id)
        wait(getBeatDuration() * noteLength * 0.5)
        -- Increase index by 1 to play the next note.
        i = i + 1
        -- Reset playback to index 1, if index out of range.
        if not arpeggioNotes[i] then
            i = 1
        end
    end
    arpRunning = false
end
 
function onNote(event)
    -- Write notes to the buffer.
    noteBuffer[event.note] = event.velocity
    sortNotes()
    -- Start the arpeggio only if it is not running.
    if arpRunning == false then
        playArpeggioUp()
    end
end
 
function onRelease(event)
    -- Remove notes from the buffer.
    noteBuffer[event.note] = nil
    sortNotes()
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="protecting-layers"><a class="header" href="#protecting-layers">Protecting Layers</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Protecting-Layers.html#using-layer-protection">Using Layer Protection</a>
<ul>
<li><a href="HALion-Script/pages/Protecting-Layers.html#setting-the-layer-protection">Setting the Layer Protection</a></li>
<li><a href="HALion-Script/pages/Protecting-Layers.html#applying-the-layer-protection-automatically">Applying the Layer Protection Automatically</a></li>
<li><a href="HALion-Script/pages/Protecting-Layers.html#applying-the-layer-protection-manually">Applying the Layer Protection Manually</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Protecting-Layers.html#accessing-protected-layers-from-a-script">Accessing Protected Layers from a Script</a></li>
</ul>
<p><strong>Related pages:</strong></p>
<ul>
<li><a href="HALion-Script/pages/./addLayerPassword.html">addLayerPassword</a></li>
<li><a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a></li>
</ul>
<hr />
<p>You might want to avoid that users make edits to critical parts of the program. Moreover, how you built a program for your instrument might be a considerable part of your intellectual property. To safeguard the program and your work, you can protect the layers to which the users should not have access.</p>
<h2 id="using-layer-protection"><a class="header" href="#using-layer-protection">Using Layer Protection</a></h2>
<p>Protecting layers is a two-step process:</p>
<ul>
<li>First, you define the layers you want to protect by setting the <strong>Layer Protection</strong> in the <strong>Program Tree</strong>. This has the advantage that you can decide at an early stage which layers you want to be protected. You can continue your work as usual and you still can add or remove the protection as needed. The permanent activation of the layer protection happens later.</li>
<li>Before you release the instrument to the public, you export the program and apply the protection by using <strong>Export Program as VST3 Preset...</strong> with the <strong>Protect</strong> option activated. All layers for which the layer protection is set will be permanently protected in the exported program.</li>
</ul>
<blockquote>
<p>❕ Applying the layer protection permanently by exporting a protected VST 3 preset cannot be undone. For this reason, you should always keep a backup of the unprotected program.</p>
</blockquote>
<h3 id="setting-the-layer-protection"><a class="header" href="#setting-the-layer-protection">Setting the Layer Protection</a></h3>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the column header and select <strong>Layer Protection</strong>. The column for setting the layer protection is added to the <strong>Program Tree</strong>. An open lock icon is displayed next to each layer, indicating that the layers are not protected yet.</li>
<li>Click the lock icon for the layer that you want to protect. A dialog opens where you can enter the password for the layer protection.</li>
<li>Enter a password in the text field. You must enter a password each time you protect a layer. You are free to use the same or different passwords for each of the layers.</li>
<li>Click <strong>OK</strong> to engage the layer protection.</li>
</ol>
<p>The <strong>Layer Protection</strong> is engaged if a closed lock icon is displayed next to the layer. If a child layer is protected through a parent layer, its lock will turn light gray to indicate this. To disengage the <strong>Layer Protection</strong>, click the closed lock icon of a layer, so that an open lock icon is shown. This also resets the password of the layer. To apply the <strong>Layer Protection</strong> permanently, you must build a library or export a protected version of the program or layer.</p>
<h3 id="applying-the-layer-protection-automatically"><a class="header" href="#applying-the-layer-protection-automatically">Applying the Layer Protection Automatically</a></h3>
<p>The <strong>Library Creator</strong> protects layers with activated protection automatically when building a VST Sound. This only affects the presets that go into the VST Sound container – not your source presets on disk. Using the <strong>Library Creator</strong> is the preferred way to protect layers permanently for release.</p>
<ol>
<li>Set the <strong>Layer Protection</strong> as described above.</li>
<li>In the <strong>Library Creator</strong>, add the respective presets to your library.</li>
<li>Build the library and mount it.</li>
<li>Go to the <strong>MediaBay</strong> and load a preset from the library.</li>
</ol>
<p>Notice how the protected layers cannot be accessed in the <strong>Program Tree</strong> any longer.</p>
<h3 id="applying-the-layer-protection-manually"><a class="header" href="#applying-the-layer-protection-manually">Applying the Layer Protection Manually</a></h3>
<blockquote>
<p>❕ Applying the layer protection cannot be undone. Please keep a backup of the unprotected program if you need to edit the layers at a later stage.</p>
</blockquote>
<ol>
<li>Right-click in the <strong>Program Tree</strong> and go to the <strong>Import/Export</strong> submenu.</li>
<li>Select <strong>Export Program as VST3 Preset...</strong></li>
<li>Activate the <strong>Protect</strong> option.</li>
<li>Choose a location and file name.</li>
<li>Click <strong>Save</strong> to export the program and apply the layer protection permanently.</li>
</ol>
<p>When you load the exported program, the protected layers cannot be accessed in the <strong>Program Tree</strong> any longer.</p>
<h2 id="accessing-protected-layers-from-a-script"><a class="header" href="#accessing-protected-layers-from-a-script">Accessing Protected Layers from a Script</a></h2>
<p>By default, protected layers cannot be accessed by scripts. The parameters of a protected layer and any elements inside of it are hidden for scripts. This avoids unauthorized parsing of the <strong>Program Tree</strong> to retrieve hidden information. A script can access protected layers only by calling the function <strong>addLayerPassword</strong> with the correct password for the corresponding layers.</p>
<h4 id="example-4"><a class="header" href="#example-4">Example</a></h4>
<pre><code class="language-lua">-- Access the protected layer(s) which have the password "abc123".

addLayerPassword("abc123")
</code></pre>
<blockquote>
<p>❕ To hide the password in <a href="HALion-Script/pages/./addLayerPassword.html">addLayerPassword</a>, you must also protect the script module. See <a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a> for details.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="managing-script-modules"><a class="header" href="#managing-script-modules">Managing Script Modules</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Managing-Script-Modules.html#saving-modules">Saving Modules</a></li>
<li><a href="HALion-Script/pages/Managing-Script-Modules.html#deleting-modules">Deleting Modules</a></li>
<li><a href="HALion-Script/pages/Managing-Script-Modules.html#protecting-modules">Protecting Modules</a>
<ul>
<li><a href="HALion-Script/pages/Managing-Script-Modules.html#using-protect-module">Using Protect Module</a></li>
</ul>
</li>
</ul>
<p><strong>Related pages:</strong></p>
<ul>
<li><a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a></li>
</ul>
<hr />
<p>You can add your script module to the MIDI module library by saving it as a MIDI module. Script modules that have been saved as MIDI modules behave like the factory MIDI modules and can be loaded with <strong>Create New MIDI Module</strong>.</p>
<h2 id="saving-modules"><a class="header" href="#saving-modules">Saving Modules</a></h2>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the script module that you want to save.</li>
<li>On the <strong>MIDI Module Library</strong> submenu, select <strong>Save Module...</strong></li>
<li>In the file dialog, enter a name for the module and click <strong>Save</strong>.</li>
</ol>
<h2 id="deleting-modules"><a class="header" href="#deleting-modules">Deleting Modules</a></h2>
<ol>
<li>Right-click in the <strong>Program Tree</strong>.</li>
<li>On the <strong>MIDI Module Library</strong> submenu, select <strong>Delete Module...</strong></li>
<li>Select the module that you want to delete and click <strong>Yes</strong> to confirm.</li>
</ol>
<h2 id="protecting-modules"><a class="header" href="#protecting-modules">Protecting Modules</a></h2>
<p>If you want to prevent others from viewing or changing the sources of your script module, you can protect the module with the <strong>Protect Module</strong> command.</p>
<p>Protecting a script module has the following effects:</p>
<ul>
<li>The source files for the script module cannot be edited anymore. This includes the script itself and any sources for the MacroPage of the module.</li>
<li>The sections for source files and output messages will be hidden in the editor and cannot be accessed anymore.</li>
</ul>
<h3 id="using-protect-module"><a class="header" href="#using-protect-module">Using Protect Module</a></h3>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the script module that you want to protect.</li>
<li>On the <strong>MIDI Module Library</strong> submenu, select <strong>Protect Module</strong>. At this point, you can still revert the protection with the undo command of the history.</li>
<li>To protect the script module permanently, open the <strong>MIDI Module Library</strong> submenu and select <strong>Save Module...</strong> The next time you load the module, it will be protected. Alternatively, you can save the program together with the module.</li>
</ol>
<blockquote>
<p>❕ The protection of permanently protected modules cannot be undone. Make sure that you have an unprotected backup of the script module and its sources if you need to edit them at a later stage.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="using-external-files"><a class="header" href="#using-external-files">Using External Files</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<p>The functions of the i/o and os libraries of Lua allow you to manipulate external files. External files are files that are managed by the operating system. For example, while developing large scale sample instruments, it can be helpful to read or write files with comma separated values (.csv). To protect private data, the location for reading and writing files is limited to the folders ./Documents/Steinberg and ./Documents/tmp of the user. In addition, you can read files from the VST sound that contains the executed script. Lua's i/o functions allow you to manipulate files. The functions <code>os.remove</code> and <code>os.rename</code> from the os library allow you to delete or rename files. See <a href="https://www.lua.org/manual/5.2/manual.html#6.8">Input and Output Facilities</a> and <a href="https://www.lua.org/manual/5.2/manual.html#6.9">Operating System Facilities</a> for a description of the respective functions.</p>
<blockquote>
<p>❕ The functions <code>io.popen</code>, <code>io.tmpfile</code>, <code>os.execute</code>, <code>os.exit</code>, <code>os.getenv</code>, <code>os.setlocale</code> and <code>os.tmpname</code> are not supported.</p>
</blockquote>
<h2 id="retrieving-the-file-path-of-documentssteinberg"><a class="header" href="#retrieving-the-file-path-of-documentssteinberg">Retrieving the File Path of ./Documents/Steinberg</a></h2>
<p>You can use the function <a href="HALion-Script/pages/./getUserSubPresetPath.html">getUserSubPresetPath</a> to retreive the file path of ./Documents/Steinberg on your system.</p>
<h3 id="example-5"><a class="header" href="#example-5">Example</a></h3>
<pre><code class="language-lua">-- Retrieve ./Documents/Steinberg/ and try to open a file.

fileLocation = getUserSubPresetPath()
posStart, posEnd = string.find(getUserSubPresetPath(), "Steinberg/")
fileLocation = string.sub(fileLocation, 1, posEnd)
 
io.input(fileLocation.."some.txt")
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="debugging-with-ldt"><a class="header" href="#debugging-with-ldt">Debugging with LDT</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#installing-ldt">Installing LDT</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#setting-up-a-debug-session">Setting Up a Debug Session</a>
<ul>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#starting-ldt">Starting LDT</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#selecting-a-workspace">Selecting a Workspace</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#creating-a-project">Creating a Project</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#configuring-attach-debug">Configuring Attach Debug</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#changing-the-debug-port-on-mac">Changing the Debug Port on Mac</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#starting-a-debug-session">Starting a Debug Session</a>
<ul>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#loading-the-code-example">Loading the Code Example</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#opening-the-debug-perspective">Opening the Debug Perspective</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#connecting-the-lua-script-module-with-ldt">Connecting the Lua Script module with LDT</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#stopping-a-debug-session">Stopping a Debug Session</a></li>
<li><a href="HALion-Script/pages/Debugging-with-LDT.html#using-the-ldt-debugger">Using the LDT Debugger</a></li>
</ul>
<p><strong>External links:</strong></p>
<ul>
<li><a href="https://www.eclipse.org/ldt/">Eclipse LDT</a></li>
<li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">Java SE 8 JRE</a></li>
<li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java SE 8 JDK</a></li>
<li><a href="https://wiki.eclipse.org/LDT/User_Area/User_Guides/User_Guide_1.3#Debugging_a_Lua_program">Debugging a Lua program</a></li>
</ul>
<hr />
<p>HALion uses <a href="https://www.eclipse.org/ldt/">Lua Development Tools (LDT)</a> by <a href="https://www.eclipse.org/">Eclipse Foundation</a> as the front end for debugging. LDT is an open source software for Windows and Mac OSX that provides you with an integrated development environment (IDE) for Lua with tools like code assistance, debugging, syntax coloring, code formatting, and many more. LDT allows you to debug scripts that run in HALion. After configuring Attach Debug in LDT, you can connect a Lua Script module for debugging its script. In LDT, you can monitor the script step by step, inspect variables and evaluate expressions. This way, you can identify and remove errors from your script more easily.</p>
<p>More information about LDT and support from the Eclipse community can be found here:</p>
<p><a href="https://wiki.eclipse.org/LDT">https://wiki.eclipse.org/LDT</a></p>
<h2 id="installing-ldt"><a class="header" href="#installing-ldt">Installing LDT</a></h2>
<p>LDT can be downloaded from here:</p>
<p><a href="https://www.eclipse.org/ldt/">https://www.eclipse.org/ldt/</a></p>
<ul>
<li>After downloading the package for your system, unpack the files into a folder of your choice.</li>
</ul>
<blockquote>
<p>❕ In addition, the Java SE 8 JRE (Windows) or the Java SE 8 JDK (Mac OSX) must be installed.</p>
</blockquote>
<p><strong>Windows</strong></p>
<p>The Java SE 8 JRE can be downloaded from here:</p>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a></p>
<p><strong>Mac OSX</strong></p>
<p>The Java SE 8 JDK can be downloaded from here:</p>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>
<blockquote>
<p>❕ Mac OSX might tell you that you need to install the legacy Java SE 6 runtime. Please ignore the message and install the Java SE 8 JDK instead.</p>
</blockquote>
<h2 id="setting-up-a-debug-session"><a class="header" href="#setting-up-a-debug-session">Setting Up a Debug Session</a></h2>
<p>Before starting a debug session, some preparations are required. In the following, you will be guided through all the necessary steps.</p>
<h3 id="starting-ldt"><a class="header" href="#starting-ldt">Starting LDT</a></h3>
<p><strong>Windows</strong></p>
<ul>
<li>Double-click <strong>LuaDevelopmentTools.exe</strong>.</li>
</ul>
<p><strong>Mac OSX</strong></p>
<ul>
<li>Double-click the <strong>Eclipse</strong> application.</li>
</ul>
<h3 id="selecting-a-workspace"><a class="header" href="#selecting-a-workspace">Selecting a Workspace</a></h3>
<p>Upon start of LDT, the Eclipse Launcher will ask you to select a directory as workspace.</p>
<ul>
<li>Choose a location for <strong>Workspace</strong> and click <strong>Launch</strong>.</li>
</ul>
<p><img src="HALion-Script/pages/../images/LDT-Select-Workspace.PNG" alt="Select Workspace" /></p>
<h3 id="creating-a-project"><a class="header" href="#creating-a-project">Creating a Project</a></h3>
<ol>
<li>
<p>Open <strong>File &gt; New &gt; Project</strong>, select <strong>Lua Project</strong> and click <strong>Next &gt;</strong>.</p>
</li>
<li>
<p>Enter a <strong>Project name</strong>.</p>
</li>
<li>
<p>Select <strong>Create project at existing location (from existing source)</strong> and set <strong>Directory</strong> to the location of your scripts.</p>
<p><img src="HALion-Script/pages/../images/LDT-Create-Lua-Project.PNG" alt="Create a Lua Project" /></p>
</li>
<li>
<p>Click <strong>Next &gt;</strong>. The contents of the specified directory will be scanned. You can ignore the warning that says, "Your project has no source folder defined."</p>
</li>
<li>
<p>Click <strong>Finish</strong>.</p>
<p><img src="HALion-Script/pages/../images/LDT-Script-Settings.PNG" alt="Script Settings" /></p>
</li>
</ol>
<p>The Lua scripts that have been found will appear in the Script Explorer of LDT. You can load them via double-click.</p>
<p><img src="HALion-Script/pages/../images/LDT-Script-Explorer.PNG" alt="Script Explorer" /></p>
<h3 id="configuring-attach-debug"><a class="header" href="#configuring-attach-debug">Configuring Attach Debug</a></h3>
<p>In order for incoming debug sessions to be accepted, you must create a <strong>Lua Attach to Application</strong> launch configuration.</p>
<ol>
<li>Open <strong>Run &gt; Debug Configurations...</strong></li>
<li>Select <strong>Lua Attach to Application</strong> and click the <strong>New</strong> button to create a configuration of this type.</li>
<li>Enter a name and click <strong>Apply</strong>.</li>
<li>Click <strong>Close</strong>, since we do not want to debug at the moment.</li>
</ol>
<p><img src="HALion-Script/pages/../images/LDT-Debug-Configurations.PNG" alt="Debug Configurations" /></p>
<h3 id="changing-the-debug-port-on-mac"><a class="header" href="#changing-the-debug-port-on-mac">Changing the Debug Port on Mac</a></h3>
<p>On Mac, you must change the debug server port before you can start a debug session.</p>
<ol>
<li>Open <strong>Lua  Development Tools Product &gt; Preferences...</strong> and go in <strong>Dynamic Languages &gt; Debug</strong>.</li>
<li>Change <strong>Port</strong> to "Custom" and enter the value "10001".</li>
<li>Click <strong>Apply and Close</strong>.</li>
</ol>
<p><img src="HALion-Script/pages/../images/LDT-Debug-Port.PNG" alt="Debug Port" /></p>
<blockquote>
<p>❕ Do not change the debug server port on Windows.</p>
</blockquote>
<h2 id="starting-a-debug-session"><a class="header" href="#starting-a-debug-session">Starting a Debug Session</a></h2>
<p>Please load the following code example for your first debug session.</p>
<h3 id="loading-the-code-example"><a class="header" href="#loading-the-code-example">Loading the Code Example</a></h3>
<p>Create a new Lua file in LDT.</p>
<ol>
<li>In <strong>File &gt; New &gt; Other...</strong>, select <strong>Lua File</strong> and click <strong>Next &gt;</strong>.</li>
<li>Enter a file name and click <strong>Finish</strong>.</li>
</ol>
<p><img src="HALion-Script/pages/../images/LDT-New-Lua-File.PNG" alt="New Lua File" /></p>
<blockquote>
<p>❕ New Lua files will be saved to the directory that you specified for the Lua project.</p>
</blockquote>
<ul>
<li>Copy the following code example to the editor area of LDT.</li>
</ul>
<h4 id="example-6"><a class="header" href="#example-6">Example</a></h4>
<pre><code class="language-lua">function onNote(ev)
  print(ev)
  postEvent(ev)
end
</code></pre>
<ul>
<li>Click <img src="HALion-Script/pages/../images/LDT-Save-Button.PNG" alt="Save Button" /> to save the script file in LDT.</li>
</ul>
<p>Now it is time to start HALion and to load the script.</p>
<ol>
<li>Open HALion, create a program with a synth zone and a Lua Script module.</li>
<li>Load the script file from the location where you saved it.</li>
</ol>
<p><img src="HALion-Script/pages/../images/HALion-with-Script.PNG" alt="HALion with Script" /></p>
<blockquote>
<p>❕ The script running in the Lua Script module of HALion must be loaded from the same location where LDT saved it. This ensures that the script in LDT and HALion are physically the same file. Otherwise, the debugger cannot establish a connection between LDT (debugger server) and the Lua Script module (debugger client).</p>
</blockquote>
<h3 id="opening-the-debug-perspective"><a class="header" href="#opening-the-debug-perspective">Opening the Debug Perspective</a></h3>
<p>Most of the debug functionality can be found in the Debug perspective of LDT.</p>
<ul>
<li>Click <img src="HALion-Script/pages/../images/LDT-Debug-Button.PNG" alt="Debug Button" /> in the top right corner of the editor area.</li>
<li>Alternatively, in <strong>Window &gt; Perspective &gt; Open Perspective &gt; Other...</strong>, select <strong>Debug</strong> and click <strong>Open</strong>.</li>
</ul>
<p>Breakpoints can be set by double-clicking the margin.</p>
<ul>
<li>Double-click the margin in line two, for example.</li>
</ul>
<p><img src="HALion-Script/pages/../images/LDT-Debug-Perspective.PNG" alt="Debug Perspective" /></p>
<h3 id="connecting-the-lua-script-module-with-ldt"><a class="header" href="#connecting-the-lua-script-module-with-ldt">Connecting the Lua Script module with LDT</a></h3>
<p>The following steps will establish a connection between LDT (debugger server) and the Lua Script module (debugger client).</p>
<ol>
<li>Open HALion, go to the Lua Script module and click the <strong>Connect to Debugger</strong> <img src="HALion-Script/pages/../images/Connect-Debugger-Gray.PNG" alt="Connect to Debugger Gray" />  button. This defines the Lua Script module as debugger client. The <strong>Connect to Debugger</strong> button turns blue <img src="HALion-Script/pages/../images/Connect-Debugger-Blue.PNG" alt="Connect to Debugger Blue" /> to indicate that it waits for the debugger server.</li>
<li>Open LDT and go to <strong>Run &gt; Debug Configurations</strong>. In <strong>Lua Attach to Application</strong>, select the configuarion you have previously created.</li>
<li>Click <strong>Debug</strong> to start the debugger server.</li>
</ol>
<p>The <strong>Connect to Debugger</strong> button in HALion turns green <img src="HALion-Script/pages/../images/Connect-Debugger-Green.PNG" alt="Connect to Debugger Green" /> if debugger server and client are connected.</p>
<p><img src="HALion-Script/pages/../images/Lua-Script-Module.PNG" alt="Lua Script Module" /></p>
<p>As a basic test, try the following steps with the code example from above and a breakpoint in line two:</p>
<ol>
<li>
<p>Play a MIDI note. LDT will break into the onNote function.</p>
<p><img src="HALion-Script/pages/../images/LDT-Break-Into-onNote.PNG" alt="Break Into onNote" /></p>
</li>
<li>
<p>Click Resume <img src="HALion-Script/pages/../images/LDT-Resume-Button.PNG" alt="Resume Button" /> or press (F8) to continue the script. HALion prints the event and outputs the note.</p>
</li>
</ol>
<h2 id="stopping-a-debug-session"><a class="header" href="#stopping-a-debug-session">Stopping a Debug Session</a></h2>
<p>To stop the debug session:</p>
<ul>
<li>Open the Lua Script module in HALion and click the <strong>Connect to Debugger</strong> <img src="HALion-Script/pages/../images/Connect-Debugger-Green.PNG" alt="Connect to Debugger Green" /> button.</li>
</ul>
<p>The <strong>Connect to Debugger</strong> button turns gray <img src="HALion-Script/pages/../images/Connect-Debugger-Gray.PNG" alt="Connect to Debugger Gray" /> and the Debug area in LDT says the Lua Attach to Application session has &lt;terminated&gt;.</p>
<p><img src="HALion-Script/pages/../images/LDT-Terminated-Debugger.PNG" alt="Terminated Debugger" /></p>
<h2 id="using-the-ldt-debugger"><a class="header" href="#using-the-ldt-debugger">Using the LDT Debugger</a></h2>
<p>From now on, the debug session can be started from the Debug menu <img src="HALion-Script/pages/../images/LDT-Debug-Menu-Button.PNG" alt="Debug Menu Button" /> on the LDT toolbar.</p>
<p><img src="HALion-Script/pages/../images/LDT-Debug-Menu-Toolbar.PNG" alt="Debug Menu Toolbar" /></p>
<p>Tips for using the LDT debugger can be found here:</p>
<p><a href="https://wiki.eclipse.org/LDT/User_Area/User_Guides/User_Guide_1.3#Debugging_a_Lua_program">Debugging a Lua program</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="updates"><a class="header" href="#updates">Updates</a></h1>
<p>This page lists the modified and added pages for each version.</p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Updates.html#halion-710">HALion 7.1.0</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-700">HALion 7.0.0</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-6420">HALion 6.4.20</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-6410">HALion 6.4.10</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-640">HALion 6.4.0</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-630">HALion 6.3.0</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-6220">HALion 6.2.20</a></li>
<li><a href="HALion-Script/pages/Updates.html#halion-610">HALion 6.1.0</a></li>
</ul>
<hr />
<h2 id="halion-710"><a class="header" href="#halion-710">HALion 7.1.0</a></h2>
<h4 id="added-pages"><a class="header" href="#added-pages">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./setBypassNoteOff.html">setBypassNoteOff</a></li>
</ul>
<h2 id="halion-700"><a class="header" href="#halion-700">HALion 7.0.0</a></h2>
<h4 id="added-pages-1"><a class="header" href="#added-pages-1">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a></li>
<li><a href="HALion-Script/pages/./decompose.html">decompose</a></li>
<li><a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a></li>
<li><a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></li>
<li><a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a></li>
<li><a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a></li>
<li><a href="HALion-Script/pages/./getUserSubPresetPath.html">getUserSubPresetPath</a></li>
<li><a href="HALion-Script/pages/./onData.html">onData</a></li>
<li><a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a></li>
<li><a href="HALion-Script/pages/./savePreset.html">savePreset</a></li>
<li><a href="HALion-Script/pages/./setZoneFMXAlgo.html">setZoneFMXAlgo</a></li>
<li><a href="HALion-Script/pages/./startWriteOutputToFile.html">startWriteOutputToFile</a></li>
<li><a href="HALion-Script/pages/./stopWriteOutputToFile.html">stopWriteOutputToFile</a></li>
<li><a href="HALion-Script/pages/./Using-External-Files.html">Using External Files</a></li>
</ul>
<h4 id="modified-pages"><a class="header" href="#modified-pages">Modified Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Event.html">Event</a></li>
<li><a href="HALion-Script/pages/./Event-Types.html">Event Types</a></li>
<li><a href="HALion-Script/pages/./getNoteDuration.html">getNoteDuration</a></li>
<li><a href="HALion-Script/pages/./getUserPresetPath.html">getUserPresetPath</a></li>
<li><a href="HALion-Script/pages/./isKeyDown.html">isKeyDown</a></li>
<li><a href="HALion-Script/pages/./isOctaveKeyDown.html">isOctaveKeyDown</a></li>
<li><a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></li>
<li><a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a></li>
<li><a href="HALion-Script/pages/./onNote.html">onNote</a></li>
<li><a href="HALion-Script/pages/./onRelease.html">onRelease</a></li>
<li><a href="HALion-Script/pages/./onUnhandledEvent.html">onUnhandledEvent</a></li>
<li><a href="HALion-Script/pages/./playNote.html">playNote</a></li>
<li><a href="HALion-Script/pages/./postEvent.html">postEvent</a></li>
<li><a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a></li>
</ul>
<h2 id="halion-6420"><a class="header" href="#halion-6420">HALion 6.4.20</a></h2>
<h4 id="modified-pages-1"><a class="header" href="#modified-pages-1">Modified Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Creating-Parameters.html">Creating Parameters</a></li>
<li><a href="HALion-Script/pages/./defineParameter.html">defineParameter</a></li>
</ul>
<h2 id="halion-6410"><a class="header" href="#halion-6410">HALion 6.4.10</a></h2>
<h4 id="added-pages-2"><a class="header" href="#added-pages-2">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./AlternateData-Table.html">AlternateData Table</a></li>
<li><a href="HALion-Script/pages/./VoiceGroupsData-Table.html">VoiceGroupsData Table</a></li>
<li><a href="HALion-Script/pages/./Voice-Group-Steal-Modes.html">Voice Group Steal Modes</a></li>
</ul>
<h2 id="halion-640"><a class="header" href="#halion-640">HALion 6.4.0</a></h2>
<h4 id="added-pages-3"><a class="header" href="#added-pages-3">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a></li>
<li><a href="HALion-Script/pages/./Bypass-Masks.html">Bypass Masks</a></li>
<li><a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></li>
<li><a href="HALion-Script/pages/./getOnsets.html">getOnsets</a></li>
<li><a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a></li>
<li><a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a></li>
<li><a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a></li>
<li><a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a></li>
</ul>
<h4 id="modified-pages-2"><a class="header" href="#modified-pages-2">Modified Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Audio-File.html">AudioFile</a></li>
<li><a href="HALion-Script/pages/./clone.html">clone</a></li>
<li><a href="HALion-Script/pages/./Bus.html">Bus</a></li>
<li><a href="HALion-Script/pages/./Effect.html">Effect</a></li>
<li><a href="HALion-Script/pages/./Layer.html">Layer</a></li>
<li><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></li>
<li><a href="HALion-Script/pages/./Program.html">Program</a></li>
<li><a href="HALion-Script/pages/./Zone.html">Zone</a></li>
</ul>
<h2 id="halion-630"><a class="header" href="#halion-630">HALion 6.3.0</a></h2>
<h4 id="added-pages-4"><a class="header" href="#added-pages-4">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a></li>
<li><a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a></li>
<li><a href="HALion-Script/pages/./getPitch.html">getPitch</a></li>
<li><a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a></li>
</ul>
<h4 id="modified-pages-3"><a class="header" href="#modified-pages-3">Modified Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Audio-File.html">AudioFile</a></li>
</ul>
<h2 id="halion-6220"><a class="header" href="#halion-6220">HALion 6.2.20</a></h2>
<h4 id="added-pages-5"><a class="header" href="#added-pages-5">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./Debugging-with-LDT.html">Debugging with LDT</a></li>
</ul>
<h2 id="halion-610"><a class="header" href="#halion-610">HALion 6.1.0</a></h2>
<h4 id="added-pages-6"><a class="header" href="#added-pages-6">Added Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a></li>
<li><a href="HALion-Script/pages/./runSync.html">runSync</a></li>
<li><a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a></li>
</ul>
<h4 id="modified-pages-4"><a class="header" href="#modified-pages-4">Modified Pages</a></h4>
<ul>
<li><a href="HALion-Script/pages/./assignAutomation.html">assignAutomation</a></li>
<li><a href="HALion-Script/pages/./Creating-Parameters.html">Creating Parameters</a></li>
<li><a href="HALion-Script/pages/./defineParameter.html">defineParameter</a></li>
<li><a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a></li>
<li><a href="HALion-Script/pages/./Threads-in-HALion.html">Threads in HALion</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions-by-subject"><a class="header" href="#functions-by-subject">Functions by Subject</a></h1>
<p>Here you can browse the functions of the HALion Script language by their subject.</p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#audio-file-functions">Audio File Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#automation-functions">Automation Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#bus-functions">Bus Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#context-functions">Context Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#conversion-functions">Conversion Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#element-functions">Element Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#event-callback">Event Callback</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#event-functions">Event Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#instance-functions">Instance Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#layer-functions">Layer Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#midi-file-functions">MIDI File Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#modulation-matrix-functions">Modulation Matrix Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#parameterdefinition-functions">ParameterDefinition Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#qc-functions">QC Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#slot-functions">Slot Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#timing-functions">Timing Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#ui-script-functions">UI Script Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#undo-functions">Undo Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#voice-functions">Voice Functions</a></li>
<li><a href="HALion-Script/pages/Functions-by-Subject.html#zone-functions">Zone Functions</a></li>
</ul>
<hr />
<h2 id="audio-file-functions"><a class="header" href="#audio-file-functions">Audio File Functions</a></h2>
<p><a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>,
<a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a>,
<a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>,
<a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a>,
<a href="HALion-Script/pages/./decompose.html">decompose</a>,
<a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>,
<a href="HALion-Script/pages/./getOnsets.html">getOnsets</a>,
<a href="HALion-Script/pages/./getPeak.html">getPeak</a>,
<a href="HALion-Script/pages/./getPitch.html">getPitch</a>,
<a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a>,</p>
<h2 id="automation-functions"><a class="header" href="#automation-functions">Automation Functions</a></h2>
<p><a href="HALion-Script/pages/./assignAutomation.html">assignAutomation</a>,
<a href="HALion-Script/pages/./forgetAutomation.html">forgetAutomation</a>,
<a href="HALion-Script/pages/./getAutomationIndex.html">getAutomationIndex</a>,</p>
<h2 id="bus-functions"><a class="header" href="#bus-functions">Bus Functions</a></h2>
<p><a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>,
<a href="HALion-Script/pages/./findEffects.html">findEffects</a>,
<a href="HALion-Script/pages/./getEffect.html">getEffect</a>,
<a href="HALion-Script/pages/./getOutputBus.html">getOutputBus</a>,
<a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>,
<a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>,
<a href="HALion-Script/pages/./setOutputBus.html">setOutputBus</a>,</p>
<h2 id="context-functions"><a class="header" href="#context-functions">Context Functions</a></h2>
<p><a href="HALion-Script/pages/./getAllocatedMemory.html">getAllocatedMemory</a>,
<a href="HALion-Script/pages/./getBarDuration.html">getBarDuration</a>,
<a href="HALion-Script/pages/./getBeatDuration.html">getBeatDuration</a>,
<a href="HALion-Script/pages/./getBeatTime.html">getBeatTime</a>,
<a href="HALion-Script/pages/./getBeatTimeInBar.html">getBeatTimeInBar</a>,
<a href="HALion-Script/pages/./getCC.html">getCC</a>,
<a href="HALion-Script/pages/./getContext.html">getContext</a>,
<a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a>,
<a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>,
<a href="HALion-Script/pages/./getFreeVoices.html">getFreeVoices</a>,
<a href="HALion-Script/pages/./getHostName.html">getHostName</a>,
<a href="HALion-Script/pages/./getHostVersion.html">getHostVersion</a>,
<a href="HALion-Script/pages/./getMsTime.html">getMsTime</a>,
<a href="HALion-Script/pages/./getNoteDuration.html">getNoteDuration</a>,
<a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>,
<a href="HALion-Script/pages/./getProcessedSamples.html">getProcessedSamples</a>,
<a href="HALion-Script/pages/./getProductName.html">getProductName</a>,
<a href="HALion-Script/pages/./getProductVersion.html">getProductVersion</a>,
<a href="HALion-Script/pages/./getSamplingRate.html">getSamplingRate</a>,
<a href="HALion-Script/pages/./getScriptVersion.html">getScriptVersion</a>,
<a href="HALion-Script/pages/./getSlotIndex.html">getSlotIndex</a>,
<a href="HALion-Script/pages/./getTempo.html">getTempo</a>,
<a href="HALion-Script/pages/./getTime.html">getTime</a>,
<a href="HALion-Script/pages/./getTimeSignature.html">getTimeSignature</a>,
<a href="HALion-Script/pages/./getUsedMemory.html">getUsedMemory</a>,
<a href="HALion-Script/pages/./getUsedVoices.html">getUsedVoices</a>,
<a href="HALion-Script/pages/./getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a>,
<a href="HALion-Script/pages/./getUserPresetPath.html">getUserPresetPath</a>,
<a href="HALion-Script/pages/./getUserSubPresetPath.html">getUserSubPresetPath</a>,
<a href="HALion-Script/pages/./getVoices.html">getVoices</a>,
<a href="HALion-Script/pages/./isKeyDown.html">isKeyDown</a>,
<a href="HALion-Script/pages/./isNoteHeld.html">isNoteHeld</a>,
<a href="HALion-Script/pages/./isOctaveKeyDown.html">isOctaveKeyDown</a>,
<a href="HALion-Script/pages/./isPlaying.html">isPlaying</a>,</p>
<h2 id="conversion-functions"><a class="header" href="#conversion-functions">Conversion Functions</a></h2>
<p><a href="HALion-Script/pages/./beat2ms.html">beat2ms</a>,
<a href="HALion-Script/pages/./ms2beat.html">ms2beat</a>,
<a href="HALion-Script/pages/./ms2samples.html">ms2samples</a>,
<a href="HALion-Script/pages/./samples2ms.html">samples2ms</a>,</p>
<h2 id="element-functions"><a class="header" href="#element-functions">Element Functions</a></h2>
<p><a href="HALion-Script/pages/./findChildren.html">findChildren</a>,
<a href="HALion-Script/pages/./getChild.html">getChild</a>,
<a href="HALion-Script/pages/./getParameter.html">getParameter</a>,
<a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a>,
<a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>,
<a href="HALion-Script/pages/./hasParameter.html">hasParameter</a>,
<a href="HALion-Script/pages/./removeFromParent.html">removeFromParent</a>,
<a href="HALion-Script/pages/./setName.html">setName</a>,
<a href="HALion-Script/pages/./setParameter.html">setParameter</a>,
<a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a>,</p>
<h2 id="event-callback"><a class="header" href="#event-callback">Event Callback</a></h2>
<p><a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a>,
<a href="HALion-Script/pages/./onController.html">onController</a>,
<a href="HALion-Script/pages/./onData.html">onData</a>,
<a href="HALion-Script/pages/./onIdle.html">onIdle</a>,
<a href="HALion-Script/pages/./onInit.html">onInit</a>,
<a href="HALion-Script/pages/./onLoad.html">onLoad</a>,
<a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a>,
<a href="HALion-Script/pages/./onLoadSubPreset.html">onLoadSubPreset</a>,
<a href="HALion-Script/pages/./onNote.html">onNote</a>,
<a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>,
<a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a>,
<a href="HALion-Script/pages/./onRelease.html">onRelease</a>,
<a href="HALion-Script/pages/./onRemoveFromSlot.html">onRemoveFromSlot</a>,
<a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a>,
<a href="HALion-Script/pages/./onSave.html">onSave</a>,
<a href="HALion-Script/pages/./onSaveSubPreset.html">onSaveSubPreset</a>,
<a href="HALion-Script/pages/./onTriggerPad.html">onTriggerPad</a>,
<a href="HALion-Script/pages/./onUnhandledEvent.html">onUnhandledEvent</a>,</p>
<h2 id="event-functions"><a class="header" href="#event-functions">Event Functions</a></h2>
<p><a href="HALion-Script/pages/./afterTouch.html">afterTouch</a>,
<a href="HALion-Script/pages/./controlChange.html">controlChange</a>,
<a href="HALion-Script/pages/./pitchBend.html">pitchBend</a>,
<a href="HALion-Script/pages/./playNote.html">playNote</a>,
<a href="HALion-Script/pages/./playTriggerPad.html">playTriggerPad</a>,
<a href="HALion-Script/pages/./postEvent.html">postEvent</a>,
<a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>,</p>
<h2 id="instance-functions"><a class="header" href="#instance-functions">Instance Functions</a></h2>
<p><a href="HALion-Script/pages/./findBusses.html">findBusses</a>,
<a href="HALion-Script/pages/./findEffects.html">findEffects</a>,
<a href="HALion-Script/pages/./findSlots.html">findSlots</a>,
<a href="HALion-Script/pages/./getBus.html">getBus</a>,
<a href="HALion-Script/pages/./getProgram.html">getProgram</a>,
<a href="HALion-Script/pages/./getSlot.html">getSlot</a>,
<a href="HALion-Script/pages/./setProgram.html">setProgram</a>,</p>
<h2 id="layer-functions"><a class="header" href="#layer-functions">Layer Functions</a></h2>
<p><a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>,
<a href="HALion-Script/pages/./appendBus.html">appendBus</a>,
<a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>,
<a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>,
<a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>,
<a href="HALion-Script/pages/./appendZone.html">appendZone</a>,
<a href="HALion-Script/pages/./findBusses.html">findBusses</a>,
<a href="HALion-Script/pages/./findEffects.html">findEffects</a>,
<a href="HALion-Script/pages/./findLayers.html">findLayers</a>,
<a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>,
<a href="HALion-Script/pages/./findZones.html">findZones</a>,
<a href="HALion-Script/pages/./getBus.html">getBus</a>,
<a href="HALion-Script/pages/./getLayer.html">getLayer</a>,
<a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>,
<a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>,
<a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>,
<a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>,
<a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>,
<a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>,
<a href="HALion-Script/pages/./getZone.html">getZone</a>,
<a href="HALion-Script/pages/./insertBus.html">insertBus</a>,
<a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>,
<a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>,
<a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>,
<a href="HALion-Script/pages/./insertZone.html">insertZone</a>,
<a href="HALion-Script/pages/./removeBus.html">removeBus</a>,
<a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>,
<a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>,
<a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>,
<a href="HALion-Script/pages/./removeZone.html">removeZone</a>,
<a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>,
<a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>,
<a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>,
<a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>,</p>
<h2 id="midi-file-functions"><a class="header" href="#midi-file-functions">MIDI File Functions</a></h2>
<p><a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>,
<a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>,
<a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>,
<a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>,</p>
<h2 id="modulation-matrix-functions"><a class="header" href="#modulation-matrix-functions">Modulation Matrix Functions</a></h2>
<p><a href="HALion-Script/pages/./getSource1.html">getSource1</a>,
<a href="HALion-Script/pages/./getSource2.html">getSource2</a>,
<a href="HALion-Script/pages/./setSource1.html">setSource1</a>,
<a href="HALion-Script/pages/./setSource2.html">setSource2</a>,</p>
<h2 id="parameterdefinition-functions"><a class="header" href="#parameterdefinition-functions">ParameterDefinition Functions</a></h2>
<p><a href="HALion-Script/pages/./getDisplayString.html">getDisplayString</a>,</p>
<h2 id="qc-functions"><a class="header" href="#qc-functions">QC Functions</a></h2>
<p><a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>,
<a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>,
<a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>,
<a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>,
<a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>,
<a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>,
<a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>,
<a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>,
<a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>,
<a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>,
<a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>,</p>
<h2 id="slot-functions"><a class="header" href="#slot-functions">Slot Functions</a></h2>
<p><a href="HALion-Script/pages/./findBusses.html">findBusses</a>,
<a href="HALion-Script/pages/./findEffects.html">findEffects</a>,
<a href="HALion-Script/pages/./getBus.html">getBus</a>,</p>
<h2 id="timing-functions"><a class="header" href="#timing-functions">Timing Functions</a></h2>
<p><a href="HALion-Script/pages/./runAsync.html">runAsync</a>,
<a href="HALion-Script/pages/./runSync.html">runSync</a>,
<a href="HALion-Script/pages/./spawn.html">spawn</a>,
<a href="HALion-Script/pages/./wait.html">wait</a>,
<a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>,
<a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a>,</p>
<h2 id="ui-script-functions"><a class="header" href="#ui-script-functions">UI Script Functions</a></h2>
<p><a href="HALion-Script/pages/./getElement.html">getElement</a>,</p>
<h2 id="undo-functions"><a class="header" href="#undo-functions">Undo Functions</a></h2>
<p><a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a>,
<a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a>,
<a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>,</p>
<h2 id="voice-functions"><a class="header" href="#voice-functions">Voice Functions</a></h2>
<p><a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>,
<a href="HALion-Script/pages/./changePan.html">changePan</a>,
<a href="HALion-Script/pages/./changeTune.html">changeTune</a>,
<a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>,
<a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>,
<a href="HALion-Script/pages/./fade.html">fade</a>,</p>
<h2 id="zone-functions"><a class="header" href="#zone-functions">Zone Functions</a></h2>
<p><a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>,
<a href="HALion-Script/pages/./getOutputBus.html">getOutputBus</a>,
<a href="HALion-Script/pages/./setOutputBus.html">setOutputBus</a>,</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> /</p>
<h1 id="class-reference-1"><a class="header" href="#class-reference-1">Class Reference</a></h1>
<h2 id="class-hierarchy"><a class="header" href="#class-hierarchy">Class Hierarchy</a></h2>
<ul>
<li><a href="HALion-Script/pages/./Audio-File.html">Audio File</a></li>
<li><a href="HALion-Script/pages/./Element.html">Element</a>
<ul>
<li><a href="HALion-Script/pages/./Bus.html">Bus</a></li>
<li><a href="HALion-Script/pages/./Effect.html">Effect</a></li>
<li><a href="HALion-Script/pages/./Instance.html">Instance</a></li>
<li><a href="HALion-Script/pages/./Layer.html">Layer</a>
<ul>
<li><a href="HALion-Script/pages/./Program.html">Program</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></li>
<li><a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a></li>
<li><a href="HALion-Script/pages/./Slot.html">Slot</a></li>
<li><a href="HALion-Script/pages/./Zone.html">Zone</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/./Event.html">Event</a></li>
<li><a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a></li>
<li><a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> /</p>
<h1 id="audio-file"><a class="header" href="#audio-file">Audio File</a></h1>
<p>The AudioFile class describes the properties of audio files.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Audio-File.html#audiofile-class">AudioFile Class</a>, <a href="HALion-Script/pages/Audio-File.html#analyzepitch">analyzePitch</a>, <a href="HALion-Script/pages/Audio-File.html#canceldecompose">cancelDecompose</a>, <a href="HALion-Script/pages/Audio-File.html#cancelpitchanalysis">cancelPitchAnalysis</a>, <a href="HALion-Script/pages/Audio-File.html#decompose">decompose</a>, <a href="HALion-Script/pages/Audio-File.html#getdecomposeprogress">getDecomposeProgress</a>, <a href="HALion-Script/pages/Audio-File.html#getonsets">getOnsets</a>, <a href="HALion-Script/pages/Audio-File.html#getpeak">getPeak</a>, <a href="HALion-Script/pages/Audio-File.html#getpitch">getPitch</a>, <a href="HALion-Script/pages/Audio-File.html#getpitchanalysisprogress">getPitchAnalysisProgress</a></p>
<hr />
<h2 id="classes"><a class="header" href="#classes">Classes</a></h2>
<h3 id="audiofile-class"><a class="header" href="#audiofile-class">AudioFile Class</a></h3>
<h4 id="description"><a class="header" href="#description">Description</a></h4>
<p>The <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function creates an AudioFile object of the specified audio file. The AudioFile object can be used to retrieve information from the audio file, for example, the sample rate, bit depth, length in samples, etc. The AudioFile object has the following fields.</p>
<blockquote>
<p>❕ All fields of the AudioFile object are read-only.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields"><a class="header" href="#fields">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.valid</strong></td><td style="text-align: left">Indicates if the file is a supported audio file and whether it could be opened or not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.fileName</strong></td><td style="text-align: left">The file name that was used for opening the audio file.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.rate</strong></td><td style="text-align: left">The sample rate of the audio file. Returns <code>nil</code> if the audio file could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.bits</strong></td><td style="text-align: left">The bit depth of the audio file. Returns <code>nil</code> if the audio file could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.channels</strong></td><td style="text-align: left">The number of channels of the audio file. Returns <code>nil</code> if the audio file could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.length</strong></td><td style="text-align: left">The number of samples in the audio file. Returns <code>nil</code> if the audio file could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.rootKey</strong></td><td style="text-align: left">The root key stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.keyLow</strong></td><td style="text-align: left">The lowest key of the key range stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.keyHigh</strong></td><td style="text-align: left">The highest key of the key range stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velLow</strong></td><td style="text-align: left">The lowest velocity of the velocity range stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velHigh</strong></td><td style="text-align: left">The highest velocity of the velocity range stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.detune</strong></td><td style="text-align: left">The tune offset in cents stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.level</strong></td><td style="text-align: left">The level offset in dB stored in the sampler chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate sampler chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tempo</strong></td><td style="text-align: left">The tempo in bpm stored in a data chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.beats</strong></td><td style="text-align: left">The number of beats stored in a data chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.signature</strong></td><td style="text-align: left">A pair of values for the numerator and denominator of the signature stored in a data chunk of the audio file. The values are <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">number, number</td></tr>
<tr><td style="text-align: left"><strong>.sampleStart</strong></td><td style="text-align: left">The position of the sample start in samples stored in a data chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.sampleEnd</strong></td><td style="text-align: left">The position of the sample end in samples stored in a data chunk of the audio file. Returns <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.loops</strong></td><td style="text-align: left">The loop start and end positions in samples stored in a data chunk of the audio file. The returned table is an array that contains tables with the fields loopStart and loopEnd for each loop. Returns <code>nil</code> if the audio file does not contain an appropriate data chunk or could not be opened or is invalid.</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h4 id="example-7"><a class="header" href="#example-7">Example</a></h4>
<pre><code class="language-lua">-- Open an audio file from HALion Sonic 1.0.

fname = "vstsound://502B301A6C914CEDA5C7500DC890C4DC/.Samples/g:/projects/yamahacontentserver/download/release/smtg/winds/Samples/DP060_FluteC3.wav"
af = AudioFile.open(fname)
loops = af.loops

-- Print information from the audio file.

if af.valid then
  print(fname, "opened.")
  print("Sample Rate: ", af.rate)
  print("Bit Depth: ", af.bits)
  print("Channels: ", af.channels)
  print("Sample Length: ", af.length)
  if loops then
    print("Loop Start: ", loops[1].loopStart)
    print("Loop End: ", loops[1].loopEnd)
  end
else
  print(fname, "does not exist.")
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h2 id="methods"><a class="header" href="#methods">Methods</a></h2>
<h3 id="analyzepitch"><a class="header" href="#analyzepitch">analyzePitch</a></h3>
<blockquote>
<p><strong>analyzePitch(callback, channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h4 id="description-1"><a class="header" href="#description-1">Description</a></h4>
<p>Function to analyze the pitch of an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments <code>callback</code> and <code>channel</code> are optional. If called without a callback function, analyzePitch will be executed in the same thread. If called with a callback function as argument, analyzePitch will be executed in a separate, parallel thread. You can specify the channel to be analyzed with the <code>channel</code> argument. Without the <code>channel</code> argument, multiple channels of an audio file will be summed before the pitch is analyzed. The callback function is called with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object as the first and the <code>channel</code> as the second argument after the pitch has been analyzed. The results of analyzePitch are cashed for as long as the corresponding <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object exists. The function itself does not return any pitch information. You must use <a href="HALion-Script/pages/./getPitch.html">getPitch</a> to obtain the analyzed pitch.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments"><a class="header" href="#arguments">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called with the AudioFile object as argument after the pitch has been analyzed.</td><td style="text-align: left">function, optional</td></tr>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file to be analyzed. Leave this empty or set this to 0 for summing all audio channels before they are analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-8"><a class="header" href="#example-8">Example</a></h4>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="canceldecompose"><a class="header" href="#canceldecompose">cancelDecompose</a></h3>
<blockquote>
<p><strong>cancelDecompose()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h4 id="description-2"><a class="header" href="#description-2">Description</a></h4>
<p>Function to cancel the <a href="HALion-Script/pages/./decompose.html">decompose</a> function for an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. To cancel the decompose of a specific audio file, the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the cancelDecompose function must match the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the corresponding <a href="HALion-Script/pages/./decompose.html">decompose</a> function.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="example-9"><a class="header" href="#example-9">Example</a></h4>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="cancelpitchanalysis"><a class="header" href="#cancelpitchanalysis">cancelPitchAnalysis</a></h3>
<blockquote>
<p><strong>cancelPitchAnalysis(channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h4 id="description-3"><a class="header" href="#description-3">Description</a></h4>
<p>Function to cancel a pitch analysis you started with <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The <code>channel</code> argument specifies the channel of the audio file. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the <code>channel</code> argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-1"><a class="header" href="#arguments-1">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file that is being analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-10"><a class="header" href="#example-10">Example</a></h4>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="decompose"><a class="header" href="#decompose">decompose</a></h3>
<blockquote>
<p><strong>decompose{arguments}</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h4 id="description-4"><a class="header" href="#description-4">Description</a></h4>
<p>Function to decompose an audio file into its tonal and noise components. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The decompose function can be configured with named arguments. The named arguments are optional and if called without, decompose will be executed with its default settings.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-2"><a class="header" href="#arguments-2">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">This callback function is called with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the file path of the ouput sample(s) as arguments after the original sample has been decomposed. If called without a callback function, decompose will be executed in the same thread. If called with a callback function as argument, decompose will be executed in a separate, parallel thread.</td><td style="text-align: left">function, optional</td></tr>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples. The created samples are trimmed to this position. The default is 0 samples.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to less than or equal to 0 to use all samples from the specified <code>start</code> to the end of the sample. By default, everything from <code>start</code> to the end of the sample is decomposed. The created samples are trimmed to this length.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>sensitivity</strong></td><td style="text-align: left">Determines the minimum level difference that is needed to distinguish the tonal from the noise signals. The sensitivity is specified in dB and the value range is from -96 to 0 dB. The default is -24 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>cutoff</strong></td><td style="text-align: left">Sets the frequency limit below which the algorithm detects tonal signals. Any signals above the cutoff frequency are classified as noise, regardless of the <code>sensitivity</code> and <code>duration</code> arguments. The cutoff is specified in Hz and the value range is from 20 to 20000 Hz. The default is 20000 Hz.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">Allows you to specify the minimum length for a tonal signal in milliseconds. Signals that are shorter than the specified duration are classified as noise, longer signals are classified as tonal. The value range is fom 0 to 100 ms. The default is 80 ms.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>tonalLevel</strong></td><td style="text-align: left">Specifies the level of the tonal component in dB. The value range is from -96 to +12 dB. The default is 0 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>noiseLevel</strong></td><td style="text-align: left">Specifies the level of the noise component in dB. The value range is from -96 to +12 dB. The default is 0 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>outputMode</strong></td><td style="text-align: left">Defines if only one of the components, both components, or a mix of them is created. See <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a> for details.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>outputPath</strong></td><td style="text-align: left">Specifies the path for the decomposed audio files. If the string is empty, invalid, or nil, the file paths of the decompose settings of the plug-in will be used. The default is nil.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ Samples that were loaded from a VST Sound container can only be decomposed if the <code>ouputPath</code> argument is set to a valid file location. You can use <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a> to obtain the file location from the decompose settings of the plug-in.</p>
</blockquote>
<h4 id="example-11"><a class="header" href="#example-11">Example</a></h4>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="getdecomposeprogress"><a class="header" href="#getdecomposeprogress">getDecomposeProgress</a></h3>
<blockquote>
<p><strong>getDecomposeProgress()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h4 id="description-5"><a class="header" href="#description-5">Description</a></h4>
<p>Function to monitor the progress of the <a href="HALion-Script/pages/./decompose.html">decompose</a> function for an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. To get the progress of a specific audio file that is being decomposed, the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the getDecomposeProgress function must match the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the corresponding <a href="HALion-Script/pages/./decompose.html">decompose</a> function. The function returns two values: the progress as a value between 0 and 1 and an error message if the decompose did not succeed.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values"><a class="header" href="#return-values">Return Values</a></h4>
<p>Returns the progress as a float value between 0 and 1, and an error message if the decompose did not succeed. The error message returns <code>nil</code> if the decompose was successful.</p>
<h4 id="example-12"><a class="header" href="#example-12">Example</a></h4>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="getonsets"><a class="header" href="#getonsets">getOnsets</a></h3>
<blockquote>
<p><strong>getOnsets(start, length, peakThreshold, sensThreshold, minLength)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-6"><a class="header" href="#description-6">Description</a></h4>
<p>Function to analyze the onsets in an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The onset analysis is performed on the sum of all channels in the audio file. The arguments <code>start</code>  and <code>length</code>  define the time range in the audio file to be analyzed. The <code>peakThreshold</code>  and <code>sensThreshold</code>  arguments determine the minimum level and the weight of an onset, the <code>minLength</code>  argument determines the minimum duration between consecutive onsets.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-3"><a class="header" href="#arguments-3">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to equal to or less than 0 to use all samples from the specified <code>start</code> to the end of the sample.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>peakThreshold</strong></td><td style="text-align: left">The minimum level in decibels. Onsets with a lower level are skipped. The value range is from -96 to 0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>sensThreshold</strong></td><td style="text-align: left">The minimum weight in percent. Onsets with a lower weight are skipped. The value range is from 0 to 100.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>minLength</strong></td><td style="text-align: left">The minimum duration between consecutive onsets in milliseconds. The value range is from 0 to 10000.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-1"><a class="header" href="#return-values-1">Return Values</a></h4>
<p>Returns an array with the positions of the detected onsets.</p>
<h4 id="example-13"><a class="header" href="#example-13">Example</a></h4>
<pre><code class="language-lua">fname = "vstsound://271CB2CFA75E4295B1C273FA651FE11D/.Samples/g:/projects/yamahacontentserver/Download/Release/ycj/ME_Waveform/Loop145/samples/Loop145_072(2).wav"
 
af = AudioFile.open(fname)
 
onsets = af:getOnsets(0, -1, -24, 0, 10)
  
for i, pos in ipairs(onsets) do
   print(i.." ".."Onset: "..pos)
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="getpeak"><a class="header" href="#getpeak">getPeak</a></h3>
<blockquote>
<p><strong>getPeak(start, length, rms)</strong></p>
</blockquote>
<h4 id="description-7"><a class="header" href="#description-7">Description</a></h4>
<p>Function to analyze the levels in an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments start and length define the range in the audio file to be analyzed. The rms argument determines whether the peak level or the RMS level of the specified range is returned.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-4"><a class="header" href="#arguments-4">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to equal to or less than 0 to use all samples from the specified start to the end of the file.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>rms</strong></td><td style="text-align: left">If this is set to 0, the peak level of the specified range will be returned. If this is set to a value above 0, the RMS level over the specified range will be calculated.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-2"><a class="header" href="#return-values-2">Return Values</a></h4>
<p>Returns the level of the specifed range as a linear value. The example shows how to convert the value from linear to dB.</p>
<h4 id="example-14"><a class="header" href="#example-14">Example</a></h4>
<pre><code class="language-lua">function lin2db(lin)
  return 20 * math.log(lin) / math.log(10)
end

fname = "vstsound://F29C895D6D8E4D6C9BCBBA5198412192/.samples/Ambient Pad 01/Ambient Pad 01 - C3.tg3c"
af = AudioFile.open(fname)

-- Analyze the peak level in the first 1000 samples.

attpeak = af:getPeak(0, 1000, 0)

-- Analyze the RMS level in the range from 1000 samples till the end of the file.

susrms = af:getPeak(1000, -1, 1)
print("Attack Peak:", attpeak, "(", lin2db(attpeak), "dB )")
print("Sustain RMS:", susrms, "(", lin2db(susrms), "dB )")
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="getpitch"><a class="header" href="#getpitch">getPitch</a></h3>
<blockquote>
<p><strong>getPitch(start, length, channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h4 id="description-8"><a class="header" href="#description-8">Description</a></h4>
<p>Function to obtain the pitch of an audio file that has been analyzed with <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The audio file you want to obtain the pitch from is specified with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments <code>start</code> and <code>length</code> define the range in the audio file that is used for obtaining the pitch. The <code>channel</code> argument specifies the channel of the audio file that was analyzed. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the <code>channel</code> argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The function returns two values: The pitch as MIDI note number with decimals for cents and a boolean for voiced/unvoiced detection. If <code>length</code> is greater than 20 ms, the average of the pitches in the specified range is returned. If the audio file has not been analyzed in advance, getPitch returns <code>nil</code>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-5"><a class="header" href="#arguments-5">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to less than or equal to 0 to use all samples from the specified <code>start</code> to the end of the file.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the audio channel that was analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-3"><a class="header" href="#return-values-3">Return Values</a></h4>
<p>Returns two values:</p>
<ul>
<li>A float value representing the pitch as MIDI note number with decimals for cents,</li>
<li>a boolean for voiced/unvoiced detection. The return value <code>true</code> means that a pitch was detected in the specified range.</li>
</ul>
<p>If <code>length</code> is greater than 20 ms, the average of the pitches in the specified range is returned. If the audio file has not been analyzed in advance, getPitch returns <code>nil</code>.</p>
<h4 id="example-15"><a class="header" href="#example-15">Example</a></h4>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<h3 id="getpitchanalysisprogress"><a class="header" href="#getpitchanalysisprogress">getPitchAnalysisProgress</a></h3>
<blockquote>
<p><strong>getPitchAnalysisProgress(channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h4 id="description-9"><a class="header" href="#description-9">Description</a></h4>
<p>Function to monitor the progress of <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The <code>channel</code> argument specifies the channel of the audio file. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the channel argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The function returns the progress as a float value between 0 and 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-6"><a class="header" href="#arguments-6">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file that is being analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-4"><a class="header" href="#return-values-4">Return Values</a></h4>
<p>Returns the progress as a float value between 0 and 1.</p>
<h4 id="example-16"><a class="header" href="#example-16">Example</a></h4>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><a href="HALion-Script/pages/Audio-File.html#audio-file">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> /</p>
<h1 id="element"><a class="header" href="#element">Element</a></h1>
<p>The Element class is the base class for the classes <a href="HALion-Script/pages/./Bus.html">Bus</a>, <a href="HALion-Script/pages/./Instance.html">Instance</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./Slot.html">Slot</a> and <a href="HALion-Script/pages/./Zone.html">Zone</a>.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-1"><a class="header" href="#classes-1">Classes</a></h2>
<h3 id="element-class"><a class="header" href="#element-class">Element Class</a></h3>
<p>The different types of elements are <a href="HALion-Script/pages/./Instance.html">Instance</a>, <a href="HALion-Script/pages/./Slot.html">Slot</a>, <a href="HALion-Script/pages/./Program.html">Program</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a>, <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a> and <a href="HALion-Script/pages/./Effect.html">Effect</a>. The properties of an Element object are described by the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-1"><a class="header" href="#fields-1">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.name</strong></td><td style="text-align: left">Returns the name of the element.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">Returns the unique ID of the element.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">Returns the type of the element.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.parameterDefinitions</strong></td><td style="text-align: left">Returns an array with all <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> objects of the element.</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>.parent</strong></td><td style="text-align: left">Returns the parent element in the Program Tree. This evaluates to <code>nil</code> if the element is the program.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a> or <code>nil</code></td></tr>
<tr><td style="text-align: left"><strong>.program</strong></td><td style="text-align: left">Returns the program element in the Program Tree.</td><td style="text-align: left"><a href="HALion-Script/pages/./Program.html">Program</a></td></tr>
<tr><td style="text-align: left"><strong>.level</strong></td><td style="text-align: left">Returns the level in the Program Tree hierarchy. The program equals level 1. Each sublayer adds +1 to the level.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-17"><a class="header" href="#example-17">Example</a></h4>
<pre><code class="language-lua">-- Print information about the script module.

print(this.name)
print(this.id)
print(this.type)
print(this.name)
print(this.numParams)
print(this.parent.name)
print(this.program.name)
print(this.level)
 
-- Print the names of all parameters of the parent element.

defs = this.parent.parameterDefinitions
 
for i, def in ipairs(defs) do
    print(def.name)
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h2 id="methods-1"><a class="header" href="#methods-1">Methods</a></h2>
<h3 id="findchildren"><a class="header" href="#findchildren">findChildren</a></h3>
<blockquote>
<p><strong>findChildren(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-10"><a class="header" href="#description-10">Description</a></h4>
<p>Function to find children in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Element.html">Element</a> objects of the found children. Particular children can be searched by name or via a filter function. If searching by name, findChildren accepts only the <a href="HALion-Script/pages/./Element.html">Element</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Element.html">Element</a> object of each child as argument. Only those <a href="HALion-Script/pages/./Element.html">Element</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findChildren. Without a name or filter function, the <a href="HALion-Script/pages/./Element.html">Element</a> objects of all children in the searched <a href="HALion-Script/pages/./Element.html">Element</a> object will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-7"><a class="header" href="#arguments-7">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the children searched for or a filter function. Only the <a href="HALion-Script/pages/./Element.html">Element</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-5"><a class="header" href="#return-values-5">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Element.html">Element</a> objects of the found children. Returns an empty table if no children are found.</p>
<h4 id="example-18"><a class="header" href="#example-18">Example</a></h4>
<pre><code class="language-lua">-- Find the MIDI module with the name "Lua Script" and print its type.

scriptModules = this.parent:findChildren(false, "Lua Script")
 
if scriptModules[1] then
    print(scriptModules[1].type)
end
 
-- Find all children and print their names.
children = this.program:findChildren(true)
 
if children[1] then
    for i, child in ipairs(children) do
        print(child.name)
    end
else
    print("Could not find any children!")
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="getchild"><a class="header" href="#getchild">getChild</a></h3>
<blockquote>
<p><strong>getChild(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-11"><a class="header" href="#description-11">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Element.html">Element</a> object of a child in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular child can be searched by name or position. The position is the number indexing the children in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several children share the same name, only the first match will be returned. If no argument is set, the function returns the first child it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-8"><a class="header" href="#arguments-8">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the child. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-6"><a class="header" href="#return-values-6">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Element.html">Element</a> object of the found child. Returns <code>nil</code> if no child is found.</p>
<h4 id="example-19"><a class="header" href="#example-19">Example</a></h4>
<pre><code class="language-lua">-- Locate the first child in the program and print its name.

child = this.program:getChild()
 
if child then
    print(child.name)
else
    print("Could not find a child!")
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="getparameter"><a class="header" href="#getparameter">getParameter</a></h3>
<blockquote>
<p><strong>getParameter(nameOrID)</strong></p>
</blockquote>
<h4 id="description-12"><a class="header" href="#description-12">Description</a></h4>
<p>Function to read the current value of a parameter. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-9"><a class="header" href="#arguments-9">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-7"><a class="header" href="#return-values-7">Return Values</a></h4>
<p>Returns the current value of the parameter or nil if the parameter doesn't exist.</p>
<h4 id="example-20"><a class="header" href="#example-20">Example</a></h4>
<pre><code class="language-lua">-- Print the value of the parent layer's level parameter.

function onLoadIntoSlot()
    print("Level = "..this.parent:getParameter("Level")) -- via name
    print("Level = "..this.parent:getParameter(38))      -- via ID
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="getparameterdefinition"><a class="header" href="#getparameterdefinition">getParameterDefinition</a></h3>
<blockquote>
<p><strong>getParameterDefinition(nameOrID)</strong></p>
</blockquote>
<h4 id="description-13"><a class="header" href="#description-13">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object for a parameter. The parameter can be determined by name or ID. The <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object describes the properties of a parameter.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-10"><a class="header" href="#arguments-10">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-8"><a class="header" href="#return-values-8">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object for the specified parameter.</p>
<h4 id="example-21"><a class="header" href="#example-21">Example</a></h4>
<pre><code class="language-lua">-- Print the parameter definition with corresponding
-- data type of the parent layer's level parameter.

function onLoadIntoSlot()
  
    local def = this.parent:getParameterDefinition("Level")
  
    print("Name = "..def.name..", "..type(def.name))
    print("ID = "..def.id..", "..type(def.id))
    print("Type = "..def.type..", "..type(def.type))
    print("Default = "..def.default..", "..type(def.default))
    print("Read Only = "..tostring(def.readOnly)..", "..type(def.readOnly))
    print("Min = "..def.min..", "..type(def.min))
    print("Max = "..def.max..", "..type(def.max))
    print("Unit = "..def.unit..", "..type(def.unit).."\n")
  
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="getparameternormalized"><a class="header" href="#getparameternormalized">getParameterNormalized</a></h3>
<blockquote>
<p><strong>getParameterNormalized(nameOrID)</strong></p>
</blockquote>
<h4 id="description-14"><a class="header" href="#description-14">Description</a></h4>
<p>Function to read the current value of a parameter in the normalized range from 0 to 1.0. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-11"><a class="header" href="#arguments-11">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-9"><a class="header" href="#return-values-9">Return Values</a></h4>
<p>Returns the current value of the parameter in the normalized range from 0 to 1.0 or nil if the parameter doesn't exist. If the parameter is not numeric, the function returns the same as getParameter</p>
<h4 id="example-22"><a class="header" href="#example-22">Example</a></h4>
<pre><code class="language-lua">-- Print the normalized value of the parent layer's level parameter.

function onLoadIntoSlot()
    print("Level = "..this.parent:getParameterNormalized("Level")) -- via name
    print("Level = "..this.parent:getParameterNormalized(38))      -- via ID
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="hasparameter"><a class="header" href="#hasparameter">hasParameter</a></h3>
<blockquote>
<p><strong>hasParameter(nameOrID)</strong></p>
</blockquote>
<h4 id="description-15"><a class="header" href="#description-15">Description</a></h4>
<p>Function to check if a parameter exists. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-12"><a class="header" href="#arguments-12">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-10"><a class="header" href="#return-values-10">Return Values</a></h4>
<p>Returns <code>true</code> if the parameter exists or <code>false</code> if not.</p>
<h4 id="example-23"><a class="header" href="#example-23">Example</a></h4>
<pre><code class="language-lua">-- Check if the elements in the Program Tree have filter cutoff.

function onLoadIntoSlot()
    childs = this.program:findChildren(true)
    for i, child in ipairs(childs) do
        if child:hasParameter("Filter.Cutoff") then
            print(child.name.." has filter cutoff.")
        else
            print(child.name.." has no filter cutoff.")
        end
    end
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="removefromparent"><a class="header" href="#removefromparent">removeFromParent</a></h3>
<blockquote>
<p><strong>removeFromParent()</strong></p>
</blockquote>
<h4 id="description-16"><a class="header" href="#description-16">Description</a></h4>
<p>Function to remove an element in the <strong>Program Tree</strong> from the parent element. The function can remove elements of the type <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a> and <a href="HALion-Script/pages/./Effect.html">Effect</a>. It can even remove the script module that calls the function.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="example-24"><a class="header" href="#example-24">Example</a></h4>
<pre><code class="language-lua">-- Remove the second child element.

childs = this.program:findChildren(true)
if childs[2] then
    childs[2]:removeFromParent()
end

-- Remove the program bus.

bus = this.program:getBus("Program-Bus")
if bus then
    bus:removeFromParent()
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="setname"><a class="header" href="#setname">setName</a></h3>
<blockquote>
<p><strong>setName(name)</strong></p>
</blockquote>
<h4 id="description-17"><a class="header" href="#description-17">Description</a></h4>
<p>Function to change the name of an element in the <strong>Program Tree</strong>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-13"><a class="header" href="#arguments-13">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">The new name for the element.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="example-25"><a class="header" href="#example-25">Example</a></h4>
<pre><code class="language-lua">-- Print current name of the script module.

print(this.name)

-- Set the name of the script module to "My Element".

this:setName("My Element")

-- Print the new name of the script module.

print(this.name)
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="setparameter"><a class="header" href="#setparameter">setParameter</a></h3>
<blockquote>
<p><strong>setParameter(nameOrID, value, undo)</strong></p>
</blockquote>
<h4 id="description-18"><a class="header" href="#description-18">Description</a></h4>
<p>Function to set the value of a parameter. The parameter can be determined by name or ID. The function will have no effect if the parameter does not exist.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-14"><a class="header" href="#arguments-14">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value that you want to set.</td><td style="text-align: left">The new value must match the data type of the parameter.</td></tr>
<tr><td style="text-align: left"><strong>undo</strong></td><td style="text-align: left">Determines if the parameter change will be part of the undo. This argument is only evaluated in the controller context. A parameter change in the processor context never has undo. If setParameter is called in the controller context it will be part of the undo, unless you set this argument to <code>false</code>. For example, you should set this to <code>false</code> if the call to setParameter is made within a parameter callback that is already part of the undo, and if the order of execution of these parameter changes is important.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-26"><a class="header" href="#example-26">Example</a></h4>
<pre><code class="language-lua">-- Set the value of the Level parameter of the parent layer.

function onLoadIntoSlot()
    this.parent:setParameter("Level", 0) -- Set via name.
    this.parent:setParameter(38, 0)      -- Set via ID.
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<h3 id="setparameternormalized"><a class="header" href="#setparameternormalized">setParameterNormalized</a></h3>
<blockquote>
<p><strong>setParameterNormalized(nameOrID, value, undo)</strong></p>
</blockquote>
<h4 id="description-19"><a class="header" href="#description-19">Description</a></h4>
<p>Function to set the value of a parameter in the normalized range from 0 to 1.0. The parameter can be determined by name or ID. This function has no effect if the parameter does not exist or if the value is of the type string.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-15"><a class="header" href="#arguments-15">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value you want to set in the normalized range from 0 to 1.0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>undo</strong></td><td style="text-align: left">Determines if the parameter change will be part of the undo. This argument is only evaluated in the controller context. A parameter change in the processor context never has undo. If setParameter is called in the controller context it will be part of the undo, unless you set this argument to <code>false</code>. For example, you should set this to <code>false</code> if the call to setParameter is made within a parameter callback that is already part of the undo, and if the order of execution of these parameter changes is important.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-27"><a class="header" href="#example-27">Example</a></h4>
<pre><code class="language-lua">-- Set the normalized value of the parent layer's level parameter.

function onLoadIntoSlot()
    this.parent:setParameterNormalized("Level", 0.5) -- Set via name.
    this.parent:setParameterNormalized(38, 0.5)      -- Set via ID.
end
</code></pre>
<p><a href="HALion-Script/pages/Element.html#element">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="bus"><a class="header" href="#bus">Bus</a></h1>
<p>The Bus class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Bus.html#bus-class">Bus Class</a>, <a href="HALion-Script/pages/Bus.html#bus-constructor">Bus Constructor</a>, <a href="HALion-Script/pages/Bus.html#findeffects">findEffects</a>, <a href="HALion-Script/pages/Bus.html#geteffect">getEffect</a>, <a href="HALion-Script/pages/Bus.html#inserteffect">insertEffect</a>, <a href="HALion-Script/pages/Bus.html#appendeffect">appendEffect</a>, <a href="HALion-Script/pages/Bus.html#removeeffect">removeEffect</a>, <a href="HALion-Script/pages/Bus.html#getoutputbus">getOutputBus</a>, <a href="HALion-Script/pages/Bus.html#setoutputbus">setOutpuBus</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-1"><a class="header" href="#element-1">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-2"><a class="header" href="#classes-2">Classes</a></h2>
<h3 id="bus-class"><a class="header" href="#bus-class">Bus Class</a></h3>
<h4 id="description-20"><a class="header" href="#description-20">Description</a></h4>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of a bus can be obtained with <a href="HALion-Script/pages/./findBusses.html">findBusses</a> or <a href="HALion-Script/pages/./getBus.html">getBus</a>. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-2"><a class="header" href="#fields-2">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.isAuxBus</strong></td><td style="text-align: left">Returns <code>true</code> if this is an aux bus and <code>false</code> if it is not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.auxNumber</strong></td><td style="text-align: left">The number of the corresponding aux bus.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.numChannels</strong></td><td style="text-align: left">The number of output channels of the bus.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.active</strong></td><td style="text-align: left">Returns <code>true</code> if the bus is active and <code>false</code> if it is not active.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.bypassMask</strong></td><td style="text-align: left">Determines if a bus follows the global inserts and Aux bypass buttons. See <a href="HALion-Script/pages/./Bypass-Masks.html">Bypass Masks</a> for details.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-28"><a class="header" href="#example-28">Example</a></h4>
<pre><code class="language-lua">-- Print the names of the active output busses of the plug-in.

busses = this.program.instance:findBusses()
 
for i, bus in ipairs(busses) do
    if bus.active then
        print(bus.name)
    end
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h2 id="constructors"><a class="header" href="#constructors">Constructors</a></h2>
<h3 id="bus-constructor"><a class="header" href="#bus-constructor">Bus Constructor</a></h3>
<blockquote>
<p><strong>Bus()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-21"><a class="header" href="#description-21">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Bus.html">Bus</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values-11"><a class="header" href="#return-values-11">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Bus.html">Bus</a> object.</p>
<h4 id="example-29"><a class="header" href="#example-29">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h2 id="methods-2"><a class="header" href="#methods-2">Methods</a></h2>
<h3 id="findeffects"><a class="header" href="#findeffects">findEffects</a></h3>
<blockquote>
<p><strong>findEffects(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-22"><a class="header" href="#description-22">Description</a></h4>
<p>Function to find effects in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. To specifiy a bus to be searched in, use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a>. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Particular effects can be searched by name or via a filter function. If searching by name, <a href="HALion-Script/pages/./findEffects.html">findEffects</a> accepts only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of each effect as argument. Only those <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findEffects.html">findEffects</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of all effects in the searched <a href="HALion-Script/pages/./Element.html">Element</a> objects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-16"><a class="header" href="#arguments-16">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the effects searched for or a filter function. Only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-12"><a class="header" href="#return-values-12">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Returns an empty table if no effects are found.</p>
<h4 id="example-30"><a class="header" href="#example-30">Example</a></h4>
<pre><code class="language-lua">-- Find all effects and print their names.
effects = this.program:findEffects(true)
 
if effects[1] then
    for i, effect in ipairs(effects) do
        print(effect.name)
    end
else
    print("Could not find any effects!")
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="geteffect"><a class="header" href="#geteffect">getEffect</a></h3>
<blockquote>
<p><strong>getEffect(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-23"><a class="header" href="#description-23">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of an effect from the specified bus. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to specify the bus. A particular effect can be searched by name or position. The position is the number indexing the effects in the specified bus. If several effects share the same name, only the first match will be returned. If no argument is set, the function returns the first effect that it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-17"><a class="header" href="#arguments-17">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the effect. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-13"><a class="header" href="#return-values-13">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the found effect. Returns <code>nil</code> if no bus is found.</p>
<h4 id="example-31"><a class="header" href="#example-31">Example</a></h4>
<pre><code class="language-lua">-- Locate the first bus in the program.

bus = this.program:getBus()

if bus then
    -- Locate the first effect of the bus and print its name.
    effect = bus:getEffect()
    if effect then
        print(effect.name)
    else
        print("Could not find an effect!")
    end
else
    print("Could not find a bus!")
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="inserteffect"><a class="header" href="#inserteffect">insertEffect</a></h3>
<blockquote>
<p><strong>insertEffect(effect, position)</strong></p>
</blockquote>
<h4 id="description-24"><a class="header" href="#description-24">Description</a></h4>
<p>Function to insert an effect at a specific position in a destination bus. The effect to be inserted is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the effect. The destination bus is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the destination bus. The position is the number indexing the effects in the destination bus. The new effect will be inserted before the specified position. To add the effect at the end, use <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-18"><a class="header" href="#arguments-18">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>effect</strong></td><td style="text-align: left">The element object of the effect that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the effect is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-32"><a class="header" href="#example-32">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert an effect from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first effect from the loaded program.
effect = loadedProgram:getBus():getEffect()
 
-- Get the first bus of this program.
bus = this.program:getBus()
 
-- Insert the effect.
if (effect and bus) then
   bus:insertEffect(effect, 1)
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="appendeffect"><a class="header" href="#appendeffect">appendEffect</a></h3>
<blockquote>
<p><strong>appendEffect(effect)</strong></p>
</blockquote>
<h4 id="description-25"><a class="header" href="#description-25">Description</a></h4>
<p>Function to add an effect to the specified destination bus. The destination bus is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the destination bus. The effect to be added is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the effect. The new effect will be added behind the existing effects. To insert an effect at a specific position in the bus, use <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-19"><a class="header" href="#arguments-19">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th>Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>effect</strong></td><td>The <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the insert effect that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a></td></tr>
</tbody></table>
</div>
<h4 id="example-33"><a class="header" href="#example-33">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert an effect from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first effect from the loaded program.
effect = loadedProgram:getBus():getEffect()
  
-- Get the first bus of this program.
bus = this.program:getBus()
  
-- Append the effect.
if (insert and bus) then
    bus:appendEffect(effect)
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="removeeffect"><a class="header" href="#removeeffect">removeEffect</a></h3>
<blockquote>
<p><strong>removeEffect(effectOrPosition)</strong></p>
</blockquote>
<h4 id="description-26"><a class="header" href="#description-26">Description</a></h4>
<p>Function to remove an effect from a bus. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to define the bus that contains the effect. The effect to be removed is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object or its position. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the <a href="HALion-Script/pages/./Effect.html">Effect</a> object. The position is the number indexing the effects in the bus.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-20"><a class="header" href="#arguments-20">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>insertOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Effect.html">Effect</a> object or the position of the effect to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a> or number</td></tr>
</tbody></table>
</div>
<h4 id="example-34"><a class="header" href="#example-34">Example</a></h4>
<pre><code class="language-lua">-- Remove all effects from the program.
 
busses = this.program:findBusses(true)
 
for i, bus in ipairs(busses) do
    effects = bus:findEffects(true)
    for j, effect in ipairs(effects) do
        bus:removeEffect(effect)
    end
end
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="getoutputbus"><a class="header" href="#getoutputbus">getOutputBus</a></h3>
<blockquote>
<p><strong>getOutputBus()</strong></p>
</blockquote>
<h4 id="description-27"><a class="header" href="#description-27">Description</a></h4>
<p>Function to retrieve the currently assigned output bus of a zone or bus.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="return-values-14"><a class="header" href="#return-values-14">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the currently assigned output bus or <code>nil</code> if the default routing is used.</p>
<h4 id="example-35"><a class="header" href="#example-35">Example</a></h4>
<pre><code class="language-lua">-- Raise an error if no output bus is assigned.

zone = this.parent:getZone()

assert(zone:getOutputBus(), "No output bus assigned. The default routing is used!")
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<h3 id="setoutputbus"><a class="header" href="#setoutputbus">setOutputBus</a></h3>
<blockquote>
<p><strong>setOutputBus(bus)</strong></p>
</blockquote>
<h4 id="description-28"><a class="header" href="#description-28">Description</a></h4>
<p>Function to assign the output of a zone or bus to the specified output bus. The sending zone or bus is determined by its <a href="HALion-Script/pages/./Element.html">Element</a> object. The receiving output bus is specified by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. Setting the output bus to <code>nil</code> enables the default signal routing for the zone or bus.</p>
<blockquote>
<p>❕ Output busses that are higher up in the hierarchy of the <strong>Program Tree</strong> can be assigned freely. If the sending bus and the receiving output bus have the same parent layer, the output bus must come later in the signal flow.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-21"><a class="header" href="#arguments-21">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to assign, or <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a> or <code>nil</code></td></tr>
</tbody></table>
</div>
<h4 id="example-36"><a class="header" href="#example-36">Example</a></h4>
<pre><code class="language-lua">-- Assign the output of the zone to the Master output bus of the plug-in.

zone = this.parent:getZone()
masterbus = this.program.instance:getBus(1)
 
zone:setOutputBus(masterbus)
 
print("Output of "..zone.name.." is assigned to "..masterbus.name..".")
</code></pre>
<p><a href="HALion-Script/pages/Bus.html#bus">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="effect"><a class="header" href="#effect">Effect</a></h1>
<p>The Effect class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Effect.html#effect-class">Effect Class</a>, <a href="HALion-Script/pages/Effect.html#effect-constructor">Effect Constructor</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-2"><a class="header" href="#element-2">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-3"><a class="header" href="#classes-3">Classes</a></h2>
<h3 id="effect-class"><a class="header" href="#effect-class">Effect Class</a></h3>
<h4 id="description-29"><a class="header" href="#description-29">Description</a></h4>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of an effect can be obtained with <a href="HALion-Script/pages/./findEffects.html">findEffects</a> or <a href="HALion-Script/pages/./getEffect.html">getEffect</a>. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-3"><a class="header" href="#fields-3">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.moduleType</strong></td><td style="text-align: left">Returns the effect type.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.bypassMask</strong></td><td style="text-align: left">Determines if an effect follows the global inserts and Aux bypass buttons. See <a href="HALion-Script/pages/./Bypass-Masks.html">Bypass Masks</a> for details.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-37"><a class="header" href="#example-37">Example</a></h4>
<pre><code class="language-lua">effects = this.program:findEffects(true)

for i , effect in ipairs(effects) do
    print(effect.moduleType)
end
</code></pre>
<p><a href="HALion-Script/pages/Effect.html#effect">Jump to Top </a></p>
<h2 id="constructors-1"><a class="header" href="#constructors-1">Constructors</a></h2>
<h3 id="effect-constructor"><a class="header" href="#effect-constructor">Effect Constructor</a></h3>
<blockquote>
<p><strong>Effect(type)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-30"><a class="header" href="#description-30">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the specified type.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-22"><a class="header" href="#arguments-22">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of effect.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="return-values-15"><a class="header" href="#return-values-15">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the specified type.</p>
<h4 id="example-38"><a class="header" href="#example-38">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/Effect.html#effect">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="instance"><a class="header" href="#instance">Instance</a></h1>
<p>The Instance class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Instance.html#findbusses">findBusses</a>, <a href="HALion-Script/pages/Instance.html#findeffects">findEffects</a>, <a href="HALion-Script/pages/Instance.html#findslots">findSlots</a>, <a href="HALion-Script/pages/Instance.html#getbus">getBus</a>, <a href="HALion-Script/pages/Instance.html#getslot">getSlot</a>, <a href="HALion-Script/pages/Instance.html#getprogram">getProgram</a>, <a href="HALion-Script/pages/Instance.html#setprogram">setProgram</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-3"><a class="header" href="#element-3">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="methods-3"><a class="header" href="#methods-3">Methods</a></h2>
<h3 id="findbusses"><a class="header" href="#findbusses">findBusses</a></h3>
<blockquote>
<p><strong>findBusses(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-31"><a class="header" href="#description-31">Description</a></h4>
<p>Function to find busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Particular busses can be searched by name or via a filter function. If searching by name, findBusses accepts only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of each bus as argument. Only those <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findBusses. Without a name or filter function, the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of all busses in the searched Element obects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-23"><a class="header" href="#arguments-23">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the busses searched for or a filter function. Only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-16"><a class="header" href="#return-values-16">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Returns an empty table if no busses are found.</p>
<h4 id="example-39"><a class="header" href="#example-39">Example</a></h4>
<pre><code class="language-lua">-- Find all busses and print their names.
busses = this.program:findBusses(true)
 
if busses[1] then
    for i, bus in ipairs(busses) do
        print(bus.name)
    end
else
    print("Could not find any busses!")
end
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="findeffects-1"><a class="header" href="#findeffects-1">findEffects</a></h3>
<blockquote>
<p><strong>findEffects(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-32"><a class="header" href="#description-32">Description</a></h4>
<p>Function to find effects in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. To specifiy a bus to be searched in, use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a>. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Particular effects can be searched by name or via a filter function. If searching by name, <a href="HALion-Script/pages/./findEffects.html">findEffects</a> accepts only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of each effect as argument. Only those <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findEffects.html">findEffects</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of all effects in the searched <a href="HALion-Script/pages/./Element.html">Element</a> objects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-24"><a class="header" href="#arguments-24">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the effects searched for or a filter function. Only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-17"><a class="header" href="#return-values-17">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Returns an empty table if no effects are found.</p>
<h4 id="example-40"><a class="header" href="#example-40">Example</a></h4>
<pre><code class="language-lua">-- Find all effects and print their names.
effects = this.program:findEffects(true)
 
if effects[1] then
    for i, effect in ipairs(effects) do
        print(effect.name)
    end
else
    print("Could not find any effects!")
end
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="findslots"><a class="header" href="#findslots">findSlots</a></h3>
<blockquote>
<p><strong>findSlots(nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-33"><a class="header" href="#description-33">Description</a></h4>
<p>Function to find the slots of the plug-in instance. Before calling this function you must access the Instance object with <code>this.program.instance</code>. The function returns an array with the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of the found slots. Particular slots can be searched by name or via a filter function. If searching by name, findSlots accepts only the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of each slot as argument. Only those <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findSlots. Without a name or filter function, the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of all slots in the instance will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-25"><a class="header" href="#arguments-25">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the slots searched for or a filter function. Only the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-18"><a class="header" href="#return-values-18">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of the found slots. Returns an empty table if no slots are found.</p>
<h4 id="example-41"><a class="header" href="#example-41">Example</a></h4>
<pre><code class="language-lua">-- Print the names of all slots.

slots = this.program.instance:findSlots()
  
for i, slot in ipairs(slots) do
        print(slot.name)
end
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="getbus"><a class="header" href="#getbus">getBus</a></h3>
<blockquote>
<p><strong>getBus(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-34"><a class="header" href="#description-34">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of a bus in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular bus can be searched by name or position. The position is the number indexing the busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several busses share the same name, only the first match will be returned. If no argument is set, the function returns the first bus it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-26"><a class="header" href="#arguments-26">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the bus. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-19"><a class="header" href="#return-values-19">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the found bus. Returns <code>nil</code> if no bus is found.</p>
<h4 id="example-42"><a class="header" href="#example-42">Example</a></h4>
<pre><code class="language-lua">-- Locate the first bus in the program and print its name.

bus = this.program:getBus()
 
if bus then
    print(bus.name)
else
    print("Could not find a bus!")
end
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="getslot"><a class="header" href="#getslot">getSlot</a></h3>
<blockquote>
<p><strong>getSlot(nameOrIndex)</strong></p>
</blockquote>
<h4 id="description-35"><a class="header" href="#description-35">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of a slot of the plug-in instance. Before calling this function you must access the <a href="HALion-Script/pages/./Instance.html">Instance</a> object with <code>this.program.instance</code>. A particular slot can be searched by name or index. The index equals the slot numbering in the <strong>Slot Rack</strong>. If no argument is set, the function returns the first slot it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-27"><a class="header" href="#arguments-27">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrIndex</strong></td><td style="text-align: left">The name or index of the slot. Set this to nil to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-20"><a class="header" href="#return-values-20">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of the found slot. Returns <code>nil</code> if no slot is found.</p>
<h4 id="example-43"><a class="header" href="#example-43">Example</a></h4>
<pre><code class="language-lua">-- Print the name of slot index 3.

slot = this.program.instance:getSlot(3)

print(slot.name)
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="getprogram"><a class="header" href="#getprogram">getProgram</a></h3>
<blockquote>
<p><strong>getProgram(index)</strong></p>
</blockquote>
<h4 id="description-36"><a class="header" href="#description-36">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Program.html">Program</a> object of a program in the <strong>Program Table</strong> of the plug-in instance. Before calling this function you must access the <a href="HALion-Script/pages/./Instance.html">Instance</a> object with <code>this.program.instance</code>. The index corresponds to the number of the slot in the <strong>Program Table</strong> where the program is set. The function returns the <a href="HALion-Script/pages/./Program.html">Program</a> object of the program with the specified index.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-28"><a class="header" href="#arguments-28">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the slot in the Program Table where the program is set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-21"><a class="header" href="#return-values-21">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Program.html">Program</a> object of the program with the specified index.</p>
<h4 id="example-44"><a class="header" href="#example-44">Example</a></h4>
<pre><code class="language-lua">-- Print the name of the program in the third slot of the Program Table.

program = this.program.instance:getProgram(3)
print(program.name)
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<h3 id="setprogram"><a class="header" href="#setprogram">setProgram</a></h3>
<blockquote>
<p><strong>setProgram(programOrNil, index)</strong></p>
</blockquote>
<h4 id="description-37"><a class="header" href="#description-37">Description</a></h4>
<p>Function to set a program in the specified slot of the Program Table or the Slot Rack of the plug-in instance. Before calling this function, you must access the Instance object with this.program.instance. The program is determined by its Program object. To specify the slot in the Program Table, you must use the index argument. To specify the slot in the Slot Rack, you must use a Slot object, for example, via getSlot. The program can be removed from the Slot Rack by using nil as argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, each program can exist only once in the <strong>Program Table</strong>. Furthermore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance cannot be added twice to the <strong>Program Table</strong>. It must be removed before it can be added again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be added freely to the <strong>Program Table</strong>, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-29"><a class="header" href="#arguments-29">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>programOrNil</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Program.html">Program</a> object of the program. Programs can be removed from the <strong>Slot Rack</strong> by using <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Program.html">Program</a> or <code>nil</code></td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the slot in the <strong>Program Table</strong> where you want to set the program.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-45"><a class="header" href="#example-45">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Set Program.vstpreset in slot 3 of the Program Table and slot 1 of the Slot Rack.
     
-- Get the file path for user VST presets.
path = getUserPresetPath()
     
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Set loadedProgram in slot 3 of the Program Table.
this.program.instance:setProgram(loadedProgram, 3)
 
-- Set program in slot 1 of the Slot Rack.
program = this.program.instance:getProgram(3)
this.program.instance:getSlot(1):setProgram(program)
  
-- Clear slot 2 of the Slot Rack.
this.program.instance:getSlot(2):setProgram(nil)
</code></pre>
<p><a href="HALion-Script/pages/Instance.html#instance">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="layer"><a class="header" href="#layer">Layer</a></h1>
<p>The Layer class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/./Layer.html#appendbus">appendBus</a>, <a href="HALion-Script/pages/./Layer.html#appendlayer">appendLayer</a>, <a href="HALion-Script/pages/./Layer.html#appendlayerasync">appendLayerAsync</a>, <a href="HALion-Script/pages/./Layer.html#appendmidimodule">appendMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#appendzone">appendZone</a>, <a href="HALion-Script/pages/./Layer.html#findbusses">findBusses</a>, <a href="HALion-Script/pages/./Layer.html#findeffects">findEffects</a>, <a href="HALion-Script/pages/./Layer.html#findlayers">findLayers</a>, <a href="HALion-Script/pages/./Layer.html#findmidimodules">findMidiModules</a>, <a href="HALion-Script/pages/./Layer.html#findzones">findZones</a>, <a href="HALion-Script/pages/./Layer.html#getbus">getBus</a>,
<a href="HALion-Script/pages/./Layer.html#getlayer">getLayer</a>, <a href="HALion-Script/pages/./Layer.html#getmidimodule">getMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#getzone">getZone</a>, <a href="HALion-Script/pages/./Layer.html#insertbus">insertBus</a>,
<a href="HALion-Script/pages/./Layer.html#insertlayer">insertLayer</a>, <a href="HALion-Script/pages/./Layer.html#insertlayerasync">insertLayerAsync</a>, <a href="HALion-Script/pages/./Layer.html#insertmidimodule">insertMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#insertzone">insertZone</a>, <a href="HALion-Script/pages/./Layer.html#removebus">removeBus</a>, <a href="HALion-Script/pages/./Layer.html#removelayer">removeLayer</a>, <a href="HALion-Script/pages/./Layer.html#removemidimodule">removeMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#removezone">removeZone</a>, <a href="HALion-Script/pages/./Layer.html#addqcassignment">addQCAssignment</a>, <a href="HALion-Script/pages/./Layer.html#removeqcassignment">removeQCAssignment</a>, <a href="HALion-Script/pages/./Layer.html#getnumqcassignments">getNumQCAssignments</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentparamid">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentscope">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmin">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmax">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentcurve">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmode">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentbypass">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentparamid">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentscope">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmin">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmax">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentcurve">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmode">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentbypass">setQCAssignmentBypass</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-4"><a class="header" href="#element-4">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="constructors-2"><a class="header" href="#constructors-2">Constructors</a></h2>
<h3 id="layer-constructor"><a class="header" href="#layer-constructor">Layer Constructor</a></h3>
<blockquote>
<p><strong>Layer()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-38"><a class="header" href="#description-38">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Layer.html">Layer</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values-22"><a class="header" href="#return-values-22">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Layer.html">Layer</a> object.</p>
<h4 id="example-46"><a class="header" href="#example-46">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h2 id="methods-4"><a class="header" href="#methods-4">Methods</a></h2>
<h3 id="appendbus"><a class="header" href="#appendbus">appendBus</a></h3>
<blockquote>
<p><strong>appendBus(bus)</strong></p>
</blockquote>
<h4 id="description-39"><a class="header" href="#description-39">Description</a></h4>
<p>Function to add a bus in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The bus to be added is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the bus. The new bus will be added behind the existing busses. To insert a bus at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertBus.html">insertBus</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-30"><a class="header" href="#arguments-30">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a></td></tr>
</tbody></table>
</div>
<h4 id="example-47"><a class="header" href="#example-47">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append the bus from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first bus from the loaded program.
bus = loadedProgram:getBus()
   
-- Append the bus.
if bus then
    this.program:appendBus(bus)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="appendlayer"><a class="header" href="#appendlayer">appendLayer</a></h3>
<blockquote>
<p><strong>appendLayer(layer)</strong></p>
</blockquote>
<h4 id="description-40"><a class="header" href="#description-40">Description</a></h4>
<p>Function to add a layer in the specified destination layer. The layer to be added and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be added. For example, <code>this.parent</code> defines the parent layer of the script module as destination layer. The new layer will be added behind the existing layers. To insert a layer at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a> or <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-31"><a class="header" href="#arguments-31">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
</tbody></table>
</div>
<h4 id="example-48"><a class="header" href="#example-48">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append the layer from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first layer from the loaded program.
layer = loadedProgram:getLayer ()
    
-- Append the layer.
if layer then
    this.program:appendLayer(layer)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="appendlayerasync"><a class="header" href="#appendlayerasync">appendLayerAsync</a></h3>
<blockquote>
<p><strong>appendLayerAsync(layer, callback)</strong></p>
</blockquote>
<h4 id="description-41"><a class="header" href="#description-41">Description</a></h4>
<p>Function to add a layer in the specified destination layer using a separate, parallel thread. Appending a layer in a separate thread can be necessary if the layer is too big to be added in a short time. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The new layer will be added behind the existing layers. To insert a layer at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a> or <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a> instead. The function returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object that can be used to monitor the load progress. After the layer is added, the callback function is called. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as default argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-32"><a class="header" href="#arguments-32">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called when the layer is added. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as argument.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-23"><a class="header" href="#return-values-23">Return Values</a></h4>
<p>Returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object.</p>
<h4 id="example-49"><a class="header" href="#example-49">Example</a></h4>
<pre><code class="language-lua">-- Start with an empty program, remove any existing layers.

layers = this.parent:findLayers()
 
if layers then
   for i, layer in ipairs(layers) do
       this.parent:removeLayer(layer)
   end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
   { name = "Ambient Pad 01", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
   { name = "Ambient Pad 02", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
   { name = "Ambient Pad 03", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
   { name = "Ambient Pad 04", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
-- Create a table with the preset names.
function getPresetNames()
   presetNames = {}
   for i, preset in ipairs(layerPresets) do
       presetNames[i] = preset.name
   end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
   local newPreset = progressInfo.root
   if oldPreset then
       this.parent:removeLayer(oldPreset)
       print(oldPreset.name.." removed.")
   end
   oldPreset = newPreset
end
 
-- Append the preset in a separate thread.
function appendNewLayer(progressInfo)
   if progressInfo.root then
       this.parent:appendLayerAsync(progressInfo.root, removeOldLayer)
       print("Appending "..progressInfo.root.name.."...")
   end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged()
   progress = 0
   progressInf = loadPresetAsync(layerPresets[SelectPreset].path, appendNewLayer)
   print("Loading "..layerPresets[SelectPreset].name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset", "Select Preset", 1, presetNames, onSelectPresetChanged)
 
-- Monitor the load progress with onIdle.
progress = 1
function onIdle()
   if progress &lt; 1 then
       progress = progressInf.progress
       print("Progress: "..(progressInf.progress * 100).."%")
   end
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="appendmidimodule"><a class="header" href="#appendmidimodule">appendMidiModule</a></h3>
<blockquote>
<p><strong>appendMidiModule(module)</strong></p>
</blockquote>
<h4 id="description-42"><a class="header" href="#description-42">Description</a></h4>
<p>Function to add a MIDI module in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The MIDI module to be added is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the desired MIDI module. The new MIDI module will be added behind the existing MIDI modules. To insert a MIDI module at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-33"><a class="header" href="#arguments-33">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>module</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the MIDI module that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></td></tr>
</tbody></table>
</div>
<h4 id="example-50"><a class="header" href="#example-50">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append a MIDI module from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first MIDI module from the loaded program.
module = loadedProgram:getMidiModule()
    
-- Append the MIDI module.
if module then
    this.program:appendMidiModule(module)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="appendzone"><a class="header" href="#appendzone">appendZone</a></h3>
<blockquote>
<p><strong>appendZone(zone)</strong></p>
</blockquote>
<h4 id="description-43"><a class="header" href="#description-43">Description</a></h4>
<p>Function to add a zone in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The zone to be added is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the zone. The new zone will be added behind the existing zones. To insert a zone at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertZone.html">insertZone</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-34"><a class="header" href="#arguments-34">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zone</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
</tbody></table>
</div>
<h4 id="example-51"><a class="header" href="#example-51">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append a zone from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first zone from the loaded program.
zone = loadedProgram:getZone()
    
-- Append the zone.
if zone then
    this.program:appendZone(zone)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="findbusses-1"><a class="header" href="#findbusses-1">findBusses</a></h3>
<blockquote>
<p><strong>findBusses(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-44"><a class="header" href="#description-44">Description</a></h4>
<p>Function to find busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Particular busses can be searched by name or via a filter function. If searching by name, findBusses accepts only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of each bus as argument. Only those <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findBusses. Without a name or filter function, the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of all busses in the searched Element obects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-35"><a class="header" href="#arguments-35">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the busses searched for or a filter function. Only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-24"><a class="header" href="#return-values-24">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Returns an empty table if no busses are found.</p>
<h4 id="example-52"><a class="header" href="#example-52">Example</a></h4>
<pre><code class="language-lua">-- Find all busses and print their names.
busses = this.program:findBusses(true)
 
if busses[1] then
    for i, bus in ipairs(busses) do
        print(bus.name)
    end
else
    print("Could not find any busses!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="findeffects-2"><a class="header" href="#findeffects-2">findEffects</a></h3>
<blockquote>
<p><strong>findEffects(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-45"><a class="header" href="#description-45">Description</a></h4>
<p>Function to find effects in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. To specifiy a bus to be searched in, use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a>. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Particular effects can be searched by name or via a filter function. If searching by name, <a href="HALion-Script/pages/./findEffects.html">findEffects</a> accepts only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of each effect as argument. Only those <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findEffects.html">findEffects</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of all effects in the searched <a href="HALion-Script/pages/./Element.html">Element</a> objects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-36"><a class="header" href="#arguments-36">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the effects searched for or a filter function. Only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-25"><a class="header" href="#return-values-25">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Returns an empty table if no effects are found.</p>
<h4 id="example-53"><a class="header" href="#example-53">Example</a></h4>
<pre><code class="language-lua">-- Find all effects and print their names.
effects = this.program:findEffects(true)
 
if effects[1] then
    for i, effect in ipairs(effects) do
        print(effect.name)
    end
else
    print("Could not find any effects!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="findlayers"><a class="header" href="#findlayers">findLayers</a></h3>
<blockquote>
<p><strong>findLayers(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-46"><a class="header" href="#description-46">Description</a></h4>
<p>Function to find layers in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of the found layers. Particular layers can be searched by name or via a filter function. If searching by name,<a href="HALion-Script/pages/./findLayers.html"> findLayers</a> accepts only the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of each layer as argument. Only those <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findLayers.html">findLayers</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of all layers in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-37"><a class="header" href="#arguments-37">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the layers searched for or a filter function. Only the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-26"><a class="header" href="#return-values-26">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of the found layers. Returns an empty table if no layers are found.</p>
<h4 id="example-54"><a class="header" href="#example-54">Example</a></h4>
<pre><code class="language-lua">-- Find all layers and print their names.

layers = this.program:findLayers(true)
 
if layers[1] then
    for i, layer in ipairs(layers) do
        print(layer.name)
    end
else
    print("Could not find any layers!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="findmidimodules"><a class="header" href="#findmidimodules">findMidiModules</a></h3>
<blockquote>
<p><strong>findMidiModules(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-47"><a class="header" href="#description-47">Description</a></h4>
<p>Function to find MIDI modules in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of the found MIDI modules. Particular MIDI modules can be searched by name or via a filter function. If searching by name, findMidiModules accepts only the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of each MIDI module as argument. Only those <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findMidiModules. Without a name or filter function, the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of all MIDI modules in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-38"><a class="header" href="#arguments-38">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left">recursive</td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the MIDI modules searched for or a filter function. Only the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-27"><a class="header" href="#return-values-27">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of the found MIDI modules. Returns an empty table if no MIDI modules are found.</p>
<h4 id="example-55"><a class="header" href="#example-55">Example</a></h4>
<pre><code class="language-lua">-- Find all MIDI modules and print their names.

modules = this.program:findMidiModules(true)
 
if modules[1] then
    for i, module in ipairs(modules) do
        print(module.name)
    end
else
    print("Could not find any MIDI modules!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="findzones"><a class="header" href="#findzones">findZones</a></h3>
<blockquote>
<p><strong>findZones(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-48"><a class="header" href="#description-48">Description</a></h4>
<p>Function to find zones in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of the found zones. Particular zones can be searched by name or via a filter function. If searching by name, findZones accepts only the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of each zone as argument. Only those <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findZones. Without a name or filter function, the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of all zones in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-39"><a class="header" href="#arguments-39">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the zones searched for or a filter function. Only the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-28"><a class="header" href="#return-values-28">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of the found zones. Returns an empty table if no zones are found.</p>
<h4 id="example-56"><a class="header" href="#example-56">Example</a></h4>
<pre><code class="language-lua">-- Find all zones and print their names.

zones = this.program:findZones(true)
 
if zones[1] then
    for i, zone in ipairs(zones) do
        print(zone.name)
    end
else
    print("Could not find any zones!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getbus-1"><a class="header" href="#getbus-1">getBus</a></h3>
<blockquote>
<p><strong>getBus(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-49"><a class="header" href="#description-49">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of a bus in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular bus can be searched by name or position. The position is the number indexing the busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several busses share the same name, only the first match will be returned. If no argument is set, the function returns the first bus it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-40"><a class="header" href="#arguments-40">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the bus. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-29"><a class="header" href="#return-values-29">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the found bus. Returns <code>nil</code> if no bus is found.</p>
<h4 id="example-57"><a class="header" href="#example-57">Example</a></h4>
<pre><code class="language-lua">-- Locate the first bus in the program and print its name.

bus = this.program:getBus()
 
if bus then
    print(bus.name)
else
    print("Could not find a bus!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getlayer"><a class="header" href="#getlayer">getLayer</a></h3>
<blockquote>
<p><strong>getLayer(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-50"><a class="header" href="#description-50">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of a layer in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. The function does not search in sublayers. A particular layer can be searched by name or position. The position is the number indexing the layers in the specified layer. If several layers share the same name, only the first match will be returned. If no argument is set, the function returns the first layer it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-41"><a class="header" href="#arguments-41">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the layer. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-30"><a class="header" href="#return-values-30">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the found layer. Returns <code>nil</code> if no layer is found.</p>
<h4 id="example-58"><a class="header" href="#example-58">Example</a></h4>
<pre><code class="language-lua">-- Locate the first layer in the program and print its name.

layer = this.program:getLayer()
 
if layer then
    print(layer.name)
else
    print("Could not find a layer!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getmidimodule"><a class="header" href="#getmidimodule">getMidiModule</a></h3>
<blockquote>
<p><strong>getMidiModule(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-51"><a class="header" href="#description-51">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of a MIDI module in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. This function does not search in sublayers. A particular MIDI module can be searched by name or position. The position is the number indexing the MIDI modules in the specified layer. If several MIDI modules share the same name, only the first match will be returned. If no argument is set, the function returns the first MIDI module it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-42"><a class="header" href="#arguments-42">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the MIDI module. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-31"><a class="header" href="#return-values-31">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the found MIDI module. Returns <code>nil</code> if no MIDI module is found.</p>
<h4 id="example-59"><a class="header" href="#example-59">Example</a></h4>
<pre><code class="language-lua">-- Locate the first MIDI module in the program and print its name.

module = this.program:getMidiModule()
 
if module then
    print(module.name)
else
    print("Could not find a MIDI module!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getzone"><a class="header" href="#getzone">getZone</a></h3>
<blockquote>
<p><strong>getZone(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-52"><a class="header" href="#description-52">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of a zone in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. This function does not search in sublayers. A particular zone can be searched by name or position. The position is the number indexing the zones in the specified layer. If several zones share the same name, only the first match will be returned. If no argument is set, the function returns the first zone it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-43"><a class="header" href="#arguments-43">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the zone. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-32"><a class="header" href="#return-values-32">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the found zone. Returns <code>nil</code> if no zone is found.</p>
<h4 id="example-60"><a class="header" href="#example-60">Example</a></h4>
<pre><code class="language-lua">-- Get the first zone in the program and print its name.

zone = this.program:getZone()
 
if zone then
    print(zone.name)
else
    print("Could not find a zone!")
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="insertbus"><a class="header" href="#insertbus">insertBus</a></h3>
<blockquote>
<p><strong>insertBus(bus, position)</strong></p>
</blockquote>
<h4 id="description-53"><a class="header" href="#description-53">Description</a></h4>
<p>Function to insert a bus at the specified position in the destination layer. The bus to be inserted is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the bus. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> sets the parent layer of the script module as destination layer. The position is the number indexing the existing busses in the destination layer. The new bus will be inserted before the specified position. To add the bus at the end, use <a href="HALion-Script/pages/./appendBus.html">appendBus</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-44"><a class="header" href="#arguments-44">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the bus is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-61"><a class="header" href="#example-61">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert the bus from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first bus from the loaded program.
bus = loadedProgram:getBus()
  
-- Insert the bus.
if bus then
    this.program:insertBus(bus, 1)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="insertlayer"><a class="header" href="#insertlayer">insertLayer</a></h3>
<blockquote>
<p><strong>insertLayer(layer, position)</strong></p>
</blockquote>
<h4 id="description-54"><a class="header" href="#description-54">Description</a></h4>
<p>Function to insert a layer at a specific position in a destination layer. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing layers in the destination layer. The new layer will be inserted before the specified position. To add the layer at the end, use <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a> or <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-45"><a class="header" href="#arguments-45">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to insert.</td><td style="text-align: left">Layer</td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the layer is to be inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-62"><a class="header" href="#example-62">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a layer from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first layer from the loaded program.
layer = loadedProgram:getLayer ()
   
-- Insert the layer.
if layer then
    this.program:insertLayer(layer, 1)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="insertlayerasync"><a class="header" href="#insertlayerasync">insertLayerAsync</a></h3>
<blockquote>
<p><strong>insertLayerAsync(layer, position, callback)</strong></p>
</blockquote>
<h4 id="description-55"><a class="header" href="#description-55">Description</a></h4>
<p>Function to insert a layer at a specified position in a destination layer using a separate, parallel thread. Inserting a layer in a separate thread can be necessary if the layer is too big to be inserted in a short time. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing layers in the destination layer. The new layer will be inserted before the specified position. To add the layer at the end, use <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a> or <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a> instead. The function returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object that can be used to monitor the load progress. After the layer is inserted, the callback function is called. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as default argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-46"><a class="header" href="#arguments-46">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the layer that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the layer is to be inserted.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called when the layer is inserted. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as argument.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-33"><a class="header" href="#return-values-33">Return Values</a></h4>
<p>Returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object.</p>
<h4 id="example-63"><a class="header" href="#example-63">Example</a></h4>
<pre><code class="language-lua">-- Start with an empty program, remove all existing layers.
layers = this.parent:findLayers()
 
if layers then
  for i, layer in ipairs(layers) do
      this.parent:removeLayer(layer)
  end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
  { name = "Ambient Pad 01", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
  { name = "Ambient Pad 02", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
  { name = "Ambient Pad 03", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
  { name = "Ambient Pad 04", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
 
-- Create a table with the preset names.
function getPresetNames()
  presetNames = {}
  for i, preset in ipairs(layerPresets) do
    presetNames[i] = preset.name
  end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
  local newPreset = progressInfo.root
  if oldPreset then
    this.parent:removeLayer(oldPreset)
    print(oldPreset.name.." removed.")
  end
  oldPreset = newPreset
end
 
-- Insert the preset in a separate thread.
function insertNewLayer(progressInfo)
  if progressInfo.root then
    this.parent:insertLayerAsync(progressInfo.root, 1, removeOldLayer)
    print("Inserting "..progressInfo.root.name.."...")
  end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged(layerPreset)
  loadPresetAsync(layerPreset.path, insertNewLayer)
  print("Loading "..layerPreset.name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset",  "Select Preset",  1, presetNames, function() onSelectPresetChanged(layerPresets[SelectPreset]) end)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="insertmidimodule"><a class="header" href="#insertmidimodule">insertMidiModule</a></h3>
<blockquote>
<p><strong>insertMidiModule(module, position)</strong></p>
</blockquote>
<h4 id="description-56"><a class="header" href="#description-56">Description</a></h4>
<p>Function to insert a MIDI module at the specified position in the determined destination layer. The MIDI module to be inserted is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the desired MIDI module. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing MIDI modules in the destination layer. The new MIDI module will be inserted before the specified position. To add the MIDI module at the end, use <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-47"><a class="header" href="#arguments-47">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>module</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the MIDI module that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the MIDI module is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-64"><a class="header" href="#example-64">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a MIDI module from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first MIDI module from the loaded program.
module = loadedProgram:getMidiModule()
   
-- Insert the MIDI module.
if module then
    this.program:insertMidiModule(module, 1)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="insertzone"><a class="header" href="#insertzone">insertZone</a></h3>
<blockquote>
<p><strong>insertZone(zone, position)</strong></p>
</blockquote>
<h4 id="description-57"><a class="header" href="#description-57">Description</a></h4>
<p>Function to insert a zone at the specified position in the determined layer. The zone to be inserted is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the desired zone. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing zones in the destination layer. The new zone will be inserted before the specified position. To add the zone at the end, use <a href="HALion-Script/pages/./appendZone.html">appendZone</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-48"><a class="header" href="#arguments-48">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zone</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the zone is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-65"><a class="header" href="#example-65">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a zone from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first zone from the loaded program.
zone = loadedProgram:getZone()
   
-- Insert the zone.
if zone then
    this.program:insertZone(zone, 1)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="removebus"><a class="header" href="#removebus">removeBus</a></h3>
<blockquote>
<p><strong>removeBus(busOrPosition)</strong></p>
</blockquote>
<h4 id="description-58"><a class="header" href="#description-58">Description</a></h4>
<p>Function to remove a bus from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the bus. The bus to be removed is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object or its position. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the <a href="HALion-Script/pages/./Bus.html">Bus</a> object. The position is the number that indexes the busses in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-49"><a class="header" href="#arguments-49">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>busOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object or the position of the bus to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a> or number</td></tr>
</tbody></table>
</div>
<h4 id="example-66"><a class="header" href="#example-66">Example</a></h4>
<pre><code class="language-lua">-- Remove all busses from the program.
    
busses = this.program:findBusses(true)

for i, bus in ipairs(busses) do
    this.parent:removeBus(bus)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="removelayer"><a class="header" href="#removelayer">removeLayer</a></h3>
<blockquote>
<p><strong>removeLayer(layerOrPosition)</strong></p>
</blockquote>
<h4 id="description-59"><a class="header" href="#description-59">Description</a></h4>
<p>Function to remove a layer from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the layer to be removed. The layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object or its position. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the <a href="HALion-Script/pages/./Layer.html">Layer</a> object. The position is the number indexing the layers within the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-50"><a class="header" href="#arguments-50">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layerOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Layer.html">Layer</a> object or the position of the layer to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a> or number</td></tr>
</tbody></table>
</div>
<h4 id="example-67"><a class="header" href="#example-67">Example</a></h4>
<pre><code class="language-lua">-- Remove all layers from the program.

layers = this.program:findLayers(true)

for i, layer in ipairs(layers) do
    layer.parent:removeLayer(layer)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="removemidimodule"><a class="header" href="#removemidimodule">removeMidiModule</a></h3>
<blockquote>
<p><strong>removeMidiModule(moduleOrPosition)</strong></p>
</blockquote>
<h4 id="description-60"><a class="header" href="#description-60">Description</a></h4>
<p>Function to remove a MIDI module from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the MIDI module. The MIDI module to be removed is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object or its position. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. The position is the number that indexes the MIDI modules in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-51"><a class="header" href="#arguments-51">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>moduleOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object or the position of the MIDI module to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> or number</td></tr>
</tbody></table>
</div>
<h4 id="example-68"><a class="header" href="#example-68">Example</a></h4>
<pre><code class="language-lua">-- Remove all MIDI modules from the program except the script module.

modules = this.program:findMidiModules(true)

for i, module in ipairs(modules) do
    if module ~= this then -- Exclude script module.
        module.parent:removeMidiModule(module)
    end
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="removezone"><a class="header" href="#removezone">removeZone</a></h3>
<blockquote>
<p><strong>removeZone(zoneOrPosition)</strong></p>
</blockquote>
<h4 id="description-61"><a class="header" href="#description-61">Description</a></h4>
<p>Function to remove a zone from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the zone. The zone to be removed is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object or its position. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the <a href="HALion-Script/pages/./Zone.html">Zone</a> object. The position is the number that indexes the zones in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-52"><a class="header" href="#arguments-52">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zoneOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object or position of the zone to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a> or number</td></tr>
</tbody></table>
</div>
<h4 id="example-69"><a class="header" href="#example-69">Example</a></h4>
<pre><code class="language-lua">-- Remove all zones from the program.

zones = this.program:findZones(true)

for i, zone in ipairs(zones) do
    zone.parent:removeZone(zone)
end
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="addqcassignment"><a class="header" href="#addqcassignment">addQCAssignment</a></h3>
<blockquote>
<p><strong>addQCAssignment(qc, element, nameOrID, scope)</strong></p>
</blockquote>
<h4 id="description-62"><a class="header" href="#description-62">Description</a></h4>
<p>Function to add a quick control assignment to the specified layer and quick control. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control that you want to edit. The quick control assignment will be added to the quick control with the index stated by the <code>qc</code> argument. The arguments <code>element</code> and <code>nameOrID</code> specify the parameter to be connected. The scope determines the part of the program that will be affected by the quick control assignment. You specify the scope by setting the <code>scope</code> argument to the <a href="HALion-Script/pages/./Element.html">Element</a> object that corresponds to the desired part of the program.</p>
<blockquote>
<p>❕ The index of the quick controls starts counting from 1. QC 1 to QC 8 have index 1 to 8. Sphere H, Sphere V and Mod Wheel have index 9, 10 and 11.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-53"><a class="header" href="#arguments-53">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control to which the assignment will be added.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>element</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the parameter to be connected.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>scope</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object that will be affected by the quick control assignment.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
</tbody></table>
</div>
<h4 id="example-70"><a class="header" href="#example-70">Example</a></h4>
<pre><code class="language-lua">-- Assign the octave parameter of the zone to the
-- first quick control of the script module's parent layer.

layer = this.parent
zones = layer:findZones(true)
 
layer:addQCAssignment(1, zones[1], "Pitch.Octave", layer)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="removeqcassignment"><a class="header" href="#removeqcassignment">removeQCAssignment</a></h3>
<blockquote>
<p><strong>removeQCAssignment(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-63"><a class="header" href="#description-63">Description</a></h4>
<p>Function to remove a quick control assignment from the specified layer and quick control. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control with the assignment to be removed. The <code>assignment</code> argument is the index of the quick control assignment to be removed. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-54"><a class="header" href="#arguments-54">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control with the assignment to be removed.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment to be removed.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-71"><a class="header" href="#example-71">Example</a></h4>
<pre><code class="language-lua">-- Remove all quick control assignments from the specified layer and qc.
 
function clearQC(layer, qc)
    local assignments = layer:getNumQCAssignments(qc)
    if assignments &gt; 0 then
        for i = assignments, 1, -1 do
            layer:removeQCAssignment(qc, i)
        end
        print(assignments.." assignments have been removed from '"..layer.name.."', QC "..qc..".")
    else
        print("No assignments found on '"..layer.name.."', QC "..qc..".")
    end
end
 
clearQC(this.parent, 1)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getnumqcassignments"><a class="header" href="#getnumqcassignments">getNumQCAssignments</a></h3>
<blockquote>
<p><strong>getNumQCAssignments(qc)</strong></p>
</blockquote>
<h4 id="description-64"><a class="header" href="#description-64">Description</a></h4>
<p>Function to retrieve the number of assignments of a quick control on the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer with the desired quick control. The <code>qc</code> argument is the index of the quick control with the requested assignments.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-55"><a class="header" href="#arguments-55">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-34"><a class="header" href="#return-values-34">Return Values</a></h4>
<p>Returns the number of assignments of the specified layer and quick control.</p>
<h4 id="example-72"><a class="header" href="#example-72">Example</a></h4>
<pre><code class="language-lua">-- Print the number of assignments of the first quick control on the parent layer.

layer = this.parent
qc = 1
 
print("Number of assignments on '"..layer.name.."', QC "..qc..": "..layer:getNumQCAssignments(qc)..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentparamid"><a class="header" href="#getqcassignmentparamid">getQCAssignmentParamId</a></h3>
<blockquote>
<p><strong>getQCAssignmentParamId(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-65"><a class="header" href="#description-65">Description</a></h4>
<p>Function to retrieve the parameter ID of the parameter that is connected to the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, this.parent defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested parameter. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-56"><a class="header" href="#arguments-56">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-35"><a class="header" href="#return-values-35">Return Values</a></h4>
<p>Returns the parameter ID of the parameter connected to the specified quick control assignment.</p>
<h4 id="example-73"><a class="header" href="#example-73">Example</a></h4>
<pre><code class="language-lua">-- Print the parameter ID of the parameter connected to the qc assignment.

layer = this.parent
qc = 1
assignment = 1
 
paramID = layer:getQCAssignmentParamId(qc, assignment)
 
print("Parameter ID of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..paramID..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentscope"><a class="header" href="#getqcassignmentscope">getQCAssignmentScope</a></h3>
<blockquote>
<p><strong>getQCAssignmentScope(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-66"><a class="header" href="#description-66">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Element.html">Element</a> object that is set as scope for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the layer, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested scope. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-57"><a class="header" href="#arguments-57">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-36"><a class="header" href="#return-values-36">Return Values</a></h4>
<p>Returns the element object that is set as scope for the specified quick control assignment.</p>
<h4 id="example-74"><a class="header" href="#example-74">Example</a></h4>
<pre><code class="language-lua">-- Print the scope for the qc assignment.

layer = this.parent
qc = 1
assignment = 1
 
scope = layer:getQCAssignmentScope(qc, assignment).name -- use only the name of the returned element
 
print("Scope of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..scope..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentmin"><a class="header" href="#getqcassignmentmin">getQCAssignmentMin</a></h3>
<blockquote>
<p><strong>getQCAssignmentMin(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-67"><a class="header" href="#description-67">Description</a></h4>
<p>Function to retrieve the minimum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested minimum value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-58"><a class="header" href="#arguments-58">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-37"><a class="header" href="#return-values-37">Return Values</a></h4>
<p>Returns the minimum value of the specified quick control assignment.</p>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h4 id="example-75"><a class="header" href="#example-75">Example</a></h4>
<pre><code class="language-lua">-- Print the minimum value of the qc assignment as displayed in HALion.
layer = this.parent
qc = 1
assignment = 1
 
qcMode = layer:getQCAssignmentMode(qc, assignment)
qcMin = layer:getQCAssignmentMin(qc, assignment)
 
-- Convert to bipolar range if the qc is of the type relative or switch relative.
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMin = qcMin * 2 - 100
end
  
print("Minimum value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcMin..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentmax"><a class="header" href="#getqcassignmentmax">getQCAssignmentMax</a></h3>
<blockquote>
<p><strong>getQCAssignmentMax(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-68"><a class="header" href="#description-68">Description</a></h4>
<p>Function to retrieve the maximum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested maximum value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-59"><a class="header" href="#arguments-59">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-38"><a class="header" href="#return-values-38">Return Values</a></h4>
<p>Returns the maximum value of the specified quick control assignment.</p>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h4 id="example-76"><a class="header" href="#example-76">Example</a></h4>
<pre><code class="language-lua">-- Print the maximum value of the qc assignment as displayed in HALion.

layer = this.parent
qc = 1
assignment = 1
  
qcMode = layer:getQCAssignmentMode(qc, assignment)
qcMax = layer:getQCAssignmentMax(qc, assignment)
  
-- Convert to bipolar range if the qc is of the type relative or switch relative.

if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMax = qcMax * 2 - 100
end
   
print("Maximum value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcMax..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentcurve"><a class="header" href="#getqcassignmentcurve">getQCAssignmentCurve</a></h3>
<blockquote>
<p><strong>getQCAssignmentCurve(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-69"><a class="header" href="#description-69">Description</a></h4>
<p>Function to retrieve the curve value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested curve value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-60"><a class="header" href="#arguments-60">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-39"><a class="header" href="#return-values-39">Return Values</a></h4>
<p>Returns the curve value of the specified quick control assignment. The value range is -100% to +100%.</p>
<h4 id="example-77"><a class="header" href="#example-77">Example</a></h4>
<pre><code class="language-lua">-- Print the curve value of the qc assignment.

layer = this.parent
qc = 1
assignment = 1
  
qcCurve = layer:getQCAssignmentCurve(qc, assignment)
   
print("Curve value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcCurve..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentmode"><a class="header" href="#getqcassignmentmode">getQCAssignmentMode</a></h3>
<blockquote>
<p><strong>getQCAssignmentMode(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-70"><a class="header" href="#description-70">Description</a></h4>
<p>Function to retrieve the mode that is set for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested mode. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-61"><a class="header" href="#arguments-61">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-40"><a class="header" href="#return-values-40">Return Values</a></h4>
<p>Returns the mode that is set for the specified quick control assignment as a number. The mode can be determined via names or indices. See <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a> for details.</p>
<h4 id="example-78"><a class="header" href="#example-78">Example</a></h4>
<pre><code class="language-lua">-- Print the mode of the qc assignment.
layer = this.parent
qc = 1
assignment = 1
   
qcMode = layer:getQCAssignmentMode(qc, assignment)
  
if qcMode == QCAssignmentMode.absolute then
    qcModeName = "Absolute"
elseif qcMode == QCAssignmentMode.relative then
    qcModeName = "Relative"
elseif qcMode == QCAssignmentMode.switch then
    qcModeName = "Switch"
elseif qcMode == QCAssignmentMode.switchRelative then
    qcModeName = "Switch Relative"
end
    
print("Mode of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcModeName..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="getqcassignmentbypass"><a class="header" href="#getqcassignmentbypass">getQCAssignmentBypass</a></h3>
<blockquote>
<p><strong>getQCAssignmentBypass(qc, assignment)</strong></p>
</blockquote>
<h4 id="description-71"><a class="header" href="#description-71">Description</a></h4>
<p>Function to retrieve the bypass state of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested bypass state. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-62"><a class="header" href="#arguments-62">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-41"><a class="header" href="#return-values-41">Return Values</a></h4>
<p>Returns the bypass state of the specified quick control assignment as boolean value.</p>
<h4 id="example-79"><a class="header" href="#example-79">Example</a></h4>
<pre><code class="language-lua">-- Print the bypass state of the qc assignment.

layer = this.parent
qc = 1
assignment = 1
   
qcBypass = layer:getQCAssignmentBypass(qc, assignment)
    
print("Bypass of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..tostring(qcBypass)..".")
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentparamid"><a class="header" href="#setqcassignmentparamid">setQCAssignmentParamId</a></h3>
<blockquote>
<p><strong>setQCAssignmentParamId(qc, assignment, paramID)</strong></p>
</blockquote>
<h4 id="description-72"><a class="header" href="#description-72">Description</a></h4>
<p>Function to set the parameter ID for connecting the corresponding parameter to the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>paramID</code> argument selects the parameter to be connected with the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-63"><a class="header" href="#arguments-63">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>paramID</strong></td><td style="text-align: left">The ID of the parameter to be connected.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-80"><a class="header" href="#example-80">Example</a></h4>
<pre><code class="language-lua">-- Connect the coarse parameter of the zone to the specified quick control assignment.

layer = this.parent
zones = layer:findZones(true)
zone = zones[1]
qc = 1
assignment = 1
coarseParamID = zone:getParameterDefinition("Pitch.Coarse").id
  
layer:setQCAssignmentParamId(qc, assignment, coarseParamID)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentscope"><a class="header" href="#setqcassignmentscope">setQCAssignmentScope</a></h3>
<blockquote>
<p><strong>setQCAssignmentScope(qc, assignment, scope)</strong></p>
</blockquote>
<h4 id="description-73"><a class="header" href="#description-73">Description</a></h4>
<p>Function to set the scope for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The scope is defined by the <a href="HALion-Script/pages/./Element.html">Element</a> object that you assign to the <code>scope</code> argument.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-64"><a class="header" href="#arguments-64">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignments</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>scope</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object to be used as scope.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
</tbody></table>
</div>
<h4 id="example-81"><a class="header" href="#example-81">Example</a></h4>
<pre><code class="language-lua">-- Set the scope to the first zone that was found.

layer = this.parent
zones = layer:findZones(true)
zone = zones[1]
qc = 1
assignment = 1
   
layer:setQCAssignmentScope(qc, assignment, zone)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentmin"><a class="header" href="#setqcassignmentmin">setQCAssignmentMin</a></h3>
<blockquote>
<p><strong>setQCAssignmentMin(qc, assignment, min)</strong></p>
</blockquote>
<h4 id="description-74"><a class="header" href="#description-74">Description</a></h4>
<p>Function to set the minimum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>min</code> argument sets the minimum value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-65"><a class="header" href="#arguments-65">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>min</strong></td><td style="text-align: left">The minimum value to be set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h4 id="example-82"><a class="header" href="#example-82">Example</a></h4>
<pre><code class="language-lua">-- Set the minimum value of the quick control assignment depending on the mode.

layer = this.parent
qc = 1
assignment = 1
 
qcMode = layer:getQCAssignmentMode(qc, assignment)
 
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMin = 25
else
    qcMin = 0
end
   
layer:setQCAssignmentMin(qc, assignment, qcMin)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentmax"><a class="header" href="#setqcassignmentmax">setQCAssignmentMax</a></h3>
<blockquote>
<p><strong>setQCAssignmentMax(qc, assignment max)</strong></p>
</blockquote>
<h4 id="description-75"><a class="header" href="#description-75">Description</a></h4>
<p>Function to set the maximum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>max</code> argument sets the maximum value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-66"><a class="header" href="#arguments-66">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>max</strong></td><td style="text-align: left">The maximum value to be set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h4 id="example-83"><a class="header" href="#example-83">Example</a></h4>
<pre><code class="language-lua">-- Set the maximum value of the quick control assignment depending on the mode.

layer = this.parent
qc = 1
assignment = 1
  
qcMode = layer:getQCAssignmentMode(qc, assignment)
  
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMax = 75
else
    qcMax = 100
end
    
layer:setQCAssignmentMax(qc, assignment, qcMax)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentcurve"><a class="header" href="#setqcassignmentcurve">setQCAssignmentCurve</a></h3>
<blockquote>
<p><strong>setQCAssignmentCurve(qc, assignment, curve)</strong></p>
</blockquote>
<h4 id="description-76"><a class="header" href="#description-76">Description</a></h4>
<p>Function to set the curve value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>curve</code> argument sets the curve value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-67"><a class="header" href="#arguments-67">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>asignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">The curve value in the range -100 % to +100 %.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-84"><a class="header" href="#example-84">Example</a></h4>
<pre><code class="language-lua">-- Set the curve of the quick control assignment to -100 %.

layer = this.parent
qc = 1
assignment = 1
   
layer:setQCAssignmentCurve(qc, assignment, -100)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentmode"><a class="header" href="#setqcassignmentmode">setQCAssignmentMode</a></h3>
<blockquote>
<p><strong>setQCAssignmentMode(qc, assignment, mode)</strong></p>
</blockquote>
<h4 id="description-77"><a class="header" href="#description-77">Description</a></h4>
<p>Function to set the mode of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>mode</code> argument sets the mode of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-68"><a class="header" href="#arguments-68">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>asignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>mode</strong></td><td style="text-align: left">The mode to be set. It can be determined via names or indices. See <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a> for details.</td><td style="text-align: left">enum or number</td></tr>
</tbody></table>
</div>
<h4 id="example-85"><a class="header" href="#example-85">Example</a></h4>
<pre><code class="language-lua">-- Set the mode of the quick control assignment to absolute and adjust min and max to full range.

layer = this.parent
qc = 1
assignment = 1
    
layer:setQCAssignmentMode(qc, assignment, QCAssignmentMode.absolute)
layer:setQCAssignmentMin(qc, assignment, 0)
layer:setQCAssignmentMax(qc, assignment, 100)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<h3 id="setqcassignmentbypass"><a class="header" href="#setqcassignmentbypass">setQCAssignmentBypass</a></h3>
<blockquote>
<p><strong>setQCAssignmentBypass(qc, assignment, bypass)</strong></p>
</blockquote>
<h4 id="description-78"><a class="header" href="#description-78">Description</a></h4>
<p>Function to set the bypass state of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>bypass</code> argument sets the bypass state of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-69"><a class="header" href="#arguments-69">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>bypass</strong></td><td style="text-align: left">The bypass state to be set.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h4 id="example-86"><a class="header" href="#example-86">Example</a></h4>
<pre><code class="language-lua">-- Bypass the specified quick control assignment.

layer = this.parent
qc = 1
assignment = 1
    
layer:setQCAssignmentBypass(qc, assignment, true)
</code></pre>
<p><a href="HALion-Script/pages/Layer.html#layer">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> / <a href="HALion-Script/pages/./Layer.html">Layer</a> /</p>
<h1 id="program"><a class="header" href="#program">Program</a></h1>
<p>The Program class inherits all properties and methods of the <a href="HALion-Script/pages/./Layer.html">Layer</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Program.html#program-class">Program Class</a>, <a href="HALion-Script/pages/Program.html#program-constructor">Program Constructor</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="layer-1"><a class="header" href="#layer-1">Layer</a></h4>
<p><a href="HALion-Script/pages/./Layer.html#appendbus">appendBus</a>, <a href="HALion-Script/pages/./Layer.html#appendlayer">appendLayer</a>, <a href="HALion-Script/pages/./Layer.html#appendlayerasync">appendLayerAsync</a>, <a href="HALion-Script/pages/./Layer.html#appendmidimodule">appendMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#appendzone">appendZone</a>, <a href="HALion-Script/pages/./Layer.html#findbusses">findBusses</a>, <a href="HALion-Script/pages/./Layer.html#findeffects">findEffects</a>, <a href="HALion-Script/pages/./Layer.html#findlayers">findLayers</a>, <a href="HALion-Script/pages/./Layer.html#findmidimodules">findMidiModules</a>, <a href="HALion-Script/pages/./Layer.html#findzones">findZones</a>, <a href="HALion-Script/pages/./Layer.html#getbus">getBus</a>,
<a href="HALion-Script/pages/./Layer.html#getlayer">getLayer</a>, <a href="HALion-Script/pages/./Layer.html#getmidimodule">getMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#getzone">getZone</a>, <a href="HALion-Script/pages/./Layer.html#insertbus">insertBus</a>,
<a href="HALion-Script/pages/./Layer.html#insertlayer">insertLayer</a>, <a href="HALion-Script/pages/./Layer.html#insertlayerasync">insertLayerAsync</a>, <a href="HALion-Script/pages/./Layer.html#insertmidimodule">insertMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#insertzone">insertZone</a>, <a href="HALion-Script/pages/./Layer.html#removebus">removeBus</a>, <a href="HALion-Script/pages/./Layer.html#removelayer">removeLayer</a>, <a href="HALion-Script/pages/./Layer.html#removemidimodule">removeMidiModule</a>, <a href="HALion-Script/pages/./Layer.html#removezone">removeZone</a>, <a href="HALion-Script/pages/./Layer.html#addqcassignment">addQCAssignment</a>, <a href="HALion-Script/pages/./Layer.html#removeqcassignment">removeQCAssignment</a>, <a href="HALion-Script/pages/./Layer.html#getnumqcassignments">getNumQCAssignments</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentparamid">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentscope">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmin">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmax">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentcurve">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentmode">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./Layer.html#getqcassignmentbypass">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentparamid">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentscope">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmin">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmax">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentcurve">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentmode">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./Layer.html#setqcassignmentbypass">setQCAssignmentBypass</a></p>
<h4 id="element-5"><a class="header" href="#element-5">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-4"><a class="header" href="#classes-4">Classes</a></h2>
<h3 id="program-class"><a class="header" href="#program-class">Program Class</a></h3>
<h4 id="description-79"><a class="header" href="#description-79">Description</a></h4>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of the program can be obtained with <code>this.program</code>. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-4"><a class="header" href="#fields-4">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.instance</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the plug-in instance.</td><td style="text-align: left"><a href="HALion-Script/pages/./Instance.html">Instance</a></td></tr>
<tr><td style="text-align: left"><strong>.assignedSlots</strong></td><td style="text-align: left">An array with the Element objects of the slots to which this program is assigned.</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h4 id="example-87"><a class="header" href="#example-87">Example</a></h4>
<pre><code class="language-lua">-- Print the name of the plug-in instance.

print(this.program.instance.name)
 
-- Print the name of the first slot to which the program is assigned.

if this.program.assignedSlots[1] then
    print(this.program.assignedSlots[1].name)
end
</code></pre>
<p><a href="HALion-Script/pages/Program.html#program">Jump to Top </a></p>
<h2 id="constructors-3"><a class="header" href="#constructors-3">Constructors</a></h2>
<h3 id="program-constructor"><a class="header" href="#program-constructor">Program Constructor</a></h3>
<blockquote>
<p><strong>Program()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-80"><a class="header" href="#description-80">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Program.html">Program</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values-42"><a class="header" href="#return-values-42">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Program.html">Program</a> object.</p>
<h4 id="example-88"><a class="header" href="#example-88">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/Program.html#program">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="midimodule"><a class="header" href="#midimodule">MidiModule</a></h1>
<p>The MidiModule class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/MidiModule.html#midimodule-class">MidiModule Class</a>, <a href="HALion-Script/pages/MidiModule.html#midimodule-constructor">MidiModule Constructor</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-6"><a class="header" href="#element-6">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-5"><a class="header" href="#classes-5">Classes</a></h2>
<h3 id="midimodule-class"><a class="header" href="#midimodule-class">MidiModule Class</a></h3>
<h4 id="description-81"><a class="header" href="#description-81">Description</a></h4>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of a MIDI module can be obtained with <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> or <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-5"><a class="header" href="#fields-5">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.moduleType</strong></td><td style="text-align: left">Returns the MIDI module type.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="example-89"><a class="header" href="#example-89">Example</a></h4>
<pre><code class="language-lua">print(this.moduleType)
</code></pre>
<p><a href="HALion-Script/pages/MidiModule.html#midimodule">Jump to Top </a></p>
<h2 id="constructors-4"><a class="header" href="#constructors-4">Constructors</a></h2>
<h3 id="midimodule-constructor"><a class="header" href="#midimodule-constructor">MidiModule Constructor</a></h3>
<blockquote>
<p><strong>MidiModule(type)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-82"><a class="header" href="#description-82">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the specified type.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-70"><a class="header" href="#arguments-70">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of MIDI module.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="return-values-43"><a class="header" href="#return-values-43">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the specified type.</p>
<h4 id="example-90"><a class="header" href="#example-90">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/MidiModule.html#midimodule">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="modulationmatrixrow"><a class="header" href="#modulationmatrixrow">ModulationMatrixRow</a></h1>
<p>The ModulationMatrixRow class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow-class">ModulationMatrixRow Class</a>, <a href="HALion-Script/pages/ModulationMatrixRow.html#getsource1">getSource1</a>, <a href="HALion-Script/pages/ModulationMatrixRow.html#getsource2">getSource2</a>, <a href="HALion-Script/pages/ModulationMatrixRow.html#setsource1">setSource1</a>,<a href="HALion-Script/pages/ModulationMatrixRow.html#setsource2">setSource2</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-7"><a class="header" href="#element-7">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-6"><a class="header" href="#classes-6">Classes</a></h2>
<h3 id="modulationmatrixrow-class"><a class="header" href="#modulationmatrixrow-class">ModulationMatrixRow Class</a></h3>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of the modulation matrix row can be obtained with <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-6"><a class="header" href="#fields-6">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.rowNumber</strong></td><td style="text-align: left">Returns the index of the modulation matrix row.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.zone</strong></td><td style="text-align: left">Returns the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone that the modulation matrix row belongs to.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
</tbody></table>
</div>
<h4 id="example-91"><a class="header" href="#example-91">Example</a></h4>
<pre><code class="language-lua">-- Get the element object of the first zone in the program.

zone = this.program:findZones(true)[1]

-- Get the element object of the first modulation matrix row.

modRow = zone:getModulationMatrixRow(1)

-- Print the zone name and row number of the modulation matrix row.

print(modRow.zone.name)
print(modRow.rowNumber)
</code></pre>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow">Jump to Top </a></p>
<h2 id="methods-5"><a class="header" href="#methods-5">Methods</a></h2>
<h3 id="getsource1"><a class="header" href="#getsource1">getSource1</a></h3>
<blockquote>
<p><strong>getSource1()</strong></p>
</blockquote>
<h4 id="description-83"><a class="header" href="#description-83">Description</a></h4>
<p>Function to retrieve the 1st modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Processor.</p>
<h4 id="return-values-44"><a class="header" href="#return-values-44">Return Values</a></h4>
<p>Returns up to three values, i.e., source, sourceInfo1 and sourceInfo2. The number of return values depends on the modulation source. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
<h4 id="example-92"><a class="header" href="#example-92">Example</a></h4>
<pre><code class="language-lua">-- Print modulation sources.

function printSource(source)
    if source.source == ModulationSource.midiControl then
        print("MIDI Ctrl, Controller Number: "..source.info1)
    elseif source.source == ModulationSource.quickControl then
        print("Quick Ctrl, Layer: "..source.info1.name..", QC Index: "..source.info2)
    elseif source.source == ModulationSource.modulationModule then
        print("MIDI Module,  Module: "..source.info1.name..", Output: "..source.info2)
    elseif source.source == ModulationSource.noteExpression then
        print("Note Expression, Custom NE: "..source.info1)
    elseif source.source == ModulationSource.sampleAndHold then
        print("Sample &amp; Hold, Index: "..source.info1)
    else
        print("Standard Modulation, Index: "..source.source)
    end
end
 
-- Get the zone object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Run through all 32 modulation rows of the zone and print source1 if assigned.

for i=1, 32 do
    local modRow = zone:getModulationMatrixRow(i)
    local source1 = {}
    source1.source, source1.info1, source1.info2 = modRow:getSource1()
    if source1.source ~= ModulationSource.unassigned then
        print("Modulation Row "..i..", Source 1:")
        printSource(source1)
    end
end
</code></pre>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow">Jump to Top </a></p>
<h3 id="getsource2"><a class="header" href="#getsource2">getSource2</a></h3>
<blockquote>
<p><strong>getSource2()</strong></p>
</blockquote>
<h4 id="description-84"><a class="header" href="#description-84">Description</a></h4>
<p>Function to retrieve the 2nd modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values-45"><a class="header" href="#return-values-45">Return Values</a></h4>
<p>Returns up to three values, i.e., source, sourceInfo1 and sourceInfo2. The number of return values depends on the modulation source. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
<blockquote>
<p>❕ The 2nd modulation source has an additional sample &amp; hold. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
</blockquote>
<h4 id="example-93"><a class="header" href="#example-93">Example</a></h4>
<pre><code class="language-lua">-- Print modulation sources.

function printSource(source)
    if source.source == ModulationSource.midiControl then
        print("MIDI Ctrl, Controller Number: "..source.info1)
    elseif source.source == ModulationSource.quickControl then
        print("Quick Ctrl, Layer: "..source.info1.name..", QC Index: "..source.info2)
    elseif source.source == ModulationSource.modulationModule then
        print("MIDI Module,  Module: "..source.info1.name..", Output: "..source.info2)
    elseif source.source == ModulationSource.noteExpression then
        print("Note Expression, Custom NE: "..source.info1)
    elseif source.source == ModulationSource.sampleAndHold then
        print("Sample &amp; Hold, Index: "..source.info1)
    else
        print("Standard Modulation, Index: "..source.source)
    end
end
 
-- Get the zone object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Run through all 32 modulation rows of the zone and print source2 if assigned.
for i=1, 32 do
    local modRow = zone:getModulationMatrixRow(i)
    local source2 = {}
    source2.source, source2.info1, source2.info2 = modRow:getSource2()
    if source2.source ~= ModulationSource.unassigned then
        print("Modulation Row "..i..", Source 2:")
        printSource(source2)
    end
end
</code></pre>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow">Jump to Top </a></p>
<h3 id="setsource1"><a class="header" href="#setsource1">setSource1</a></h3>
<blockquote>
<p><strong>setSource1(source, sourceInfo1, sourceInfo2)</strong></p>
</blockquote>
<h4 id="description-85"><a class="header" href="#description-85">Description</a></h4>
<p>Function to set the 1st modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-71"><a class="header" href="#arguments-71">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>source</strong></td><td style="text-align: left">The modulation source. It can be determined via names or indices. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details. Standard modulation sources like the LFOs or the envelopes can be set directly. Special modulation sources like MIDI controllers or MIDI modules can only be set by also specifiying sourceInfo1 and sourceInfo2.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo1</strong></td><td style="text-align: left">Optional argument to specify the MIDI controller number or the MIDI module, for example. See example for details.</td><td style="text-align: left">number or <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo2</strong></td><td style="text-align: left">Optional argument to select the modulation output of a MIDI module, for example. See example for details.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-94"><a class="header" href="#example-94">Example</a></h4>
<pre><code class="language-lua">-- Define the modulation sources and infos in an array.

modSources = {
    { source = ModulationSource.lfo1, bipolar = 1 },
    { source = ModulationSource.midiControl, bipolar = 0, sourceInfo1 = 1 },
    { source = ModulationSource.quickControl, bipolar = 1, sourceInfo1 = this.program, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 2 },
    { source = ModulationSource.noteExpression, bipolar = 0, sourceInfo1 = 1 }
}
 
-- Define two modulation outputs for the script module.

defineModulation("50%", false)
defineModulation("100%", false)
 
-- Calculate the modulation outputs.

function calcModulation()
    return 0.5, 1
end
 
-- Get the element object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Assign the modulation sources to source 1 in the modulation rows 1 to 6.

for i=1, #modSources do
    local modRow = zone:getModulationMatrixRow(i)
    modRow:setSource1(modSources[i].source, modSources[i].sourceInfo1, modSources[i].sourceInfo2)
    modRow:setParameter("Source1.Polarity", modSources[i].bipolar) -- Set the default polarity of the source.
end
 
-- Assign the sample &amp; hold to source 2 in modulation row 1.

modRow = zone:getModulationMatrixRow(1)
modRow:setSource2(ModulationSource.sampleAndHold, 0)
</code></pre>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow">Jump to Top </a></p>
<h3 id="setsource2"><a class="header" href="#setsource2">setSource2</a></h3>
<blockquote>
<p><strong>setSource2(source, sourceInfo1, sourceInfo2)</strong></p>
</blockquote>
<h4 id="description-86"><a class="header" href="#description-86">Description</a></h4>
<p>Function to set the 2nd modulation source of a row in the modulation matrix. The row is specified with the Zone object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-72"><a class="header" href="#arguments-72">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>source</strong></td><td style="text-align: left">The modulation source. It can be determined via names or indices. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details. Standard modulation sources like the LFOs or the envelopes can be set directly. Special modulation sources like MIDI controllers or MIDI modules can only be set by also specifiying sourceInfo1 and sourceInfo2.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo1</strong></td><td style="text-align: left">Optional argument to specify the MIDI controller number or the MIDI module, for example. See example for details.</td><td style="text-align: left">number or <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo2</strong></td><td style="text-align: left">Optional argument to select the modulation output of a MIDI module, for example. See example for details.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-95"><a class="header" href="#example-95">Example</a></h4>
<pre><code class="language-lua">-- Define the modulation sources and infos in an array.

modSources = {
    { source = ModulationSource.lfo1, bipolar = 1 },
    { source = ModulationSource.midiControl, bipolar = 0, sourceInfo1 = 1 },
    { source = ModulationSource.quickControl, bipolar = 1, sourceInfo1 = this.program, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 2 },
    { source = ModulationSource.noteExpression, bipolar = 0, sourceInfo1 = 1 }
}
 
-- Define two modulation outputs for the script module.

defineModulation("50%", false)
defineModulation("100%", false)
 
-- Calculate the modulation outputs.

function calcModulation()
    return 0.5, 1
end
 
-- Get the element object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Assign the modulation sources to source 1 in the modulation rows 1 to 6.

for i=1, #modSources do
    local modRow = zone:getModulationMatrixRow(i)
    modRow:setSource1(modSources[i].source, modSources[i].sourceInfo1, modSources[i].sourceInfo2)
    modRow:setParameter("Source1.Polarity", modSources[i].bipolar) -- Set the default polarity of the source.
end
 
-- Assign the sample &amp; hold to source 2 in modulation row 1.

modRow = zone:getModulationMatrixRow(1)
modRow:setSource2(ModulationSource.sampleAndHold, 0)
</code></pre>
<p><a href="HALion-Script/pages/ModulationMatrixRow.html#modulationmatrixrow">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="slot"><a class="header" href="#slot">Slot</a></h1>
<p>The Slot class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Slot.html#findbusses">findBusses</a>, <a href="HALion-Script/pages/Slot.html#findeffects">findEffects</a>, <a href="HALion-Script/pages/Slot.html#getbus">getBus</a>, <a href="HALion-Script/pages/Slot.html#setprogram">setProgram</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-8"><a class="header" href="#element-8">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="methods-6"><a class="header" href="#methods-6">Methods</a></h2>
<h3 id="findbusses-2"><a class="header" href="#findbusses-2">findBusses</a></h3>
<blockquote>
<p><strong>findBusses(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-87"><a class="header" href="#description-87">Description</a></h4>
<p>Function to find busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Particular busses can be searched by name or via a filter function. If searching by name, findBusses accepts only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of each bus as argument. Only those <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findBusses. Without a name or filter function, the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of all busses in the searched Element obects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-73"><a class="header" href="#arguments-73">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the busses searched for or a filter function. Only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-46"><a class="header" href="#return-values-46">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Returns an empty table if no busses are found.</p>
<h4 id="example-96"><a class="header" href="#example-96">Example</a></h4>
<pre><code class="language-lua">-- Find all busses and print their names.
busses = this.program:findBusses(true)
 
if busses[1] then
    for i, bus in ipairs(busses) do
        print(bus.name)
    end
else
    print("Could not find any busses!")
end
</code></pre>
<p><a href="HALion-Script/pages/Slot.html#slot">Jump to Top </a></p>
<h3 id="findeffects-3"><a class="header" href="#findeffects-3">findEffects</a></h3>
<blockquote>
<p><strong>findEffects(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h4 id="description-88"><a class="header" href="#description-88">Description</a></h4>
<p>Function to find effects in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. To specifiy a bus to be searched in, use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a>. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Particular effects can be searched by name or via a filter function. If searching by name, <a href="HALion-Script/pages/./findEffects.html">findEffects</a> accepts only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of each effect as argument. Only those <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findEffects.html">findEffects</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of all effects in the searched <a href="HALion-Script/pages/./Element.html">Element</a> objects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-74"><a class="header" href="#arguments-74">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the effects searched for or a filter function. Only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-47"><a class="header" href="#return-values-47">Return Values</a></h4>
<p>Returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Returns an empty table if no effects are found.</p>
<h4 id="example-97"><a class="header" href="#example-97">Example</a></h4>
<pre><code class="language-lua">-- Find all effects and print their names.
effects = this.program:findEffects(true)
 
if effects[1] then
    for i, effect in ipairs(effects) do
        print(effect.name)
    end
else
    print("Could not find any effects!")
end
</code></pre>
<p><a href="HALion-Script/pages/Slot.html#slot">Jump to Top </a></p>
<h3 id="getbus-2"><a class="header" href="#getbus-2">getBus</a></h3>
<blockquote>
<p><strong>getBus(nameOrPosition)</strong></p>
</blockquote>
<h4 id="description-89"><a class="header" href="#description-89">Description</a></h4>
<p>Function to retrieve the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of a bus in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular bus can be searched by name or position. The position is the number indexing the busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several busses share the same name, only the first match will be returned. If no argument is set, the function returns the first bus it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-75"><a class="header" href="#arguments-75">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the bus. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h4 id="return-values-48"><a class="header" href="#return-values-48">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the found bus. Returns <code>nil</code> if no bus is found.</p>
<h4 id="example-98"><a class="header" href="#example-98">Example</a></h4>
<pre><code class="language-lua">-- Locate the first bus in the program and print its name.

bus = this.program:getBus()
 
if bus then
    print(bus.name)
else
    print("Could not find a bus!")
end
</code></pre>
<p><a href="HALion-Script/pages/Slot.html#slot">Jump to Top </a></p>
<h3 id="setprogram-1"><a class="header" href="#setprogram-1">setProgram</a></h3>
<blockquote>
<p><strong>setProgram(programOrNil, index)</strong></p>
</blockquote>
<h4 id="description-90"><a class="header" href="#description-90">Description</a></h4>
<p>Function to set a program in the specified slot of the Program Table or the Slot Rack of the plug-in instance. Before calling this function, you must access the Instance object with this.program.instance. The program is determined by its Program object. To specify the slot in the Program Table, you must use the index argument. To specify the slot in the Slot Rack, you must use a Slot object, for example, via getSlot. The program can be removed from the Slot Rack by using nil as argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, each program can exist only once in the <strong>Program Table</strong>. Furthermore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance cannot be added twice to the <strong>Program Table</strong>. It must be removed before it can be added again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be added freely to the <strong>Program Table</strong>, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-76"><a class="header" href="#arguments-76">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>programOrNil</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Program.html">Program</a> object of the program. Programs can be removed from the <strong>Slot Rack</strong> by using <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Program.html">Program</a> or <code>nil</code></td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the slot in the <strong>Program Table</strong> where you want to set the program.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h4 id="example-99"><a class="header" href="#example-99">Example</a></h4>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Set Program.vstpreset in slot 3 of the Program Table and slot 1 of the Slot Rack.
     
-- Get the file path for user VST presets.
path = getUserPresetPath()
     
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Set loadedProgram in slot 3 of the Program Table.
this.program.instance:setProgram(loadedProgram, 3)
 
-- Set program in slot 1 of the Slot Rack.
program = this.program.instance:getProgram(3)
this.program.instance:getSlot(1):setProgram(program)
  
-- Clear slot 2 of the Slot Rack.
this.program.instance:getSlot(2):setProgram(nil)
</code></pre>
<p><a href="HALion-Script/pages/Slot.html#slot">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> / <a href="HALion-Script/pages/./Element.html">Element</a> /</p>
<h1 id="zone"><a class="header" href="#zone">Zone</a></h1>
<p>The Zone class inherits all properties and methods of the <a href="HALion-Script/pages/./Element.html">Element</a> class.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Zone.html#zone-class">Zone Class</a>, <a href="HALion-Script/pages/Zone.html#zone-constructor">Zone Constructor</a>, <a href="HALion-Script/pages/Zone.html#getmodulationmatrixrow">getModulationMatrixRow</a>, <a href="HALion-Script/pages/Zone.html#getoutputbus">getOutputBus</a>, <a href="HALion-Script/pages/Zone.html#setoutputbus">setOutputBus</a></p>
<hr />
<p><strong>List of inherited members:</strong></p>
<h4 id="element-9"><a class="header" href="#element-9">Element</a></h4>
<p><a href="HALion-Script/pages/./Element.html#element-class">Element Class</a>, <a href="HALion-Script/pages/./Element.html#findchildren">findChildren</a>, <a href="HALion-Script/pages/./Element.html#getchild">getChild</a>, <a href="HALion-Script/pages/./Element.html#getparameter">getParameter</a>, <a href="HALion-Script/pages/./Element.html#getparameterdefinition">getParameterDefinition</a>, <a href="HALion-Script/pages/./Element.html#getparameternormalized">getParameterNormalized</a>, <a href="HALion-Script/pages/./Element.html#hasparameter">hasParameter</a>, <a href="HALion-Script/pages/./Element.html#removefromparent">removeFromParent</a>, <a href="HALion-Script/pages/./Element.html#setname">setName</a>, <a href="HALion-Script/pages/./Element.html#setparameter">setParameter</a>, <a href="HALion-Script/pages/./Element.html#setparameternormalized">setParameterNormalized</a></p>
<hr />
<h2 id="classes-7"><a class="header" href="#classes-7">Classes</a></h2>
<h3 id="zone-class"><a class="header" href="#zone-class">Zone Class</a></h3>
<h4 id="description-91"><a class="header" href="#description-91">Description</a></h4>
<p>The <a href="HALion-Script/pages/./Element.html">Element</a> object of a zone can be obtained with <a href="HALion-Script/pages/./findZones.html">findZones</a> or <a href="HALion-Script/pages/./getZone.html">getZone</a>. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-7"><a class="header" href="#fields-7">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.keyLow</strong></td><td style="text-align: left">The lowest key of the zone.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.keyHigh</strong></td><td style="text-align: left">The highest key of the zone.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velLow</strong></td><td style="text-align: left">The lowest velocity of the zone.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velHigh</strong></td><td style="text-align: left">The highest velocity of the zone.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="example-100"><a class="header" href="#example-100">Example</a></h4>
<pre><code class="language-lua">-- Print the key and velocity range of the first zone in the program.

zone = this.program:findZones(true)[1]

print(zone.keyLow)
print(zone.keyHigh)
print(zone.velLow)
print(zone.velHigh)
</code></pre>
<p><a href="HALion-Script/pages/Zone.html#zone">Jump to Top </a></p>
<h2 id="constructors-5"><a class="header" href="#constructors-5">Constructors</a></h2>
<h3 id="zone-constructor"><a class="header" href="#zone-constructor">Zone Constructor</a></h3>
<blockquote>
<p><strong>Zone()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h4 id="description-92"><a class="header" href="#description-92">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Zone.html">Zone</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="return-values-49"><a class="header" href="#return-values-49">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Zone.html">Zone</a> object.</p>
<h4 id="example-101"><a class="header" href="#example-101">Example</a></h4>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><a href="HALion-Script/pages/Zone.html#zone">Jump to Top </a></p>
<h2 id="methods-7"><a class="header" href="#methods-7">Methods</a></h2>
<h3 id="getmodulationmatrixrow"><a class="header" href="#getmodulationmatrixrow">getModulationMatrixRow</a></h3>
<blockquote>
<p><strong>getModulationMatrixRow(rowNumber)</strong></p>
</blockquote>
<h4 id="description-93"><a class="header" href="#description-93">Description</a></h4>
<p>Function to obtain the <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a> object of the specified modulation matrix row. The modulation matrix row is determined by the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-77"><a class="header" href="#arguments-77">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>rowNumber</strong></td><td style="text-align: left">The index of the modulation matrix row in the range from 1 to 32.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-50"><a class="header" href="#return-values-50">Return Values</a></h4>
<p>The <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a> object of the specified modulation matrix row.</p>
<h4 id="example-102"><a class="header" href="#example-102">Example</a></h4>
<pre><code class="language-lua">-- Get the element object of the first zone in the program.

zone = this.program:findZones(true)[1]

-- Get the element object of the first modulation matrix row.

modRow = zone:getModulationMatrixRow(1)

-- Print the row number of the specified modulation matrix row.

print(modRow.rowNumber)
</code></pre>
<p><a href="HALion-Script/pages/Zone.html#zone">Jump to Top </a></p>
<h3 id="getoutputbus-1"><a class="header" href="#getoutputbus-1">getOutputBus</a></h3>
<blockquote>
<p><strong>getOutputBus()</strong></p>
</blockquote>
<h4 id="description-94"><a class="header" href="#description-94">Description</a></h4>
<p>Function to retrieve the currently assigned output bus of a zone or bus.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="return-values-51"><a class="header" href="#return-values-51">Return Values</a></h4>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the currently assigned output bus or <code>nil</code> if the default routing is used.</p>
<h4 id="example-103"><a class="header" href="#example-103">Example</a></h4>
<pre><code class="language-lua">-- Raise an error if no output bus is assigned.

zone = this.parent:getZone()

assert(zone:getOutputBus(), "No output bus assigned. The default routing is used!")
</code></pre>
<p><a href="HALion-Script/pages/Zone.html#zone">Jump to Top </a></p>
<h3 id="setoutputbus-1"><a class="header" href="#setoutputbus-1">setOutputBus</a></h3>
<blockquote>
<p><strong>setOutputBus(bus)</strong></p>
</blockquote>
<h4 id="description-95"><a class="header" href="#description-95">Description</a></h4>
<p>Function to assign the output of a zone or bus to the specified output bus. The sending zone or bus is determined by its <a href="HALion-Script/pages/./Element.html">Element</a> object. The receiving output bus is specified by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. Setting the output bus to <code>nil</code> enables the default signal routing for the zone or bus.</p>
<blockquote>
<p>❕ Output busses that are higher up in the hierarchy of the <strong>Program Tree</strong> can be assigned freely. If the sending bus and the receiving output bus have the same parent layer, the output bus must come later in the signal flow.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="arguments-78"><a class="header" href="#arguments-78">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to assign, or <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a> or <code>nil</code></td></tr>
</tbody></table>
</div>
<h4 id="example-104"><a class="header" href="#example-104">Example</a></h4>
<pre><code class="language-lua">-- Assign the output of the zone to the Master output bus of the plug-in.

zone = this.parent:getZone()
masterbus = this.program.instance:getBus(1)
 
zone:setOutputBus(masterbus)
 
print("Output of "..zone.name.." is assigned to "..masterbus.name..".")
</code></pre>
<p><a href="HALion-Script/pages/Zone.html#zone">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> /</p>
<h1 id="event"><a class="header" href="#event">Event</a></h1>
<p>The Event class describes the properties of events.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/Event.html#event-class">Event Class</a>, <a href="HALion-Script/pages/Event.html#event-constructor">Event Constructor</a></p>
<hr />
<h2 id="classes-8"><a class="header" href="#classes-8">Classes</a></h2>
<h3 id="event-class"><a class="header" href="#event-class">Event Class</a></h3>
<h4 id="description-96"><a class="header" href="#description-96">Description</a></h4>
<p>The state of an Event object is described by the following fields.</p>
<p><strong>Available in:</strong> Processor.</p>
<h4 id="fields-8"><a class="header" href="#fields-8">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event. See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">The ID of the event.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velocity</strong></td><td style="text-align: left">The note-on velocity in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tuning</strong></td><td style="text-align: left">The tune offset in semitones.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.controller</strong></td><td style="text-align: left">The controller number. See <a href="HALion-Script/pages/./Controller-Numbers.html">Controller Numbers</a> for a description of the different controllers.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: left">The value of a controller, pitch bend, or note expression event. The value range depends on the event type.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.bend</strong></td><td style="text-align: left">The value of a pitch bend event in the range of -1.0 to 1.0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.noteExpressionType</strong></td><td style="text-align: left">The type of note expression event. See <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.data</strong></td><td style="text-align: left">An array with the bytes of a system exclusive message. For the interpretation of these values, please consult the documentation of the MIDI data format of the device sending the system exclusive message. <span class="version-text">(Since HALion 7.0)</span></td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>.dataType</strong></td><td style="text-align: left">Currently, there is only one data type (0 = sysex). <span class="version-text">(Since HALion 7.0)</span></td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.ppqPosition</strong></td><td style="text-align: left">The position of the event in ppq relative to the project start. The host must be in playback, otherwise, this value will be 0.0.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h4 id="fields-per-event-type"><a class="header" href="#fields-per-event-type">Fields per Event Type</a></h4>
<p>Which of the fields are used depends on the <a href="HALion-Script/pages/./Event-Types.html">Event Type</a>.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: center">noteOn</th><th style="text-align: center">noteOff</th><th style="text-align: center">controller</th><th style="text-align: center">noteExpression</th><th style="text-align: center">noteRetrigger</th><th style="text-align: center">data</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.note</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.velocity</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.tuning</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.controller</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.bend</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.noteExpressionType</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td><td style="text-align: center">-</td><td style="text-align: center">-</td></tr>
<tr><td style="text-align: left"><strong>.data</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td></tr>
<tr><td style="text-align: left"><strong>.dataType</strong></td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">-</td><td style="text-align: center">✅</td></tr>
<tr><td style="text-align: left"><strong>.ppqPosition</strong></td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td><td style="text-align: center">✅</td></tr>
</tbody></table>
</div>
<h4 id="example-105"><a class="header" href="#example-105">Example</a></h4>
<pre><code class="language-lua">-- Print the fields of an Event object.

function onNote(event)
    print(event)
    postEvent(event)
end
 
function onRelease(event)
    print(event)
    postEvent(event)
end
  
function onController(event)
    print(event)
    postEvent(event)
end
  
function onNoteExpression(event)
    print(event)
    -- postEvent(event), not needed for note expression.
end
 
function onRetrigger(event)
    print(event)
    postEvent(event)
end
 
function onData(event)
    print(event)
    postEvent(event)
end
</code></pre>
<p><a href="HALion-Script/pages/Event.html#event">Jump to Top </a></p>
<h2 id="constructors-6"><a class="header" href="#constructors-6">Constructors</a></h2>
<h3 id="event-constructor"><a class="header" href="#event-constructor">Event Constructor</a></h3>
<blockquote>
<p><strong>Event(type)</strong></p>
</blockquote>
<h4 id="description-97"><a class="header" href="#description-97">Description</a></h4>
<p>Constructor to create a new <a href="HALion-Script/pages/./Event.html">Event</a> object of the specified type.</p>
<p><strong>Available in:</strong> Processor.</p>
<h4 id="arguments-79"><a class="header" href="#arguments-79">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of event. See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">enum or number</td></tr>
</tbody></table>
</div>
<h4 id="return-values-52"><a class="header" href="#return-values-52">Return Values</a></h4>
<p>Returns a new <a href="HALion-Script/pages/./Event.html">Event</a> object of the specified type.</p>
<blockquote>
<p>❕ The fields of the <a href="HALion-Script/pages/./Event.html">Event</a> object must be set after its creation.</p>
</blockquote>
<h4 id="example-106"><a class="header" href="#example-106">Example</a></h4>
<pre><code class="language-lua">-- Create a new note-on event.

function onNote(event)
    local newEvent = Event(EventType.noteOn)
    newEvent.note = event.note + 12
    newEvent.velocity = event.velocity
    local id = postEvent(newEvent)
    waitForRelease()
    releaseVoice(id)
end
</code></pre>
<p><a href="HALion-Script/pages/Event.html#event">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> /</p>
<h1 id="loadprogress"><a class="header" href="#loadprogress">LoadProgress</a></h1>
<p>The properties of the LoadProgress class can be used to monitor the progress when loading elements of VST presets.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/LoadProgress.html#loadprogress-class">LoadProgress Class</a></p>
<hr />
<h2 id="classes-9"><a class="header" href="#classes-9">Classes</a></h2>
<h3 id="loadprogress-class"><a class="header" href="#loadprogress-class">LoadProgress Class</a></h3>
<h4 id="description-98"><a class="header" href="#description-98">Description</a></h4>
<p>The functions <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a> and <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a> return a LoadProgress object. The properties of the LoadProgress object are described by the following fields.</p>
<p><strong>Available in:</strong> Controller.</p>
<h4 id="fields-9"><a class="header" href="#fields-9">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.progress</strong></td><td style="text-align: left">The load progress in the range from 0 to 1.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.root</strong></td><td style="text-align: left">The value of <code>.root</code> will be the <a href="HALion-Script/pages/./Element.html">Element</a> object of the first element (root) of the loaded VST preset. Depending on whether you load a layer, program, or multi-program VST preset, this is either an <a href="HALion-Script/pages/./Element.html">Element</a> object of the type <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Program.html">Program</a>,or <a href="HALion-Script/pages/./Instance.html">Instance</a>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Program.html">Program</a>, or <a href="HALion-Script/pages/./Instance.html">Instance</a></td></tr>
<tr><td style="text-align: left"><strong>.cancel</strong></td><td style="text-align: left">Set this to true to cancel the loading of the preset.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.error</strong></td><td style="text-align: left">Message if an error occured.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.info</strong></td><td style="text-align: left">User definable field, for example, to manage several loading threads.</td><td style="text-align: left">string or table</td></tr>
</tbody></table>
</div>
<h4 id="example-107"><a class="header" href="#example-107">Example</a></h4>
<pre><code class="language-lua">-- Start with an empty program, remove any existing layers.

layers = this.parent:findLayers()
 
if layers then
   for i, layer in ipairs(layers) do
       this.parent:removeLayer(layer)
   end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
   { name = "Ambient Pad 01", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
   { name = "Ambient Pad 02", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
   { name = "Ambient Pad 03", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
   { name = "Ambient Pad 04", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
-- Create a table with the preset names.
function getPresetNames()
   presetNames = {}
   for i, preset in ipairs(layerPresets) do
       presetNames[i] = preset.name
   end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
   local newPreset = progressInfo.root
   if oldPreset then
       this.parent:removeLayer(oldPreset)
       print(oldPreset.name.." removed.")
   end
   oldPreset = newPreset
end
 
-- Append the preset in a separate thread.
function appendNewLayer(progressInfo)
   if progressInfo.root then
       this.parent:appendLayerAsync(progressInfo.root, removeOldLayer)
       print("Appending "..progressInfo.root.name.."...")
   end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged()
   progress = 0
   progressInf = loadPresetAsync(layerPresets[SelectPreset].path, appendNewLayer)
   print("Loading "..layerPresets[SelectPreset].name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset", "Select Preset", 1, presetNames, onSelectPresetChanged)
 
-- Monitor the load progress with onIdle.
progress = 1
function onIdle()
   if progress &lt; 1 then
       progress = progressInf.progress
       print("Progress: "..(progressInf.progress * 100).."%")
   end
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Class-Reference.html">Class Reference</a> /</p>
<h1 id="parameterdefinition"><a class="header" href="#parameterdefinition">ParameterDefinition</a></h1>
<p>The ParameterDefinition class describes the properties of parameters.</p>
<hr />
<p><strong>On this page:</strong></p>
<p><a href="HALion-Script/pages/ParameterDefinition.html#parameterdefinition-class">ParameterDefinition Class</a>, <a href="HALion-Script/pages/ParameterDefinition.html#getdisplaystring">getDisplayString</a></p>
<hr />
<h2 id="classes-10"><a class="header" href="#classes-10">Classes</a></h2>
<h3 id="parameterdefinition-class"><a class="header" href="#parameterdefinition-class">ParameterDefinition Class</a></h3>
<h4 id="description-99"><a class="header" href="#description-99">Description</a></h4>
<p>The ParameterDefinition object describes the properties of a parameter. It has the following fields.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="fields-10"><a class="header" href="#fields-10">Fields</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.name</strong></td><td style="text-align: left">Returns the name of the parameter.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.longName</strong></td><td style="text-align: left">Returns the long name of the parameter.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">Returns the ID of the parameter.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">Returns the data type of the parameter.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.default</strong></td><td style="text-align: left">Returns the default value of the parameter.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.min</strong></td><td style="text-align: left">Returns the minimum value of the parameter.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.max</strong></td><td style="text-align: left">Returns the maximum value of the parameter.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.readOnly</strong></td><td style="text-align: left">Returns <code>true</code> if the value of the parameter is read-only and <code>false</code> if it is not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.writeAlways</strong></td><td style="text-align: left">Returns <code>true</code> if the value is always set and <code>false</code> if it is not. If this returns <code>true</code>, the parameter sends a changed message even if the actual value did not change when it was set.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.automatable</strong></td><td style="text-align: left">Returns <code>true</code> if the parameter can be automated and <code>false</code> if it cannot.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.persistent</strong></td><td style="text-align: left">Returns <code>true</code> if the parameter restores from the VST preset and <code>false</code> if it does not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.unit</strong></td><td style="text-align: left">Returns the unit of the parameter value, for example, dB.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<pre><code class="language-lua">-- Print the parameter definition with corresponding data type of the parent layer's level parameter.

function onLoadIntoSlot()
 
    local def = this.parent:getParameterDefinition("Level")
 
    print("Name = "..def.name..", "..type(def.name))
    print("Long Name = "..def.longName..", "..type(def.longName))
    print("ID = "..def.id..", "..type(def.id))
    print("Type = "..def.type..", "..type(def.type))
    print("Default = "..def.default..", "..type(def.default))
    print("Min = "..def.min..", "..type(def.min))
    print("Max = "..def.max..", "..type(def.max))
    print("Read Only = "..tostring(def.readOnly)..", "..type(def.readOnly))
    print("Write Always = "..tostring(def.writeAlways)..", "..type(def.writeAlways))
    print("Automatable = "..tostring(def.automatable)..", "..type(def.automatable))
    print("Persistent = "..tostring(def.persistent)..", "..type(def.persistent))
    print("Unit = "..def.unit..", "..type(def.unit).."\n")
 
end
</code></pre>
<p><a href="HALion-Script/pages/ParameterDefinition.html#parameterdefinition">Jump to Top </a></p>
<h2 id="methods-8"><a class="header" href="#methods-8">Methods</a></h2>
<h3 id="getdisplaystring"><a class="header" href="#getdisplaystring">getDisplayString</a></h3>
<blockquote>
<p><strong>getDisplayString(value)</strong></p>
</blockquote>
<h4 id="description-100"><a class="header" href="#description-100">Description</a></h4>
<p>The internal precision of parameter values is usually higher than the precision of the corresponding display string on the user interface. You can use this function to obtain the display string of the specified parameter and value. You specify the parameter with <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a>.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h4 id="arguments-80"><a class="header" href="#arguments-80">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value for the display string.</td><td style="text-align: left">number or string</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The data type of the value for getDisplayString must match the data type of the corresponding parameter value.</p>
</blockquote>
<h4 id="return-values-53"><a class="header" href="#return-values-53">Return Values</a></h4>
<p>Returns the display string of the specified parameter and value.</p>
<h4 id="example-108"><a class="header" href="#example-108">Example</a></h4>
<pre><code class="language-lua">-- Get the display string of a value.

value = -2.471
print("value = "..value)
print("Display String = "..this.program:getParameterDefinition("Level"):getDisplayString(-2.471))
</code></pre>
<p><a href="HALion-Script/pages/ParameterDefinition.html#parameterdefinition">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a>, / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a>, /</p>
<h1 id="reference"><a class="header" href="#reference">Reference</a></h1>
<p>The reference pages describe the functions and features of the HALion Script language.</p>
<h2 id="a-e"><a class="header" href="#a-e">A-E</a></h2>
<p><a href="HALion-Script/pages/./addLayerPassword.html">addLayerPassword</a>,
<a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>,
<a href="HALion-Script/pages/./afterTouch.html">afterTouch</a>,
<a href="HALion-Script/pages/./AlternateData-Table.html">AlternateData Table</a>,
<a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>,
<a href="HALion-Script/pages/./appendBus.html">appendBus</a>,
<a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>,
<a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>,
<a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>,
<a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>,
<a href="HALion-Script/pages/./appendZone.html">appendZone</a>,
<a href="HALion-Script/pages/./assignAutomation.html">assignAutomation</a>,
<a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a>,
<a href="HALion-Script/pages/./beat2ms.html">beat2ms</a>,
<a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>,
<a href="HALion-Script/pages/./Bypass-Masks.html">Bypass Masks</a>,
<a href="HALion-Script/pages/./calcModulation.html">calcModulation</a>,
<a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>,
<a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a>,
<a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>,
<a href="HALion-Script/pages/./changePan.html">changePan</a>,
<a href="HALion-Script/pages/./changeTune.html">changeTune</a>,
<a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>,
<a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>,
<a href="HALion-Script/pages/./clone.html">clone</a>,
<a href="HALion-Script/pages/./controlChange.html">controlChange</a>,
<a href="HALion-Script/pages/./Controller-Numbers.html">Controller Numbers</a>,
<a href="HALion-Script/pages/./decompose.html">decompose</a>
<a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>,
<a href="HALion-Script/pages/./defineModulation.html">defineModulation</a>,
<a href="HALion-Script/pages/./defineParameter.html">defineParameter</a>,
<a href="HALion-Script/pages/./defineSlotLocal.html">defineSlotLocal</a>,
<a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a>,
<a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a>,
<a href="HALion-Script/pages/./Event-Constructor.html">Event Constructor</a>,
<a href="HALion-Script/pages/./Event-Types.html">Event Types</a>,</p>
<h2 id="f-j"><a class="header" href="#f-j">F-J</a></h2>
<p><a href="HALion-Script/pages/./fade.html">fade</a>,
<a href="HALion-Script/pages/./findBusses.html">findBusses</a>,
<a href="HALion-Script/pages/./findChildren.html">findChildren</a>,
<a href="HALion-Script/pages/./findEffects.html">findEffects</a>,
<a href="HALion-Script/pages/./findLayers.html">findLayers</a>,
<a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>,
<a href="HALion-Script/pages/./findSlots.html">findSlots</a>,
<a href="HALion-Script/pages/./findZones.html">findZones</a>,
<a href="HALion-Script/pages/./forgetAutomation.html">forgetAutomation</a>,
<a href="HALion-Script/pages/./getAllocatedMemory.html">getAllocatedMemory</a>,
<a href="HALion-Script/pages/./getAutomationIndex.html">getAutomationIndex</a>,
<a href="HALion-Script/pages/./getBarDuration.html">getBarDuration</a>,
<a href="HALion-Script/pages/./getBeatDuration.html">getBeatDuration</a>,
<a href="HALion-Script/pages/./getBeatTime.html">getBeatTime</a>,
<a href="HALion-Script/pages/./getBeatTimeInBar.html">getBeatTimeInBar</a>,
<a href="HALion-Script/pages/./getBus.html">getBus</a>,
<a href="HALion-Script/pages/./getCC.html">getCC</a>,
<a href="HALion-Script/pages/./getChild.html">getChild</a>,
<a href="HALion-Script/pages/./getContext.html">getContext</a>,
<a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a>,
<a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>,
<a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>,
<a href="HALion-Script/pages/./getDisplayString.html">getDisplayString</a>,
<a href="HALion-Script/pages/./getEffect.html">getEffect</a>,
<a href="HALion-Script/pages/./getElement.html">getElement</a>,
<a href="HALion-Script/pages/./getFreeVoices.html">getFreeVoices</a>,
<a href="HALion-Script/pages/./getHostName.html">getHostName</a>,
<a href="HALion-Script/pages/./getHostVersion.html">getHostVersion</a>,
<a href="HALion-Script/pages/./getKeyProperties.html">getKeyProperties</a>,
<a href="HALion-Script/pages/./getKeySwitches.html">getKeySwitches</a>,
<a href="HALion-Script/pages/./getLayer.html">getLayer</a>,
<a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>,
<a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>,
<a href="HALion-Script/pages/./getMsTime.html">getMsTime</a>,
<a href="HALion-Script/pages/./getNoteDuration.html">getNoteDuration</a>,
<a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>,
<a href="HALion-Script/pages/./getNoteExpressionProperties.html">getNoteExpressionProperties</a>,
<a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>,
<a href="HALion-Script/pages/./getOnsets.html">getOnsets</a>,
<a href="HALion-Script/pages/./getOutputBus.html">getOutputBus</a>,
<a href="HALion-Script/pages/./getParameter.html">getParameter</a>,
<a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a>,
<a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>,
<a href="HALion-Script/pages/./getPeak.html">getPeak</a>,
<a href="HALion-Script/pages/./getPitch.html">getPitch</a>,
<a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a>,
<a href="HALion-Script/pages/./getProcessedSamples.html">getProcessedSamples</a>,
<a href="HALion-Script/pages/./getProductName.html">getProductName</a>,
<a href="HALion-Script/pages/./getProductVersion.html">getProductVersion</a>,
<a href="HALion-Script/pages/./getProgram.html">getProgram</a>,
<a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>,
<a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>,
<a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>,
<a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>,
<a href="HALion-Script/pages/./getSamplingRate.html">getSamplingRate</a>,
<a href="HALion-Script/pages/./getScriptExecTimeOut.html">getScriptExecTimeOut</a>,
<a href="HALion-Script/pages/./getScriptVersion.html">getScriptVersion</a>,
<a href="HALion-Script/pages/./getSlot.html">getSlot</a>,
<a href="HALion-Script/pages/./getSlotIndex.html">getSlotIndex</a>,
<a href="HALion-Script/pages/./getSource1.html">getSource1</a>,
<a href="HALion-Script/pages/./getSource2.html">getSource2</a>,
<a href="HALion-Script/pages/./getTempo.html">getTempo</a>,
<a href="HALion-Script/pages/./getTime.html">getTime</a>,
<a href="HALion-Script/pages/./getTimeSignature.html">getTimeSignature</a>,
<a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a>,
<a href="HALion-Script/pages/./getUsedMemory.html">getUsedMemory</a>,
<a href="HALion-Script/pages/./getUsedVoices.html">getUsedVoices</a>,
<a href="HALion-Script/pages/./getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a>,
<a href="HALion-Script/pages/./getUserPresetPath.html">getUserPresetPath</a>,
<a href="HALion-Script/pages/./getUserSubPresetPath.html">getUserSubPresetPath</a>,
<a href="HALion-Script/pages/./getVoices.html">getVoices</a>,
<a href="HALion-Script/pages/./getZone.html">getZone</a>,
<a href="HALion-Script/pages/./hasParameter.html">hasParameter</a>,
<a href="HALion-Script/pages/./insertBus.html">insertBus</a>,
<a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>,
<a href="HALion-Script/pages/./insertEnvelopePoint.html">insertEnvelopePoint</a>,
<a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>,
<a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>,
<a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>,
<a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>,
<a href="HALion-Script/pages/./insertZone.html">insertZone</a>,
<a href="HALion-Script/pages/./isKeyDown.html">isKeyDown</a>,
<a href="HALion-Script/pages/./isNoteHeld.html">isNoteHeld</a>,
<a href="HALion-Script/pages/./isOctaveKeyDown.html">isOctaveKeyDown</a>,
<a href="HALion-Script/pages/./isPlaying.html">isPlaying</a>,</p>
<h2 id="k-o"><a class="header" href="#k-o">K-O</a></h2>
<p><a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>,
<a href="HALion-Script/pages/./loadPreset.html">loadPreset</a>,
<a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a>,
<a href="HALion-Script/pages/./messageBox.html">messageBox</a>,
<a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a>,
<a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>,
<a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>,
<a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a>,
<a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>,
<a href="HALion-Script/pages/./ms2beat.html">ms2beat</a>,
<a href="HALion-Script/pages/./ms2samples.html">ms2samples</a>,
<a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a>,
<a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a>,
<a href="HALion-Script/pages/./onController.html">onController</a>,
<a href="HALion-Script/pages/./onData.html">onData</a>,
<a href="HALion-Script/pages/./onIdle.html">onIdle</a>,
<a href="HALion-Script/pages/./onInit.html">onInit</a>,
<a href="HALion-Script/pages/./onLoad.html">onLoad</a>,
<a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a>,
<a href="HALion-Script/pages/./onLoadSubPreset.html">onLoadSubPreset</a>,
<a href="HALion-Script/pages/./onNote.html">onNote</a>,
<a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>,
<a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a>,
<a href="HALion-Script/pages/./onRelease.html">onRelease</a>,
<a href="HALion-Script/pages/./onRemoveFromSlot.html">onRemoveFromSlot</a>,
<a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a>,
<a href="HALion-Script/pages/./onSave.html">onSave</a>,
<a href="HALion-Script/pages/./onSaveSubPreset.html">onSaveSubPreset</a>,
<a href="HALion-Script/pages/./onTriggerPad.html">onTriggerPad</a>,
<a href="HALion-Script/pages/./onUnhandledEvent.html">onUnhandledEvent</a>,
<a href="HALion-Script/pages/./openURL.html">openURL</a>,</p>
<h2 id="p-t"><a class="header" href="#p-t">P-T</a></h2>
<p><a href="HALion-Script/pages/./pitchBend.html">pitchBend</a>,
<a href="HALion-Script/pages/./playNote.html">playNote</a>,
<a href="HALion-Script/pages/./playTriggerPad.html">playTriggerPad</a>,
<a href="HALion-Script/pages/./postEvent.html">postEvent</a>,
<a href="HALion-Script/pages/./printRaw.html">printRaw</a>,
<a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>,
<a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a>,
<a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>,
<a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>,
<a href="HALion-Script/pages/./removeBus.html">removeBus</a>,
<a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>,
<a href="HALion-Script/pages/./removeEnvelopePoint.html">removeEnvelopePoint</a>,
<a href="HALion-Script/pages/./removeFromParent.html">removeFromParent</a>,
<a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>,
<a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>,
<a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>,
<a href="HALion-Script/pages/./removeZone.html">removeZone</a>,
<a href="HALion-Script/pages/./runAsync.html">runAsync</a>,
<a href="HALion-Script/pages/./runSync.html">runSync</a>,
<a href="HALion-Script/pages/./samples2ms.html">samples2ms</a>,
<a href="HALion-Script/pages/./savePreset.html">savePreset</a>,
<a href="HALion-Script/pages/./setBypassNoteOff.html">setBypassNoteOff</a>,
<a href="HALion-Script/pages/./setName.html">setName</a>,
<a href="HALion-Script/pages/./setOutputBus.html">setOutputBus</a>,
<a href="HALion-Script/pages/./setParameter.html">setParameter</a>,
<a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a>,
<a href="HALion-Script/pages/./setProgram.html">setProgram</a>,
<a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>,
<a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>,
<a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>,
<a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>,
<a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>,
<a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>,
<a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>,
<a href="HALion-Script/pages/./setScriptExecTimeOut.html">setScriptExecTimeOut</a>,
<a href="HALion-Script/pages/./setSource1.html">setSource1</a>,
<a href="HALion-Script/pages/./setSource2.html">setSource2</a>,
<a href="HALion-Script/pages/./setZoneFMXAlgo.html">setZoneFMXAlgo</a>,
<a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>,
<a href="HALion-Script/pages/./spawn.html">spawn</a>,
<a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>,
<a href="HALion-Script/pages/./startWriteOutputToFile.html">startWriteOutputToFile</a>,
<a href="HALion-Script/pages/./stopWriteOutputToFile.html">stopWriteOutputToFile</a>,</p>
<h2 id="u-z"><a class="header" href="#u-z">U-Z</a></h2>
<p><a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a>,
<a href="HALion-Script/pages/./VoiceGroupsData-Table.html">VoiceGroupsData Table</a>,
<a href="HALion-Script/pages/./Voice-Group-Steal-Modes.html">Voice Group Steal Modes</a>,
<a href="HALion-Script/pages/./wait.html">wait</a>,
<a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>,
<a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a>,
<a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>,
<a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>,</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="addlayerpassword"><a class="header" href="#addlayerpassword">addLayerPassword</a></h1>
<blockquote>
<p><strong>addLayerPassword(pwd)</strong></p>
</blockquote>
<h2 id="description-101"><a class="header" href="#description-101">Description</a></h2>
<p>Function that gives access to protected layers. By default, protected layers cannot be accessed by scripts. The parameters of a protected layer and any elements inside of it are hidden for scripts. This prevents someone unauthorized from parsing the <strong>Program Tree</strong> to retrieve hidden information. By calling this function with the correct password, the calling script can access the corresponding protected layers again.</p>
<blockquote>
<p>❕ To hide the password in addLayerPassword, you must also protect the script module. See <a href="HALion-Script/pages/./Managing-Script-Modules.html">Managing Script Modules</a> for details.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-81"><a class="header" href="#arguments-81">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>pwd</strong></td><td style="text-align: left">The password of the protected layer(s).</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="example-109"><a class="header" href="#example-109">Example</a></h2>
<pre><code class="language-lua">-- Access the protected layer(s) which have the password "abc123".

addLayerPassword("abc123")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Protecting-Layers.html">Protecting Layers</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="addqcassignment-1"><a class="header" href="#addqcassignment-1">addQCAssignment</a></h1>
<h2 id="description-102"><a class="header" href="#description-102">Description</a></h2>
<p>Function to add a quick control assignment to the specified layer and quick control. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control that you want to edit. The quick control assignment will be added to the quick control with the index stated by the <code>qc</code> argument. The arguments <code>element</code> and <code>nameOrID</code> specify the parameter to be connected. The scope determines the part of the program that will be affected by the quick control assignment. You specify the scope by setting the <code>scope</code> argument to the <a href="HALion-Script/pages/./Element.html">Element</a> object that corresponds to the desired part of the program.</p>
<blockquote>
<p>❕ The index of the quick controls starts counting from 1. QC 1 to QC 8 have index 1 to 8. Sphere H, Sphere V and Mod Wheel have index 9, 10 and 11.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-82"><a class="header" href="#arguments-82">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control to which the assignment will be added.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>element</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the parameter to be connected.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>scope</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object that will be affected by the quick control assignment.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
</tbody></table>
</div>
<h2 id="example-110"><a class="header" href="#example-110">Example</a></h2>
<pre><code class="language-lua">-- Assign the octave parameter of the zone to the
-- first quick control of the script module's parent layer.

layer = this.parent
zones = layer:findZones(true)
 
layer:addQCAssignment(1, zones[1], "Pitch.Octave", layer)
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="aftertouch"><a class="header" href="#aftertouch">afterTouch</a></h1>
<blockquote>
<p><strong>afterTouch(value)</strong></p>
</blockquote>
<h2 id="description-103"><a class="header" href="#description-103">Description</a></h2>
<p>Function to generate channel aftertouch events.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-83"><a class="header" href="#arguments-83">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The aftertouch value in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-111"><a class="header" href="#example-111">Example</a></h2>
<pre><code class="language-lua">-- Invert aftertouch values.
function onAfterTouch(event)
    local invAT =  127 - event.value
    afterTouch(invAT)
    print("Inverse AT:", invAT)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, <a href="HALion-Script/pages/./pitchBend.html">pitchBend</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="alternatedata-table"><a class="header" href="#alternatedata-table">AlternateData Table</a></h1>
<p><span class="version-text">(Since HALion 6.4.10)</span></p>
<h2 id="description-104"><a class="header" href="#description-104">Description</a></h2>
<p>The alternations in the Alternation List of the Layer Alternate MIDI module are managed via a predefined table: the AlternateData table. This table can be obtained by making a call to <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with <code>"AlternateData"</code> as parameter. The alternations are referenced by their index. Each alternation has the fields <code>.keyswitch</code> and <code>.layer</code>. You can change the values, but the structure of this table must remain unaltered. The values are set by making a call to <a href="HALion-Script/pages/./setParameter.html">setParameter</a>. See the example below for more details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-11"><a class="header" href="#fields-11">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.keyswitch</strong></td><td style="text-align: left">Key switches allow you to switch to a particular layer. You set the key switch with the corresponding MIDI note number . Set this to -1 to deactivate the keyswitch.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.layer</strong></td><td style="text-align: left">The layer for the alternation is defined by the corresponding <a href="HALion-Script/pages/./Layer.html">Layer</a> object.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
</tbody></table>
</div>
<h2 id="example-112"><a class="header" href="#example-112">Example</a></h2>
<pre><code class="language-lua">-- Add a Layer Alternate MIDI module.
this.parent:appendMidiModule(MidiModule("Layer Alternate"))
layerAlternate = this.parent:getMidiModule("")
layerAlternate:setName("Layer Alternate")
altdata = layerAlternate:getParameter("AlternateData")
-- Create three layers with a synth zone and add them to the alternation list.
for i = 1, 3 do
    this.parent:appendLayer(Layer())
    local alternateLayer = this.parent:getLayer(i)
    alternateLayer:setName("Alt "..i)
    alternateLayer:appendZone(Zone())
    local zone = alternateLayer:getZone()
    zone:setName("Zone "..i)
    altdata[#altdata+1] = { keyswitch = -1, layer = alternateLayer }
end
layerAlternate:setParameter("AlternateData", altdata)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="analyzepitch-1"><a class="header" href="#analyzepitch-1">analyzePitch</a></h1>
<blockquote>
<p><strong>analyzePitch(callback, channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h2 id="description-105"><a class="header" href="#description-105">Description</a></h2>
<p>Function to analyze the pitch of an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments <code>callback</code> and <code>channel</code> are optional. If called without a callback function, analyzePitch will be executed in the same thread. If called with a callback function as argument, analyzePitch will be executed in a separate, parallel thread. You can specify the channel to be analyzed with the <code>channel</code> argument. Without the <code>channel</code> argument, multiple channels of an audio file will be summed before the pitch is analyzed. The callback function is called with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object as the first and the <code>channel</code> as the second argument after the pitch has been analyzed. The results of analyzePitch are cashed for as long as the corresponding <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object exists. The function itself does not return any pitch information. You must use <a href="HALion-Script/pages/./getPitch.html">getPitch</a> to obtain the analyzed pitch.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-84"><a class="header" href="#arguments-84">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called with the AudioFile object as argument after the pitch has been analyzed.</td><td style="text-align: left">function, optional</td></tr>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file to be analyzed. Leave this empty or set this to 0 for summing all audio channels before they are analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-113"><a class="header" href="#example-113">Example</a></h2>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getPitch.html">getPitch</a>, <a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a>, <a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendbus-1"><a class="header" href="#appendbus-1">appendBus</a></h1>
<blockquote>
<p><strong>appendBus(bus)</strong></p>
</blockquote>
<h2 id="description-106"><a class="header" href="#description-106">Description</a></h2>
<p>Function to add a bus in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The bus to be added is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the bus. The new bus will be added behind the existing busses. To insert a bus at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertBus.html">insertBus</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-85"><a class="header" href="#arguments-85">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a></td></tr>
</tbody></table>
</div>
<h2 id="example-114"><a class="header" href="#example-114">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append the bus from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first bus from the loaded program.
bus = loadedProgram:getBus()
   
-- Append the bus.
if bus then
    this.program:appendBus(bus)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>, <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>, <a href="HALion-Script/pages/./appendZone.html">appendZone</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendeffect-1"><a class="header" href="#appendeffect-1">appendEffect</a></h1>
<blockquote>
<p><strong>appendEffect(effect)</strong></p>
</blockquote>
<h2 id="description-107"><a class="header" href="#description-107">Description</a></h2>
<p>Function to add an effect to the specified destination bus. The destination bus is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the destination bus. The effect to be added is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the effect. The new effect will be added behind the existing effects. To insert an effect at a specific position in the bus, use <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-86"><a class="header" href="#arguments-86">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th>Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>effect</strong></td><td>The <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the insert effect that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a></td></tr>
</tbody></table>
</div>
<h2 id="example-115"><a class="header" href="#example-115">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert an effect from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first effect from the loaded program.
effect = loadedProgram:getBus():getEffect()
  
-- Get the first bus of this program.
bus = this.program:getBus()
  
-- Append the effect.
if (insert and bus) then
    bus:appendEffect(effect)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>, <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>, <a href="HALion-Script/pages/./appendZone.html">appendZone</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendlayer-1"><a class="header" href="#appendlayer-1">appendLayer</a></h1>
<blockquote>
<p><strong>appendLayer(layer)</strong></p>
</blockquote>
<h2 id="description-108"><a class="header" href="#description-108">Description</a></h2>
<p>Function to add a layer in the specified destination layer. The layer to be added and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be added. For example, <code>this.parent</code> defines the parent layer of the script module as destination layer. The new layer will be added behind the existing layers. To insert a layer at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a> or <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-87"><a class="header" href="#arguments-87">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
</tbody></table>
</div>
<h2 id="example-116"><a class="header" href="#example-116">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append the layer from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first layer from the loaded program.
layer = loadedProgram:getLayer ()
    
-- Append the layer.
if layer then
    this.program:appendLayer(layer)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendBus.html">appendBus</a>, <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>, <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>, <a href="HALion-Script/pages/./appendZone.html">appendZone</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendlayerasync-1"><a class="header" href="#appendlayerasync-1">appendLayerAsync</a></h1>
<blockquote>
<p><strong>appendLayerAsync(layer, callback)</strong></p>
</blockquote>
<h2 id="description-109"><a class="header" href="#description-109">Description</a></h2>
<p>Function to add a layer in the specified destination layer using a separate, parallel thread. Appending a layer in a separate thread can be necessary if the layer is too big to be added in a short time. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The new layer will be added behind the existing layers. To insert a layer at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a> or <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a> instead. The function returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object that can be used to monitor the load progress. After the layer is added, the callback function is called. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as default argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-88"><a class="header" href="#arguments-88">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called when the layer is added. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as argument.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-54"><a class="header" href="#return-values-54">Return Values</a></h2>
<p>Returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object.</p>
<h2 id="example-117"><a class="header" href="#example-117">Example</a></h2>
<pre><code class="language-lua">-- Start with an empty program, remove any existing layers.

layers = this.parent:findLayers()
 
if layers then
   for i, layer in ipairs(layers) do
       this.parent:removeLayer(layer)
   end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
   { name = "Ambient Pad 01", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
   { name = "Ambient Pad 02", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
   { name = "Ambient Pad 03", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
   { name = "Ambient Pad 04", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
-- Create a table with the preset names.
function getPresetNames()
   presetNames = {}
   for i, preset in ipairs(layerPresets) do
       presetNames[i] = preset.name
   end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
   local newPreset = progressInfo.root
   if oldPreset then
       this.parent:removeLayer(oldPreset)
       print(oldPreset.name.." removed.")
   end
   oldPreset = newPreset
end
 
-- Append the preset in a separate thread.
function appendNewLayer(progressInfo)
   if progressInfo.root then
       this.parent:appendLayerAsync(progressInfo.root, removeOldLayer)
       print("Appending "..progressInfo.root.name.."...")
   end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged()
   progress = 0
   progressInf = loadPresetAsync(layerPresets[SelectPreset].path, appendNewLayer)
   print("Loading "..layerPresets[SelectPreset].name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset", "Select Preset", 1, presetNames, onSelectPresetChanged)
 
-- Monitor the load progress with onIdle.
progress = 1
function onIdle()
   if progress &lt; 1 then
       progress = progressInf.progress
       print("Progress: "..(progressInf.progress * 100).."%")
   end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendBus.html">appendBus</a>, <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>, <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>, <a href="HALion-Script/pages/./appendZone.html">appendZone</a>, <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendmidimodule-1"><a class="header" href="#appendmidimodule-1">appendMidiModule</a></h1>
<blockquote>
<p><strong>appendMidiModule(module)</strong></p>
</blockquote>
<h2 id="description-110"><a class="header" href="#description-110">Description</a></h2>
<p>Function to add a MIDI module in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The MIDI module to be added is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the desired MIDI module. The new MIDI module will be added behind the existing MIDI modules. To insert a MIDI module at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-89"><a class="header" href="#arguments-89">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>module</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the MIDI module that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></td></tr>
</tbody></table>
</div>
<h2 id="example-118"><a class="header" href="#example-118">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append a MIDI module from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first MIDI module from the loaded program.
module = loadedProgram:getMidiModule()
    
-- Append the MIDI module.
if module then
    this.program:appendMidiModule(module)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendBus.html">appendBus</a>, <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>, <a href="HALion-Script/pages/./appendZone.html">appendZone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="appendzone-1"><a class="header" href="#appendzone-1">appendZone</a></h1>
<blockquote>
<p><strong>appendZone(zone)</strong></p>
</blockquote>
<h2 id="description-111"><a class="header" href="#description-111">Description</a></h2>
<p>Function to add a zone in the specified destination layer. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as destination layer. The zone to be added is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the zone. The new zone will be added behind the existing zones. To insert a zone at a specific position in the destination layer, use <a href="HALion-Script/pages/./insertZone.html">insertZone</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-90"><a class="header" href="#arguments-90">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zone</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone that you want to append.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
</tbody></table>
</div>
<h2 id="example-119"><a class="header" href="#example-119">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Append a zone from Program.vstpreset into the current program.
    
-- Get the file path for user VST presets.
path = getUserPresetPath()
    
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
    
-- Get the first zone from the loaded program.
zone = loadedProgram:getZone()
    
-- Append the zone.
if zone then
    this.program:appendZone(zone)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./appendBus.html">appendBus</a>, <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a>, <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a>, <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a>, <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="assignautomation"><a class="header" href="#assignautomation">assignAutomation</a></h1>
<blockquote>
<p><strong>assignAutomation(element, nameOrID, index, scope)</strong></p>
</blockquote>
<h2 id="description-112"><a class="header" href="#description-112">Description</a></h2>
<p>Function to assign a parameter to an automation parameter. The arguments <code>element</code> and <code>nameOrID</code> specify the parameter to be assigned. The <code>index</code> argument determines to which automation parameter the parameter will be assigned. If the index argument is <code>nil</code> or not set, the parameter will be assigned to the next free automation parameter. The scope determines the part of the program that will be affected by the automation parameter. You specify the scope by setting the <code>scope</code> argument to the <a href="HALion-Script/pages/./Element.html">Element</a> object that corresponds to the desired part of the program. The function returns the index to which the automation parameter was assigned to. This is useful if the automation parameter was assigned to the next free automation parameter.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-91"><a class="header" href="#arguments-91">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>element</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the parameter to be assigned.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the automation parameter, or <code>nil</code>.</td><td style="text-align: left">number or <code>nil</code>, optional</td></tr>
<tr><td style="text-align: left"><strong>scope</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object that will be affected by the automation parameter. <span class="version-text">(Since HALion 6.1)</span></td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
</tbody></table>
</div>
<h2 id="return-values-55"><a class="header" href="#return-values-55">Return Values</a></h2>
<p>Returns the index to which the automation parameter was assigned to.</p>
<h2 id="example-120"><a class="header" href="#example-120">Example</a></h2>
<pre><code class="language-lua">-- Assign filter cutoff, resonance and envelope amount to the next free automation.
zones = this.program:findZones(true)
parameters = { "Filter.Cutoff", "Filter.Resonance", "Filter.EnvAmount" }
for i, parameter in ipairs(parameters) do
    local automationIndex
    automationIndex = assignAutomation(zones[1], parameter, automationIndex, this.program)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./forgetAutomation.html">forgetAutomation</a>, <a href="HALion-Script/pages/./getAutomationIndex.html">getAutomationIndex</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="audiofileopen"><a class="header" href="#audiofileopen">AudioFile.open</a></h1>
<blockquote>
<p><strong>AudioFile.open(filename)</strong></p>
</blockquote>
<h2 id="description-113"><a class="header" href="#description-113">Description</a></h2>
<p>The <code>AudioFile.open</code> function creates an <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the specified audio file. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object can be used to retrieve information from the audio file, for example, the sample rate, bit depth, length in samples, etc. The location of the audio file can be a folder or a VST Sound archive.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-92"><a class="header" href="#arguments-92">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>filename</strong></td><td style="text-align: left">The file path and name of the audio file.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-56"><a class="header" href="#return-values-56">Return Values</a></h2>
<p>Returns an <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the specified audio file.</p>
<h2 id="example-121"><a class="header" href="#example-121">Example</a></h2>
<pre><code class="language-lua">-- Open an audio file from Skylab.
fname = "vstsound://F29C895D6D8E4D6C9BCBBA5198412192/.samples/Ambient Pad 01/Ambient Pad 01 - C3.tg3c"
af = AudioFile.open(fname)
-- Print the sample rate and bit depth.
print("Sample Rate: "..af.rate)
print("Bit Depth: "..af.bits)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a>, <a href="HALion-Script/pages/./getPeak.html">getPeak</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="beat2ms"><a class="header" href="#beat2ms">beat2ms</a></h1>
<blockquote>
<p><strong>beat2ms(beats)</strong></p>
</blockquote>
<h2 id="description-114"><a class="header" href="#description-114">Description</a></h2>
<p>Function to convert a number of beats to the equivalent duration in milliseconds. One beat equals a quarter note. The current tempo is taken into account.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-93"><a class="header" href="#arguments-93">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>beats</strong></td><td style="text-align: left">The desired duration in number of beats and fractions of it.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-57"><a class="header" href="#return-values-57">Return Values</a></h2>
<p>Returns the specified number of beats (quarter notes) as duration in milliseconds.</p>
<h2 id="example-122"><a class="header" href="#example-122">Example</a></h2>
<pre><code class="language-lua">-- Print the position in the current bar in milliseconds when triggering a note.

function onNote(event)
    posInBar = getBeatTimeInBar()
    if (posInBar ~= -1) then       
        posInBarMs = beat2ms(posInBar)
        print(string.format("%.3f ms", posInBarMs))
    else
        print("Playback is stopped.")
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ms2beat.html">ms2beat</a>,  <a href="HALion-Script/pages/./ms2samples.html">ms2samples</a>, <a href="HALion-Script/pages/./samples2ms.html">samples2ms</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="bus-constructor-1"><a class="header" href="#bus-constructor-1">Bus Constructor</a></h1>
<blockquote>
<p><strong>Bus()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-115"><a class="header" href="#description-115">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Bus.html">Bus</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-58"><a class="header" href="#return-values-58">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Bus.html">Bus</a> object.</p>
<h2 id="example-123"><a class="header" href="#example-123">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="bypass-masks"><a class="header" href="#bypass-masks">Bypass Masks</a></h1>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-116"><a class="header" href="#description-116">Description</a></h2>
<p>Enumerator to determine the values that determine if a bus or effect follows the global inserts and Aux bypass buttons of the plug-in. The values must be applied to the <code>bypassMask</code> field of the desired <a href="HALion-Script/pages/./Bus.html">Bus</a> or <a href="HALion-Script/pages/./Effect.html">Effect</a> object. See the example below for details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="bypass-masks-1"><a class="header" href="#bypass-masks-1">Bypass Masks</a></h2>
<p>The values are determined with these names:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Value</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">BypassMask.noBypass</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">BypassMask.bypassInserts</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">BypassMask.bypassAux</td></tr>
</tbody></table>
</div>
<h2 id="example-124"><a class="header" href="#example-124">Example</a></h2>
<pre><code class="language-lua">bus = this.parent:getBus()
  
bypassSettings = {
    {name = "No Bypass",            value = BypassMask.noBypass },
    {name = "Follow Inserts",       value = BypassMask.bypassInserts },
    {name = "Follow Aux",           value = BypassMask.bypassAux },
    {name = "Follow Inserts &amp; Aux", value = BypassMask.bypassInserts + BypassMask.bypassAux },
}
  
bypassSettingsNames = {}
  
for i = 1, #bypassSettings do
    bypassSettingsNames[i] = bypassSettings[i].name
end
  
function onBypassSettingChanged()
    bus.bypassMask = bypassSettings[GlobalBypass].value
    print(bus.name, bus.bypassMask)
end
  
defineParameter("GlobalBypass", nil, 1, bypassSettingsNames, onBypassSettingChanged)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Bus.html">Bus</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="calcmodulation"><a class="header" href="#calcmodulation">calcModulation</a></h1>
<blockquote>
<p><strong>calcModulation()</strong></p>
</blockquote>
<h2 id="description-117"><a class="header" href="#description-117">Description</a></h2>
<p>Function to generate the modulation signals that have been defined with <a href="HALion-Script/pages/./defineModulation.html">defineModulation</a>. The function is executed every 32 samples.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-59"><a class="header" href="#return-values-59">Return Values</a></h2>
<p>Returns one or more modulation signals. Multiple modulation signals can be returned as a tuple or as a table. If the modulation is defined as unipolar, the signal must be in the range from 0.0 to 1.0. If the modulation is defined as bipolar, the signal must be in the range from -1.0 to 1.0.</p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><code class="language-lua">-- Modulation signals returned as tuple.

freq = 1
phase = 0
pi = math.pi
 
defineModulation('Ramp Up', false)
defineModulation('Sine', true)
defineModulation('Ramp Down', false)
 
function calcModulation()
    rate = getSamplingRate() / 32
    phase = phase + freq / rate
    if phase &gt;= 1 then
        phase = phase - 1
    end
    return phase, math.sin(2 * pi * phase), 1 - phase
end
</code></pre>
<pre><code class="language-lua">-- Modulation signals returned as table.

freq = 1
phase = 0
pi = math.pi
local mod = {}
 
defineModulation('Ramp Up', false)
defineModulation('Sine', true)
defineModulation('Ramp Down', false)
 
function calcModulation()
    rate = getSamplingRate() / 32
    phase = phase + freq / rate
    if phase &gt;= 1 then
        phase = phase - 1
    end
    mod[1] = phase
    mod[2] = math.sin(2 * pi * phase)
    mod[3] = 1 - phase
    return mod
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./defineModulation.html">defineModulation</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="canceldecompose-1"><a class="header" href="#canceldecompose-1">cancelDecompose</a></h1>
<blockquote>
<p><strong>cancelDecompose()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-118"><a class="header" href="#description-118">Description</a></h2>
<p>Function to cancel the <a href="HALion-Script/pages/./decompose.html">decompose</a> function for an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. To cancel the decompose of a specific audio file, the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the cancelDecompose function must match the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the corresponding <a href="HALion-Script/pages/./decompose.html">decompose</a> function.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-125"><a class="header" href="#example-125">Example</a></h2>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./decompose.html">decompose</a>, <a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>, <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>, <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>, <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="cancelpitchanalysis-1"><a class="header" href="#cancelpitchanalysis-1">cancelPitchAnalysis</a></h1>
<blockquote>
<p><strong>cancelPitchAnalysis(channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h2 id="description-119"><a class="header" href="#description-119">Description</a></h2>
<p>Function to cancel a pitch analysis you started with <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The <code>channel</code> argument specifies the channel of the audio file. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the <code>channel</code> argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-94"><a class="header" href="#arguments-94">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file that is being analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-126"><a class="header" href="#example-126">Example</a></h2>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>, <a href="HALion-Script/pages/./getPitch.html">getPitch</a>, <a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="changenoteexpression"><a class="header" href="#changenoteexpression">changeNoteExpression</a></h1>
<blockquote>
<p><strong>changeNoteExpression(noteID, type, value, relative, immediateOrDuration)</strong></p>
</blockquote>
<h2 id="description-120"><a class="header" href="#description-120">Description</a></h2>
<p>Function to change the note expression of a specific note.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-95"><a class="header" href="#arguments-95">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note you want to change.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The note expression type. It can be determined via names or indices. See <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a> for details.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The absolute note expression value in the range of 0.0 to 1.0 (relative = <code>false</code>) or the value that is added (relative = <code>true</code>).</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>relative</strong></td><td style="text-align: left">The value is added to the current amount if this is set to <code>true</code>. The default setting is false.</td><td style="text-align: left">boolean, optional</td></tr>
<tr><td style="text-align: left"><strong>immediateOrDuration</strong></td><td style="text-align: left">Change the value immediately or in the specified duration. Set this to <code>true</code> to change the value immediately without controller smoothing<code>.</code> Set a duration in milliseconds to change the value with controller smoothing in the specified time. If not set, this setting defaults to <code>false</code> and the controller smoothing setting in the <strong>Options</strong> editor is used.</td><td style="text-align: left">boolean or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-127"><a class="header" href="#example-127">Example</a></h2>
<pre><code class="language-lua">-- Transform continuous controllers into note expression.

local ids = {}
 
function onNote(event)
  local id = postEvent(event)
  changeNoteExpression(id, 1, getCC(7)/127, false, true)
  changeNoteExpression(id, 2, getCC(10)/127, false, true)
  changeNoteExpression(id, 3, (getCC(129)/8191) * 0.5 + 0.5, false, true)
  table.insert(ids, id)
  waitForRelease()
  table.remove(ids)
end
 
function onController(event)
  
  if event.controller == 7 then -- volume controller
    for i,v in ipairs(ids) do
        changeNoteExpression(v, NoteExpressionType.volume, event.value/127)
    end
  end
  
  if event.controller == 10 then -- pan controller
    for i,v in ipairs(ids) do
        changeNoteExpression(v, NoteExpressionType.pan, event.value/127)
    end
  end
  
  if event.controller == 129 then -- pitch bend
    for i,v in ipairs(ids) do
        changeNoteExpression(v, NoteExpressionType.tuning, (event.value/8191) * 0.5 + 0.5)
    end
  end

end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>, <a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>, <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>, <a href="HALion-Script/pages/./changePan.html">changePan</a>, <a href="HALion-Script/pages/./changeTune.html">changeTune</a>, <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="changepan"><a class="header" href="#changepan">changePan</a></h1>
<blockquote>
<p><strong>changePan(noteID, pan, relative, immediateOrDuration)</strong></p>
</blockquote>
<h2 id="description-121"><a class="header" href="#description-121">Description</a></h2>
<p>Function to change the position of a specific note in the panorama.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-96"><a class="header" href="#arguments-96">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note that you want to change.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>pan</strong></td><td style="text-align: left">The absolute pan position in the range of -1.0 to 1.0 (relative = <code>false</code>) or the value which is added (relative = <code>true</code>).</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>relative</strong></td><td style="text-align: left">The value is added to the current amount if this is set to ''true''. The default is ''false''.</td><td style="text-align: left">boolean, optional</td></tr>
<tr><td style="text-align: left"><strong>immediateOrDuration</strong></td><td style="text-align: left">Change the value immediately or in the specified duration. Set this to <code>true</code> to change the value immediately without controller smoothing. Set a duration in milliseconds to change the value with controller smoothing in the specified time. If not set, this setting defaults to <code>false</code> and the controller smoothing setting in the <strong>Options</strong> editor is used.</td><td style="text-align: left">boolean or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-128"><a class="header" href="#example-128">Example</a></h2>
<pre><code class="language-lua">-- Pan notes depending on the pitch of the MIDI note.
-- E3 == center, E2 == hard left, E4 == hard right

function onNote(event)
  local pan = (event.note - 64) / 12
  local id = postEvent(event)
  changePan(id, pan, false, true)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>, <a href="HALion-Script/pages/./changeTune.html">changeTune</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="changetune"><a class="header" href="#changetune">changeTune</a></h1>
<blockquote>
<p><strong>changeTune(noteID, tune, relative, immediateOrDuration)</strong></p>
</blockquote>
<h2 id="description-122"><a class="header" href="#description-122">Description</a></h2>
<p>Function to change the tuning of a specific note in semitones.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-97"><a class="header" href="#arguments-97">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note that you want to change.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>tune</strong></td><td style="text-align: left">The absolute tuning in the range of -120.0 to 120.0 semitones (relative = <code>false</code>) or the value which is added (relative = <code>true</code>).</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>relative</strong></td><td style="text-align: left">The value is added to the current amount if this is set to <code>true</code>. The default is <code>false</code>.</td><td style="text-align: left">boolean, optional</td></tr>
<tr><td style="text-align: left"><strong>immediateOrDuration</strong></td><td style="text-align: left">Change the value immediately or in the specified duration. Set this to <code>true</code> to change the value immediately without controller smoothing. Set a duration in milliseconds to change the value with controller smoothing in the specified time. If not set, this setting defaults to <code>false</code> and the controller smoothing setting in the <strong>Options</strong> editor is used.</td><td style="text-align: left">boolean or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-129"><a class="header" href="#example-129">Example</a></h2>
<pre><code class="language-lua">-- Random tune offset per note.

function onNote(event)
  local tune = math.random() * 12 - 6
  local id = postEvent(event)
  changeTune(id, tune, true, true)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>, <a href="HALion-Script/pages/./changePan.html">changePan</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="changevolume"><a class="header" href="#changevolume">changeVolume</a></h1>
<blockquote>
<p><strong>changeVolume(noteID, gain, relative, immediateOrDuration)</strong></p>
</blockquote>
<h2 id="description-123"><a class="header" href="#description-123">Description</a></h2>
<p>Function to change the volume of a specific note. A gain factor greater than 1.0 amplifies the signal and a gain factor smaller than 1.0 attenuates the signal.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-98"><a class="header" href="#arguments-98">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note that you want to change.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>gain</strong></td><td style="text-align: left">The absolute gain (relative = <code>false</code>) or the value which is added (relative = <code>true</code>).</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>relative</strong></td><td style="text-align: left">The value is added to the current amount if this is set to <code>true</code>. The default is <code>false</code>.</td><td style="text-align: left">boolean, optional</td></tr>
<tr><td style="text-align: left"><strong>immediateOrDuration</strong></td><td style="text-align: left">Change the value immediately or in the specified duration. Set this to <code>true</code> to change the value immediately without controller smoothing. Set a duration in milliseconds to change the value with controller smoothing in the specified time. If not set, this setting defaults to ''false'' and the controller smoothing setting in the <strong>Options</strong> editor is used.</td><td style="text-align: left">boolean or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-130"><a class="header" href="#example-130">Example</a></h2>
<pre><code class="language-lua">-- Attenuate notes between C2 and C4.

local lowKey = 48   -- C2
local highKey = 72  -- C4
local keyRange = highKey - lowKey
function onNote(event)
  if event.note &gt; lowKey then
    local gain = (event.note - lowKey)/keyRange
    local id = postEvent(event)
    changeVolume(id, gain, false, true)
   end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>, <a href="HALion-Script/pages/./changePan.html">changePan</a>, <a href="HALion-Script/pages/./changeTune.html">changeTune</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="changevolumedb"><a class="header" href="#changevolumedb">changeVolumedB</a></h1>
<blockquote>
<p><strong>changeVolumedB(noteID, gain_dB, relative, immediateorDuration)</strong></p>
</blockquote>
<h2 id="description-124"><a class="header" href="#description-124">Description</a></h2>
<p>Function to change the volume of a specific note in decibels (dB). Positive values amplify the signal and negative values attenuate the signal.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-99"><a class="header" href="#arguments-99">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note that you want to change.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>gain_dB</strong></td><td style="text-align: left">The absolute gain in dB (relative = <code>false</code>) or the value which is added (relative = <code>true</code>).</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>relative</strong></td><td style="text-align: left">The value is added to the current amount if  this is set to <code>true</code>. The default is <code>false</code>.</td><td style="text-align: left">boolean, optional</td></tr>
<tr><td style="text-align: left"><strong>immediateOrDuration</strong></td><td style="text-align: left">Change the value immediately or in the specified duration. Set this to <code>true</code> to change the value immediately without controller smoothing. Set a duration in milliseconds to change the value with controller smoothing in the specified time. If not set, this setting defaults to <code>false</code> and the controller smoothing setting in the <strong>Options</strong> editor is used.</td><td style="text-align: left">boolean or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-131"><a class="header" href="#example-131">Example</a></h2>
<pre><code class="language-lua">-- Apply note-on velocity with a dynamic range of 40dB.

function onNote(event)
  local id = postEvent(event)
  local gain_dB = (event.velocity/127) * 40 - 40
  changeVolumedB(id, gain_dB, false, true)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changePan.html">changePan</a>, <a href="HALion-Script/pages/./changeTune.html">changeTune</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="clone"><a class="header" href="#clone">clone</a></h1>
<blockquote>
<p><strong>clone(object)</strong></p>
</blockquote>
<h2 id="description-125"><a class="header" href="#description-125">Description</a></h2>
<p>Function to create a copy of the specified object. If you want to modify an object, and you want to keep the original object, you can clone the object before modifying it. The allowed objects are <a href="HALion-Script/pages/./Bus.html">Bus</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a>, <a href="HALion-Script/pages/./Event.html">Event</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./Program.html">Program</a> and <a href="HALion-Script/pages/./Zone.html">Zone</a>. Event objects can be cloned in the processor or the controller thread. All other objects can only be cloned in the controller thread.</p>
<blockquote>
<p>❕ If you clone an event, the ID of the copied event will be -1, because the event has not been played yet. To retrieve an ID, use <a href="HALion-Script/pages/./postEvent.html">postEvent</a> or <a href="HALion-Script/pages/./playNote.html">playNote</a>.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-100"><a class="header" href="#arguments-100">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left">The allowed objects are <a href="HALion-Script/pages/./Bus.html">Bus</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a>, <a href="HALion-Script/pages/./Event.html">Event</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./Program.html">Program</a> and <a href="HALion-Script/pages/./Zone.html">Zone</a>.</td><td style="text-align: left">object</td></tr>
</tbody></table>
</div>
<h2 id="return-values-60"><a class="header" href="#return-values-60">Return Values</a></h2>
<p>Returns a copy of the specified object.</p>
<h2 id="example-132"><a class="header" href="#example-132">Example</a></h2>
<pre><code class="language-lua">-- Create a copy of the event and transpose it.

function onNote(event)
    eventCopy = clone(event)
    eventCopy.note = event.note + 12
    local id = postEvent(eventCopy)
    waitForRelease()
    releaseVoice(id)
end

-- Create a copy of the program.

function cloneProgram()
  local prg = this.parent
  assert(type(prg) == 'Program')
  local copy_prg = clone(prg)
  assert(type(copy_prg) == 'Program')
  assert(#(copy_prg:findZones(true)) == #(prg:findZones(true)))
end
 
cloneProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a>, <a href="HALion-Script/pages/./Event-Constructor.html">Event Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>, <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="controlchange"><a class="header" href="#controlchange">controlChange</a></h1>
<blockquote>
<p><strong>controlChange(controller, value)</strong></p>
</blockquote>
<h2 id="description-126"><a class="header" href="#description-126">Description</a></h2>
<p>Function to generate controller events.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-101"><a class="header" href="#arguments-101">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>controller</strong></td><td style="text-align: left">The controller number. See <a href="HALion-Script/pages/./Controller-Numbers.html">Controller Numbers</a> for a description of the different controllers.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The controller value in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-133"><a class="header" href="#example-133">Example</a></h2>
<pre><code class="language-lua">-- Invert the values of all MIDI controllers.

function onController(event)
    if event.controller &lt; 120 then
        controlChange(event.controller, 127 - event.value)
    else
        postEvent(event) -- Other controllers are just passed through.
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./getCC.html">getCC</a>, <a href="HALion-Script/pages/./afterTouch.html">afterTouch</a>, <a href="HALion-Script/pages/./pitchBend.html">pitchBend</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="controller-numbers"><a class="header" href="#controller-numbers">Controller Numbers</a></h1>
<h2 id="description-127"><a class="header" href="#description-127">Description</a></h2>
<p>Continuous controller events are determined by their controller number. Controller numbers from 0 to 127 follow the MIDI specification. Controller numbers above 127 are additional controllers that are specific to HALion.</p>
<blockquote>
<p>❕ To limit a function to the continuous controllers of the MIDI specification, use an if statement. See example below.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="additional-controllers"><a class="header" href="#additional-controllers">Additional Controllers</a></h2>
<p>Controllers like aftertouch, pitch bend and other special controllers are determined by controller numbers above 127.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Number</th><th style="text-align: left">Controller</th></tr></thead><tbody>
<tr><td style="text-align: left">128</td><td style="text-align: left">Aftertouch</td></tr>
<tr><td style="text-align: left">129</td><td style="text-align: left">Pitchbend</td></tr>
<tr><td style="text-align: left">130</td><td style="text-align: left">Controller A</td></tr>
<tr><td style="text-align: left">131</td><td style="text-align: left">Controller B</td></tr>
<tr><td style="text-align: left">132</td><td style="text-align: left">Controller C</td></tr>
<tr><td style="text-align: left">133</td><td style="text-align: left">Controller D</td></tr>
<tr><td style="text-align: left">134</td><td style="text-align: left">Controller E</td></tr>
<tr><td style="text-align: left">135</td><td style="text-align: left">Controller F</td></tr>
<tr><td style="text-align: left">136</td><td style="text-align: left">Controller G</td></tr>
<tr><td style="text-align: left">137</td><td style="text-align: left">Controller H</td></tr>
<tr><td style="text-align: left">138</td><td style="text-align: left">Reserved for polyhonic Velocity</td></tr>
<tr><td style="text-align: left">139</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 1</td></tr>
<tr><td style="text-align: left">140</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 2</td></tr>
<tr><td style="text-align: left">141</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 3</td></tr>
<tr><td style="text-align: left">142</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 4</td></tr>
<tr><td style="text-align: left">143</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 5</td></tr>
<tr><td style="text-align: left">144</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 6</td></tr>
<tr><td style="text-align: left">145</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 7</td></tr>
<tr><td style="text-align: left">146</td><td style="text-align: left">Reserved for polyhonic Note Expression Custom 8</td></tr>
<tr><td style="text-align: left">147</td><td style="text-align: left">RPN Pitch Bend Range</td></tr>
<tr><td style="text-align: left">148</td><td style="text-align: left">RPN Channel Fine Tuning (value range -8191 to 8191 equals -100 to 100 cent)</td></tr>
<tr><td style="text-align: left">149</td><td style="text-align: left">RPN Channel Coarse Tuning (value range -64 to 63 equals -64 to 63 semitones)</td></tr>
<tr><td style="text-align: left">150</td><td style="text-align: left">RPN Tuning Program Change</td></tr>
<tr><td style="text-align: left">151</td><td style="text-align: left">RPN Tuning Bank Select</td></tr>
<tr><td style="text-align: left">152</td><td style="text-align: left">RPN Modulation Depth Range</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The function <a href="HALion-Script/pages/./onController.html">onController</a> will not be called by controllers 138 to 146. They are reserved for the polyphonic sources note-on velocity and note expression custom 1-8. You can use the callback functions <a href="HALion-Script/pages/./onNote.html">onNote</a> and <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a> instead.</p>
</blockquote>
<h2 id="example-134"><a class="header" href="#example-134">Example</a></h2>
<pre><code class="language-lua">-- Exclude MIDI mode messages and other special controllers.

function onController(event)
    if event.controller &lt; 120 then
        print("Controller #: "..event.controller..", Value: "..event.value)
        postEvent(event)
    end
end
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, <a href="HALion-Script/pages/./getCC.html">getCC</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="decompose-1"><a class="header" href="#decompose-1">decompose</a></h1>
<blockquote>
<p><strong>decompose{arguments}</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-128"><a class="header" href="#description-128">Description</a></h2>
<p>Function to decompose an audio file into its tonal and noise components. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The decompose function can be configured with named arguments. The named arguments are optional and if called without, decompose will be executed with its default settings.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-102"><a class="header" href="#arguments-102">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">This callback function is called with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the file path of the ouput sample(s) as arguments after the original sample has been decomposed. If called without a callback function, decompose will be executed in the same thread. If called with a callback function as argument, decompose will be executed in a separate, parallel thread.</td><td style="text-align: left">function, optional</td></tr>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples. The created samples are trimmed to this position. The default is 0 samples.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to less than or equal to 0 to use all samples from the specified <code>start</code> to the end of the sample. By default, everything from <code>start</code> to the end of the sample is decomposed. The created samples are trimmed to this length.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>sensitivity</strong></td><td style="text-align: left">Determines the minimum level difference that is needed to distinguish the tonal from the noise signals. The sensitivity is specified in dB and the value range is from -96 to 0 dB. The default is -24 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>cutoff</strong></td><td style="text-align: left">Sets the frequency limit below which the algorithm detects tonal signals. Any signals above the cutoff frequency are classified as noise, regardless of the <code>sensitivity</code> and <code>duration</code> arguments. The cutoff is specified in Hz and the value range is from 20 to 20000 Hz. The default is 20000 Hz.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">Allows you to specify the minimum length for a tonal signal in milliseconds. Signals that are shorter than the specified duration are classified as noise, longer signals are classified as tonal. The value range is fom 0 to 100 ms. The default is 80 ms.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>tonalLevel</strong></td><td style="text-align: left">Specifies the level of the tonal component in dB. The value range is from -96 to +12 dB. The default is 0 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>noiseLevel</strong></td><td style="text-align: left">Specifies the level of the noise component in dB. The value range is from -96 to +12 dB. The default is 0 dB.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>outputMode</strong></td><td style="text-align: left">Defines if only one of the components, both components, or a mix of them is created. See <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a> for details.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>outputPath</strong></td><td style="text-align: left">Specifies the path for the decomposed audio files. If the string is empty, invalid, or nil, the file paths of the decompose settings of the plug-in will be used. The default is nil.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ Samples that were loaded from a VST Sound container can only be decomposed if the <code>ouputPath</code> argument is set to a valid file location. You can use <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a> to obtain the file location from the decompose settings of the plug-in.</p>
</blockquote>
<h2 id="example-135"><a class="header" href="#example-135">Example</a></h2>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>, <a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>, <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>, <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>, <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="decompose-output-modes"><a class="header" href="#decompose-output-modes">Decompose Output Modes</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-129"><a class="header" href="#description-129">Description</a></h2>
<p>Enumerator to identify the different decompose output modes.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="decompose-output-modes-1"><a class="header" href="#decompose-output-modes-1">Decompose Output Modes</a></h2>
<p>The decompose output mode can be determined with these names or indices:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">DecomposeOutputMode.tonal</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">DecomposeOutputMode.noise</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">DecomposeOutputMode.all</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">DecomposeOutputMode.mix</td></tr>
</tbody></table>
</div>
<h2 id="example-136"><a class="header" href="#example-136">Example</a></h2>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./decompose.html">decompose</a>, <a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>, <a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>, <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>, <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="definemodulation"><a class="header" href="#definemodulation">defineModulation</a></h1>
<blockquote>
<p><strong>defineModulation(name, bipolar)</strong></p>
</blockquote>
<h2 id="description-130"><a class="header" href="#description-130">Description</a></h2>
<p>Function to declare a modulation output for the script module, which can be assigned in the modulation matrix of the zone. The declared modulation outputs can be found on the Modulation Module submenu of the modulation matrix's Source menu. This function can be used multiple times to declare different modulation outputs.</p>
<blockquote>
<p>❕ This function only declares the modulation output. It does not calculate the modulation signal. The modulation signal must be generated with <a href="HALion-Script/pages/./calcModulation.html">calcModulation</a>.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-103"><a class="header" href="#arguments-103">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">The name of the modulation output as it will be shown in the modulation matrix of the zone.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>bipolar</strong></td><td style="text-align: left">If this is set to <code>true</code>, the output is expected to be in the range from -1.0 to 1.0. If this is set to <code>false</code>, the output is expected to be in the range from 0.0 to 1.0.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h2 id="example-137"><a class="header" href="#example-137">Example</a></h2>
<pre><code class="language-lua">function onInit()
   defineModulation("Mod 1", false) -- unipolar
   defineModulation("Mod 2", true)  -- bipolar
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./calcModulation.html">calcModulation</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="defineparameter"><a class="header" href="#defineparameter">defineParameter</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/defineParameter.html#description">Description</a>
<ul>
<li><a href="HALion-Script/pages/defineParameter.html#numeric">Numeric</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#indexed-string-array">Indexed String Array</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#boolean">Boolean</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#string">String</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#table">Table</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#by-parameter-definition">By Parameter Definition</a></li>
<li><a href="HALion-Script/pages/defineParameter.html#by-named-arguments">By Named Arguments</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/defineParameter.html#arguments">Arguments</a>
<ul>
<li><a href="HALion-Script/pages/defineParameter.html#example-1">Example 1</a></li>
</ul>
</li>
<li><a href="HALion-Script/pages/defineParameter.html#additional-named-arguments">Additional Named Arguments</a>
<ul>
<li><a href="HALion-Script/pages/defineParameter.html#example-2">Example 2</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="description-131"><a class="header" href="#description-131">Description</a></h2>
<p>Function to specify a parameter with the specified name and characteristics. The parameters you define can be used to configure the script module and save its state with the program. They are shown in the <strong>Parameter List</strong> from where you can connect them to controls on the macro page. For more details see <a href="HALion-Script/pages/./Creating-Parameters.html">Creating Parameters</a>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h3 id="numeric-1"><a class="header" href="#numeric-1">Numeric</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, default, min, max, increment, changeCallback)</strong></p>
</blockquote>
<p>Creates a numeric parameter. The <code>default</code> argument defines the value that the parameter will default to. The <code>min</code> and <code>max</code> arguments define the value range of the parameter. The <code>increment</code> argument defines the step size in which the parameter value can be adjusted. The arguments <code>default</code>, <code>min</code>, <code>max</code>  and <code>increment</code> can be any integer or floating point value. How many digits are shown after the decimal point for a value string of a parameter is determined by the value of the <code>increment</code> argument. For example:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Value</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>increment = 1</code></td><td style="text-align: left">The parameter will be an integer value and its value string will display no digits after the decimal point.</td></tr>
<tr><td style="text-align: left"><code>increment = 0.001</code></td><td style="text-align: left">The parameter will be a floating point value and its value string will display three digits after the decimal point.</td></tr>
<tr><td style="text-align: left"><code>increment = 0</code></td><td style="text-align: left">The parameter will be a floating point value and its value string will display two digits after the decimal point.</td></tr>
</tbody></table>
</div>
<p>The automatic formatting of a value can be overridden with the <code>format</code> argument. See <a href="HALion-Script/pages/./Creating-Parameters.html#additional-named-arguments">Additional Named Arguments</a> for more details.</p>
<h3 id="indexed-string-array-1"><a class="header" href="#indexed-string-array-1">Indexed String Array</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, default, strings, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with integer indices that have a text representation given by the string values of an array. The <code>default</code> argument defines the index value that the parameter will default to. The <code>strings</code> argument must be an array with string values starting with index 0 or 1.</p>
<h3 id="boolean-1"><a class="header" href="#boolean-1">Boolean</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, bool, changeCallback)</strong></p>
</blockquote>
<p>Creates a boolean parameter. The <code>bool</code> argument also defines the default value of the parameter.</p>
<h3 id="string-1"><a class="header" href="#string-1">String</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, string, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with a string value. You can change the string by assigning a new string value to the parameter.</p>
<h3 id="table-1"><a class="header" href="#table-1">Table</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, table, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with a table as value. The <code>name</code> argument of the parameter also defines the name of the table. You can access the values of the table using the regular methods, e.g., dot notation.</p>
<h3 id="by-parameter-definition-1"><a class="header" href="#by-parameter-definition-1">By Parameter Definition</a></h3>
<blockquote>
<p><strong>defineParameter(name, longName, parameterDefinition, changeCallback)</strong></p>
</blockquote>
<p>Creates a parameter with the behavior of the specified <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a>. You can use this to clone the behavior of existing parameters.</p>
<h3 id="by-named-arguments-1"><a class="header" href="#by-named-arguments-1">By Named Arguments</a></h3>
<blockquote>
<p><strong>defineParameter { name = "p", longName = "param", default = 0, min = 0, max = 100, increment = 0.01, onChanged = callback, type = "float", format = "%.2f", readOnly = false, writeAlways = false, automatable = true, persistent = true }</strong></p>
</blockquote>
<p>Creates a parameter by named arguments. The only argument to the function is a table with the key/value pairs that define the parameter. The additional keys type, format, readOnly, writeAlways, automatable, processorCallback and persistent give you control over more advanced features. They can only be set with named arguments. See <a href="HALion-Script/pages/./Creating-Parameters.html#defining-parameters-by-named-arguments">Defining Parameters by Named Arguments</a> for more details.</p>
<p><a href="HALion-Script/pages/defineParameter.html#defineparameter">Jump to Top</a></p>
<h2 id="arguments-104"><a class="header" href="#arguments-104">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">The name of the parameter.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>longName</strong></td><td style="text-align: left">The long name of the parameter, e.g., the name of the tool tip. If the argument is <code>nil</code> or not set, the <code>name</code> will be used.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>default</strong></td><td style="text-align: left">The default value of the parameter. The argument defaults to 0 if not set.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>min</strong></td><td style="text-align: left">The minimum value of the parameter. The argument defaults to 0 if not set.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>max</strong></td><td style="text-align: left">The maximum value of the parameter. The argument defaults to 100 if not set.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>increment</strong></td><td style="text-align: left">The step size of the parameter as floating point value. Set this to 1 for integer steps. The argument defaults to 0 (floating point value, no steps) if not set.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>strings</strong></td><td style="text-align: left">Creates a parameter with an indexed string array. The index starts with 0 or 1, depending on how you initialize the table. The string values of the array define the text representation of the parameter in the <strong>Parameter List</strong>.</td><td style="text-align: left">array, optional</td></tr>
<tr><td style="text-align: left"><strong>bool</strong></td><td style="text-align: left">Creates a boolean parameter. This argument also defines the default value of the parameter.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>string</strong></td><td style="text-align: left">Creates a parameter with a string value. You can change the string by assigning a new string value to the parameter.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>table</strong></td><td style="text-align: left">Creates a parameter with a table as value.</td><td style="text-align: left">table, optional</td></tr>
<tr><td style="text-align: left"><strong>parameterDefinition</strong></td><td style="text-align: left">Creates a parameter with the behavior of the set <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a>. You can use this to clone the behavior of existing parameters.</td><td style="text-align: left"><a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>onChanged</strong></td><td style="text-align: left">Callback function that is called if the value of the parameter has changed. See <a href="HALion-Script/pages/./Creating-Parameters.html#parameter-change-callback">Parameter Change Callback</a> for more details.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h3 id="example-1-4"><a class="header" href="#example-1-4">Example 1</a></h3>
<pre><code class="language-lua">-- Showcase different parameters.
 
-- Initialize variables.

maxVelocity = 127
 
-- Change callback of the parameter "Label".

function nameChanged()
    print("name changed to", Label) --Print the value of the parameter.
end
 
-- Initialize parameters.

defineParameter("Scale", nil, 100)                                          -- Parameter with default 100 and range 0 to 100.
defineParameter("Offset", nil, 0, -100, 100, 1)                             -- Bipolar parameter with integer steps.
defineParameter("Pan", nil, 0, -100, 100, 0.1)                              -- Bipolar parameter with 0.1 steps.
defineParameter("Mode", nil, 1, { "Off", "Normal", "Hyper" })               -- Indexed string array.
defineParameter("Enable", "Enable Filter", true)                            -- Switch with long name.
defineParameter("Label", nil, "untitled", nameChanged)                      -- String parameter.
defineParameter("Intervals", nil, { 0, 4, 7 })                              -- Table parameter.
defineParameter("Volume", nil, this.parent:getParameterDefinition("Level")) -- Parameter with the same behavior as the "Level" parameter of the parent layer.
</code></pre>
<p><a href="HALion-Script/pages/defineParameter.html#defineparameter">Jump to Top</a></p>
<h2 id="additional-named-arguments-1"><a class="header" href="#additional-named-arguments-1">Additional Named Arguments</a></h2>
<p><span class="version-text">(Since HALion 6.1)</span></p>
<p>If you create a parameter by named arguments, you get access to the following additional arguments. See <a href="HALion-Script/pages/./Creating-Parameters.html#defining-parameters-by-named-arguments">Definging Parameters by Named Arguments</a> for more details.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The value type of the parameter (integer, float, boolean, string, variant, or envelope). The type must match the default and increment arguments.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>format</strong></td><td style="text-align: left">Formats the value string of a float value using the provided arguments. Only the format specifiers for float values are supported, i.e., e, E, f, g, or G. Other format specifiers are not supported. This overrides any automatic formatting from the <code>increment</code> argument.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>readOnly</strong></td><td style="text-align: left">Setting this to <code>true</code> will prevent the parameter from being changed from outside the script. The argument defaults to <code>false</code> if no value is set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>writeAlways</strong></td><td style="text-align: left">A parameter does not call its change callback if its value is set without being changed. Set this to <code>true</code> if you want to make sure that the change callback of the parameter is called. The argument defaults to <code>false</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>automatable</strong></td><td style="text-align: left">Set this to <code>false</code> if you do not want the parameter to be automated. The argument defaults to <code>true</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>processorCallback</strong></td><td style="text-align: left">If this is set to <code>true</code>, the parameter change callback will be executed in the processor context with high accuracy. This is required for automated script parameters to update correctly when using <strong>Render in Place</strong> or <strong>Export Audio</strong>, for example.  If no processor exists, the callback is still run in the controller context. <span class="version-text">(Since HALion 6.4.20)</span></td><td style="text-align: left">bool, optional</td></tr>
<tr><td style="text-align: left"><strong>persistent</strong></td><td style="text-align: left">The parameter will not be restored from the VST preset if this is set to <code>false</code>. The argument defaults to <code>true</code> if not set.</td><td style="text-align: left">bool, optional</td></tr>
</tbody></table>
</div>
<p>The arguments readOnly, writeAlways and automatable are usepful if you have a parameter that is used only for indication, but not for entering values.</p>
<h3 id="example-2-4"><a class="header" href="#example-2-4">Example 2</a></h3>
<pre><code class="language-lua">-- The following parameter is read only, not automatable and not persistent.

defineParameter {
    name = "deltaTime",
    longName = "Delta Time",
    default = 0,
    min = 0,
    max = 2^31,
    type = "float",
    format = "%.3f ms",
    readOnly = true,
    automatable = false,
    persistent = false,
}
   
-- Measure the time between subsequent notes.

function onNote(event)
    postEvent(event)
    t2 = getTime()
    if t1 then
        deltaTime = t2 - t1
    end
    t1 = t2
end
 
-- The following parameter change callback is executed in the processor context with high accuracy.

function onP1changed()
   this.parent:setParameterNormalized("Level", P1 / 100)
end
 
defineParameter{name = "P1", min=0, max=100, onChanged = onP1changed, processorCallback = true}
</code></pre>
<p><a href="HALion-Script/pages/defineParameter.html#defineparameter">Jump to Top</a></p>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./setParameter.html">setParameter</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="defineslotlocal"><a class="header" href="#defineslotlocal">defineSlotLocal</a></h1>
<blockquote>
<p><strong>defineSlotLocal(name)</strong></p>
</blockquote>
<h2 id="description-132"><a class="header" href="#description-132">Description</a></h2>
<p>Function to attain global variables that operate independently per slot. You can call defineSlotLocal before or after the initialization of the corresponding variable, but it is common practice to call the function in advance. For more details see <a href="HALion-Script/pages/./Using-Slot-Local-Variables.html">Using Slot Local Variables</a>.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-105"><a class="header" href="#arguments-105">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">The name of the global variable.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="example-138"><a class="header" href="#example-138">Example</a></h2>
<pre><code class="language-lua">-- Store held notes in a note buffer and print them out.
 
-- Declare the note buffer as slot local.
defineSlotLocal("noteBuffer")
 
-- Initialize the note buffer.
noteBuffer = {}
 
-- Print all notes in the note buffer.
function printNoteBuffer()
    for note, velocity in pairs(noteBuffer) do
        print("Note# = "..note..", Velocity = "..velocity)
    end
    print()
end
 
-- Write notes to the buffer and print them.
function onNote(event)
    postEvent(event)
    noteBuffer[event.note] = event.velocity
    printNoteBuffer()
end
 
-- Remove notes from the buffer and print the remaining ones.
function onRelease(event)
    postEvent(event)
    noteBuffer[event.note] = nil
    printNoteBuffer()
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Using-Slot-Local-Variables.html">Using Slot Local Variables</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="effect-constructor-1"><a class="header" href="#effect-constructor-1">Effect Constructor</a></h1>
<blockquote>
<p><strong>Effect(type)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-133"><a class="header" href="#description-133">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the specified type.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-106"><a class="header" href="#arguments-106">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of effect.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-61"><a class="header" href="#return-values-61">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the specified type.</p>
<h2 id="example-139"><a class="header" href="#example-139">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="endundoblock"><a class="header" href="#endundoblock">endUndoBlock</a></h1>
<blockquote>
<p><strong>endUndoBlock()</strong></p>
</blockquote>
<h2 id="description-134"><a class="header" href="#description-134">Description</a></h2>
<p>Function to terminate an undo block. An undo block begins with <a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>. Any changes between the beginning and the termination of the undo block will be summarized into one undo entry in the undo history.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-140"><a class="header" href="#example-140">Example</a></h2>
<pre><code class="language-lua">-- Simple demonstration of the syntax, see startUndoBlock for a more detailed example.
 
-- Begin the undo block.

startUndoBlock("Undo Block") -- Only this entry will display in the undo history.
 
-- Any changes you want to be summarized in the undo history must be put here.
  
endUndoBlock() -- Terminate the undo block.
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>, <a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a>, <a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="event-constructor-1"><a class="header" href="#event-constructor-1">Event Constructor</a></h1>
<blockquote>
<p><strong>Event(type)</strong></p>
</blockquote>
<h2 id="description-135"><a class="header" href="#description-135">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Event.html">Event</a> object of the specified type.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-107"><a class="header" href="#arguments-107">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of event. See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">enum or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-62"><a class="header" href="#return-values-62">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Event.html">Event</a> object of the specified type.</p>
<blockquote>
<p>❕ The fields of the <a href="HALion-Script/pages/./Event.html">Event</a> object must be set after its creation.</p>
</blockquote>
<h2 id="example-141"><a class="header" href="#example-141">Example</a></h2>
<pre><code class="language-lua">-- Create a new note-on event.

function onNote(event)
    local newEvent = Event(EventType.noteOn)
    newEvent.note = event.note + 12
    newEvent.velocity = event.velocity
    local id = postEvent(newEvent)
    waitForRelease()
    releaseVoice(id)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Event.html">Event</a>, <a href="HALion-Script/pages/./Event-Types.html">Event Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="event-types"><a class="header" href="#event-types">Event Types</a></h1>
<h2 id="description-136"><a class="header" href="#description-136">Description</a></h2>
<p>Enumerator to identify the different types of events. See <a href="HALion-Script/pages/./Event-Constructor.html">Event Constructor</a> and <a href="HALion-Script/pages/./Event.html">Event</a> for details.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="event-types-1"><a class="header" href="#event-types-1">Event Types</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">EventType.noteOn</td><td style="text-align: left">Note-on events</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">EventType.noteOff</td><td style="text-align: left">Note-off events</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">EventType.controller</td><td style="text-align: left">Continuous controller events</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">EventType.noteExpression</td><td style="text-align: left">Note expression events</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">EventType.programChange</td><td style="text-align: left">Only used for Standard MIDI files</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">EventType.noteRetrigger</td><td style="text-align: left">Note-retrigger events <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">EventType.data</td><td style="text-align: left">System exclusive messages <span class="version-text">(Since HALion 7.0)</span></td></tr>
</tbody></table>
</div>
<h2 id="example-142"><a class="header" href="#example-142">Example</a></h2>
<pre><code class="language-lua">-- Print the event type.

function printEventType(event)
    if event.type == EventType.noteOn then
        print("Note-on event received!")
    elseif event.type == EventType.noteOff then
        print("Note-off event received!")
    elseif event.type == EventType.controller then
        print("Controller event received!")
    elseif event.type == EventType.noteExpression then
        print("Note Expression event received!")
    elseif event.type == EventType.noteRetrigger then
        print("Note-retrigger event received!")
    elseif event.type == EventType.data then
        print("System exclusive message received!")
    end
end
 
function onNote(event)
    printEventType(event)
    postEvent(event)
end
  
function onRelease(event)
    printEventType(event)
    postEvent(event)
end
   
function onController(event)
    printEventType(event)
    postEvent(event)
end
   
function onNoteExpression(event)
    printEventType(event)
    -- postEvent(event), not needed for note expression.
end

function onRetrigger(event)
    printEventType(event)
    postEvent(event)
end
 
function onData(event)
    printEventType(event)
    postEvent(event)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Event-Constructor.html">Event Constructor</a>, <a href="HALion-Script/pages/./Event.html">Event</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="fade"><a class="header" href="#fade">fade</a></h1>
<blockquote>
<p><strong>fade(noteID, startValue, targetValue, duration, killVoice)</strong></p>
</blockquote>
<h2 id="description-137"><a class="header" href="#description-137">Description</a></h2>
<p>Function to fade the volume of a specific note. The fade is performed from the start to the target value with the specified duration in milliseconds and affects all voices that are triggered by the note. You can start a fade from the current value of a running fade by setting the start value to <code>nil</code>. You can kill the triggered voices if the target value is reached by setting <code>killVoice</code> to <code>true</code>. The fade is applied in addition to any changes from <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a> and <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>.</p>
<blockquote>
<p>❕ If you start a fade from the current value of a running fade that has not reached its target value yet, the duration of this fade will be shorter. See <a href="HALion-Script/pages/fade.html#example-2">Example 2</a> for details.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-108"><a class="header" href="#arguments-108">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The ID of the note you want to fade.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>startValue</strong></td><td style="text-align: left">The start value of the fade in the range of 0 to 1.0. Set this to <code>nil</code> to start the fade from the current value of a running fade.</td><td style="text-align: left">number or <code>nil</code></td></tr>
<tr><td style="text-align: left"><code>targetValue</code></td><td style="text-align: left">The target value of the fade in the range of 0 to 1.0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">The length of the fade in milliseconds. The target value is set instantaneously if this is set to &lt;= 0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>killVoice</strong></td><td style="text-align: left">Set this to <code>true</code> to kill the note when the target value is reached. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h2 id="example-1-5"><a class="header" href="#example-1-5">Example 1</a></h2>
<pre><code class="language-lua">-- Simple fade out with kill voice.

function onNote(event)
    id = playNote(event.note, 100, 0) -- The fades affect all voices that are triggered by this note.
    fade(id, nil, 0.0, 1000, true)    -- Start to fade out.
end
function onRelease(event)
    -- postEvent(event), not used.
end
</code></pre>
<h2 id="example-2-5"><a class="header" href="#example-2-5">Example 2</a></h2>
<pre><code class="language-lua">-- Play note, then fade out and in and kill the triggered voices.

function onNote(event)
  id = playNote(event.note, 100, 0) -- The fades affect all voices that are triggered by this note.
  fade(id, 1.0, 0.0, 1000)          -- Start to fade out.
  wait(500)                         -- Wait for 500 ms, which is only half of the fade out.
  fade(id, nil, 1.0, 1000, true)    -- The fade in is only 500 ms long, because it has to go only half of the distance.
end
 
function onRelease(event)
    -- postEvent(event), not used.
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeVolumedB.html">changeVolumedB</a>, <a href="HALion-Script/pages/./changePan.html">changePan</a>, <a href="HALion-Script/pages/./changeTune.html">changeTune</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findbusses-3"><a class="header" href="#findbusses-3">findBusses</a></h1>
<blockquote>
<p><strong>findBusses(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-138"><a class="header" href="#description-138">Description</a></h2>
<p>Function to find busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Particular busses can be searched by name or via a filter function. If searching by name, findBusses accepts only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of each bus as argument. Only those <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findBusses. Without a name or filter function, the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of all busses in the searched Element obects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-109"><a class="header" href="#arguments-109">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the busses searched for or a filter function. Only the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-63"><a class="header" href="#return-values-63">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Bus.html">Bus</a> objects of the found busses. Returns an empty table if no busses are found.</p>
<h2 id="example-143"><a class="header" href="#example-143">Example</a></h2>
<pre><code class="language-lua">-- Find all busses and print their names.
busses = this.program:findBusses(true)
 
if busses[1] then
    for i, bus in ipairs(busses) do
        print(bus.name)
    end
else
    print("Could not find any busses!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findchildren-1"><a class="header" href="#findchildren-1">findChildren</a></h1>
<blockquote>
<p><strong>findChildren(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-139"><a class="header" href="#description-139">Description</a></h2>
<p>Function to find children in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Element.html">Element</a> objects of the found children. Particular children can be searched by name or via a filter function. If searching by name, findChildren accepts only the <a href="HALion-Script/pages/./Element.html">Element</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Element.html">Element</a> object of each child as argument. Only those <a href="HALion-Script/pages/./Element.html">Element</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findChildren. Without a name or filter function, the <a href="HALion-Script/pages/./Element.html">Element</a> objects of all children in the searched <a href="HALion-Script/pages/./Element.html">Element</a> object will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-110"><a class="header" href="#arguments-110">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the children searched for or a filter function. Only the <a href="HALion-Script/pages/./Element.html">Element</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-64"><a class="header" href="#return-values-64">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Element.html">Element</a> objects of the found children. Returns an empty table if no children are found.</p>
<h2 id="example-144"><a class="header" href="#example-144">Example</a></h2>
<pre><code class="language-lua">-- Find the MIDI module with the name "Lua Script" and print its type.

scriptModules = this.parent:findChildren(false, "Lua Script")
 
if scriptModules[1] then
    print(scriptModules[1].type)
end
 
-- Find all children and print their names.
children = this.program:findChildren(true)
 
if children[1] then
    for i, child in ipairs(children) do
        print(child.name)
    end
else
    print("Could not find any children!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./Element.html">Element</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findeffects-4"><a class="header" href="#findeffects-4">findEffects</a></h1>
<blockquote>
<p><strong>findEffects(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-140"><a class="header" href="#description-140">Description</a></h2>
<p>Function to find effects in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. To specifiy a bus to be searched in, use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a>. If recursive is set to <code>true</code>, subelements will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Particular effects can be searched by name or via a filter function. If searching by name, <a href="HALion-Script/pages/./findEffects.html">findEffects</a> accepts only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of each effect as argument. Only those <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findEffects.html">findEffects</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of all effects in the searched <a href="HALion-Script/pages/./Element.html">Element</a> objects will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-111"><a class="header" href="#arguments-111">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the specified <a href="HALion-Script/pages/./Element.html">Element</a> object will be searched. If this is set to <code>true</code>, subelements will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the effects searched for or a filter function. Only the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-65"><a class="header" href="#return-values-65">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Effect.html">Effect</a> objects of the found effects. Returns an empty table if no effects are found.</p>
<h2 id="example-145"><a class="header" href="#example-145">Example</a></h2>
<pre><code class="language-lua">-- Find all effects and print their names.
effects = this.program:findEffects(true)
 
if effects[1] then
    for i, effect in ipairs(effects) do
        print(effect.name)
    end
else
    print("Could not find any effects!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findlayers-1"><a class="header" href="#findlayers-1">findLayers</a></h1>
<blockquote>
<p><strong>findLayers(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-141"><a class="header" href="#description-141">Description</a></h2>
<p>Function to find layers in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of the found layers. Particular layers can be searched by name or via a filter function. If searching by name,<a href="HALion-Script/pages/./findLayers.html"> findLayers</a> accepts only the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of each layer as argument. Only those <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by <a href="HALion-Script/pages/./findLayers.html">findLayers</a>. Without a name or filter function, the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of all layers in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-112"><a class="header" href="#arguments-112">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the layers searched for or a filter function. Only the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-66"><a class="header" href="#return-values-66">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Layer.html">Layer</a> objects of the found layers. Returns an empty table if no layers are found.</p>
<h2 id="example-146"><a class="header" href="#example-146">Example</a></h2>
<pre><code class="language-lua">-- Find all layers and print their names.

layers = this.program:findLayers(true)
 
if layers[1] then
    for i, layer in ipairs(layers) do
        print(layer.name)
    end
else
    print("Could not find any layers!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findmidimodules-1"><a class="header" href="#findmidimodules-1">findMidiModules</a></h1>
<blockquote>
<p><strong>findMidiModules(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-142"><a class="header" href="#description-142">Description</a></h2>
<p>Function to find MIDI modules in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of the found MIDI modules. Particular MIDI modules can be searched by name or via a filter function. If searching by name, findMidiModules accepts only the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of each MIDI module as argument. Only those <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findMidiModules. Without a name or filter function, the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of all MIDI modules in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-113"><a class="header" href="#arguments-113">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left">recursive</td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the MIDI modules searched for or a filter function. Only the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-67"><a class="header" href="#return-values-67">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> objects of the found MIDI modules. Returns an empty table if no MIDI modules are found.</p>
<h2 id="example-147"><a class="header" href="#example-147">Example</a></h2>
<pre><code class="language-lua">-- Find all MIDI modules and print their names.

modules = this.program:findMidiModules(true)
 
if modules[1] then
    for i, module in ipairs(modules) do
        print(module.name)
    end
else
    print("Could not find any MIDI modules!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findslots-1"><a class="header" href="#findslots-1">findSlots</a></h1>
<blockquote>
<p><strong>findSlots(nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-143"><a class="header" href="#description-143">Description</a></h2>
<p>Function to find the slots of the plug-in instance. Before calling this function you must access the Instance object with <code>this.program.instance</code>. The function returns an array with the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of the found slots. Particular slots can be searched by name or via a filter function. If searching by name, findSlots accepts only the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of each slot as argument. Only those <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findSlots. Without a name or filter function, the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of all slots in the instance will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-114"><a class="header" href="#arguments-114">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the slots searched for or a filter function. Only the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-68"><a class="header" href="#return-values-68">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Slot.html">Slot</a> objects of the found slots. Returns an empty table if no slots are found.</p>
<h2 id="example-148"><a class="header" href="#example-148">Example</a></h2>
<pre><code class="language-lua">-- Print the names of all slots.

slots = this.program.instance:findSlots()
  
for i, slot in ipairs(slots) do
        print(slot.name)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findZones.html">findZones</a>, <a href="HALion-Script/pages/./Slot.html">Slot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="findzones-1"><a class="header" href="#findzones-1">findZones</a></h1>
<blockquote>
<p><strong>findZones(recursive, nameOrFilterFunction)</strong></p>
</blockquote>
<h2 id="description-144"><a class="header" href="#description-144">Description</a></h2>
<p>Function to find zones in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. If recursive is set to <code>true</code>, sublayers will also be searched. The function returns an array with the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of the found zones. Particular zones can be searched by name or via a filter function. If searching by name, findZones accepts only the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that match the specified name. The filter function uses the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of each zone as argument. Only those <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that return <code>true</code> for the search criteria defined in the filter function will be accepted by findZones. Without a name or filter function, the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of all zones in the searched layers will be returned.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-115"><a class="header" href="#arguments-115">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>recursive</strong></td><td style="text-align: left">If this is set to <code>false</code>, only the current layer will be searched. If this is set to <code>true</code>, sublayers will also be searched. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>nameOrFilterFunction</strong></td><td style="text-align: left">The name of the zones searched for or a filter function. Only the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects that match the name or return <code>true</code> for the search criteria of the filter function will be accepted. Set this to <code>nil</code> to deactivate any name filter or search criteria.</td><td style="text-align: left">string or function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-69"><a class="header" href="#return-values-69">Return Values</a></h2>
<p>Returns an array with the <a href="HALion-Script/pages/./Zone.html">Zone</a> objects of the found zones. Returns an empty table if no zones are found.</p>
<h2 id="example-149"><a class="header" href="#example-149">Example</a></h2>
<pre><code class="language-lua">-- Find all zones and print their names.

zones = this.program:findZones(true)
 
if zones[1] then
    for i, zone in ipairs(zones) do
        print(zone.name)
    end
else
    print("Could not find any zones!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./findBusses.html">findBusses</a>, <a href="HALion-Script/pages/./findChildren.html">findChildren</a>, <a href="HALion-Script/pages/./findEffects.html">findEffects</a>, <a href="HALion-Script/pages/./findLayers.html">findLayers</a>, <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a>, <a href="HALion-Script/pages/./findSlots.html">findSlots</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="forgetautomation"><a class="header" href="#forgetautomation">forgetAutomation</a></h1>
<blockquote>
<p><strong>forgetAutomation(element, nameOrID)</strong></p>
</blockquote>
<h2 id="description-145"><a class="header" href="#description-145">Description</a></h2>
<p>Function to remove the specified parameter from its automation parameter.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-116"><a class="header" href="#arguments-116">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>element</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the parameter to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-150"><a class="header" href="#example-150">Example</a></h2>
<pre><code class="language-lua">-- Forget the automation assignments of all parameters of all zones.

zones = this.program:findZones(true)

paramDefs = zones[1].parameterDefinitions

for i, zone in ipairs(zones) do
    for j, paramDef in ipairs(paramDefs) do
        forgetAutomation( zone, paramDef.id)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./assignAutomation.html">assignAutomation</a>, <a href="HALion-Script/pages/./getAutomationIndex.html">getAutomationIndex</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getallocatedmemory"><a class="header" href="#getallocatedmemory">getAllocatedMemory</a></h1>
<blockquote>
<p><strong>getAllocatedMemory()</strong></p>
</blockquote>
<h2 id="description-146"><a class="header" href="#description-146">Description</a></h2>
<p>Function to obtain the number of bytes which have been allocated to the script in the memory.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-70"><a class="header" href="#return-values-70">Return Values</a></h2>
<p>Returns the number of bytes which have been allocated to the script in the memory.</p>
<h2 id="example-151"><a class="header" href="#example-151">Example</a></h2>
<pre><code class="language-lua">-- Print the number of bytes which have been allocated to the script in the memory.

function onNote(event)
    print(getAllocatedMemory())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getUsedMemory.html">getUsedMemory</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getautomationindex"><a class="header" href="#getautomationindex">getAutomationIndex</a></h1>
<blockquote>
<p><strong>getAutomationIndex(element, nameOrID)</strong></p>
</blockquote>
<h2 id="description-147"><a class="header" href="#description-147">Description</a></h2>
<p>Function to retrieve the index of the automation parameter to which the specified parameter is assigned.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-117"><a class="header" href="#arguments-117">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>element</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object of the parameter to be connected.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The ID of the parameter.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-71"><a class="header" href="#return-values-71">Return Values</a></h2>
<p>Returns the the index of the automation parameter to which the specified parameter is assigned, or <code>nil</code> if the specified parameter is not assigned.</p>
<h2 id="example-152"><a class="header" href="#example-152">Example</a></h2>
<pre><code class="language-lua">-- Assign pitch octave, coarse and fine to the next free automation.

zones = this.program:findZones(true)

parameters = { "Pitch.Octave", "Pitch.Coarse", "Pitch.Fine" }

for i, parameter in ipairs(parameters) do
    local automationIndex
    for j, zone in ipairs(zones) do
        assignAutomation(zone, parameter, automationIndex)
        automationIndex = getAutomationIndex(zone, parameter)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./assignAutomation.html">assignAutomation</a>, <a href="HALion-Script/pages/./forgetAutomation.html">forgetAutomation</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getbarduration"><a class="header" href="#getbarduration">getBarDuration</a></h1>
<blockquote>
<p><strong>getBarDuration()</strong></p>
</blockquote>
<h2 id="description-148"><a class="header" href="#description-148">Description</a></h2>
<p>Function to obtain the duration of one bar in milliseconds.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-72"><a class="header" href="#return-values-72">Return Values</a></h2>
<p>Returns the duration of one bar in milliseconds based on the current time signature and tempo. If no time signature or tempo are available, this function returns the value -1.</p>
<h2 id="example-153"><a class="header" href="#example-153">Example</a></h2>
<pre><code class="language-lua">-- Limit the note length to one bar.

function onNote(event)
  playNote(event.note, event.velocity, getBarDuration())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBeatDuration.html">getBeatDuration</a>, <a href="HALion-Script/pages/./getNoteDuration.html">getNoteDuration</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getbeatduration"><a class="header" href="#getbeatduration">getBeatDuration</a></h1>
<blockquote>
<p><strong>getBeatDuration()</strong></p>
</blockquote>
<h2 id="description-149"><a class="header" href="#description-149">Description</a></h2>
<p>Function to obtain the duration of one beat in milliseconds.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-73"><a class="header" href="#return-values-73">Return Values</a></h2>
<p>Returns the duration of one beat in milliseconds. The duration of one beat equals the length of a quarter note based on the current tempo. If no tempo information is available, this function returns the value -1.</p>
<h2 id="example-154"><a class="header" href="#example-154">Example</a></h2>
<pre><code class="language-lua">-- Play notes with a fixed length of one beat.

function onNote(event)
  playNote(event.note, event.velocity, getBeatDuration())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBarDuration.html">getBarDuration</a>, <a href="HALion-Script/pages/./getNoteDuration.html">getNoteDuration</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getbeattime"><a class="header" href="#getbeattime">getBeatTime</a></h1>
<blockquote>
<p><strong>getBeatTime()</strong></p>
</blockquote>
<h2 id="description-150"><a class="header" href="#description-150">Description</a></h2>
<p>Function to obtain the current song position in number of beats (quarter notes).</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-74"><a class="header" href="#return-values-74">Return Values</a></h2>
<p>When the host is in playback, the function returns a decimal with the number of beats (quarter notes) since the start of the song. The start of the song equals 0 beats. The function returns -1 if the host is not in playback.</p>
<h2 id="example-155"><a class="header" href="#example-155">Example</a></h2>
<pre><code class="language-lua">-- Print the song position in number of beats.

function onNote(event)
    posInSong = getBeatTime()
    if (posInSong ~= -1) then
        print(string.format("%.3f beats", posInSong))
    else
        print("Playback is stopped.")
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getMsTime.html">getMsTime</a>, <a href="HALion-Script/pages/./getBeatTimeInBar.html">getBeatTimeInBar</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getbeattimeinbar"><a class="header" href="#getbeattimeinbar">getBeatTimeInBar</a></h1>
<blockquote>
<p><strong>getBeatTimeInBar()</strong></p>
</blockquote>
<h2 id="description-151"><a class="header" href="#description-151">Description</a></h2>
<p>Function to obtain the position in the current bar in number of beats (quarter notes).</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-75"><a class="header" href="#return-values-75">Return Values</a></h2>
<p>When the host is in playback, the function returns a decimal with the number of beats (quarter notes) since the start of the current bar. The start of the bar equals 0 beats. The function returns -1 if the host is not in playback.</p>
<h2 id="example-156"><a class="header" href="#example-156">Example</a></h2>
<pre><code class="language-lua">-- Print the position in the current bar.

function onNote(event)
    posInBar = getBeatTimeInBar()
    if (posInBar ~= -1) then
        print(string.format("%.3f beats", posInBar))
    else
        print("Playback is stopped.")
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBeatTime.html">getBeatTime</a>, <a href="HALion-Script/pages/./getMsTime.html">getMsTime</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getbus-3"><a class="header" href="#getbus-3">getBus</a></h1>
<blockquote>
<p><strong>getBus(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-152"><a class="header" href="#description-152">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of a bus in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular bus can be searched by name or position. The position is the number indexing the busses in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several busses share the same name, only the first match will be returned. If no argument is set, the function returns the first bus it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-118"><a class="header" href="#arguments-118">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the bus. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-76"><a class="header" href="#return-values-76">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the found bus. Returns <code>nil</code> if no bus is found.</p>
<h2 id="example-157"><a class="header" href="#example-157">Example</a></h2>
<pre><code class="language-lua">-- Locate the first bus in the program and print its name.

bus = this.program:getBus()
 
if bus then
    print(bus.name)
else
    print("Could not find a bus!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getcc"><a class="header" href="#getcc">getCC</a></h1>
<blockquote>
<p><strong>getCC(controller)</strong></p>
</blockquote>
<h2 id="description-153"><a class="header" href="#description-153">Description</a></h2>
<p>Function to read the current value of a continuous controller.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-119"><a class="header" href="#arguments-119">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>controller</strong></td><td style="text-align: left">The controller number. See <a href="HALion-Script/pages/./Controller-Numbers.html">Controller Numbers</a> for a description of the different controllers.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-77"><a class="header" href="#return-values-77">Return Values</a></h2>
<p>Returns the current value of the continuous controller specified by the argument.</p>
<h2 id="example-158"><a class="header" href="#example-158">Example</a></h2>
<pre><code class="language-lua">-- Replace the note-on velocity with the value of the modulation wheel.

function onNote(event)
    playNote(event.note, getCC(1))
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getchild-1"><a class="header" href="#getchild-1">getChild</a></h1>
<blockquote>
<p><strong>getChild(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-154"><a class="header" href="#description-154">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Element.html">Element</a> object of a child in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. For example, <code>this.parent</code> specifies the parent layer of the script module as the <a href="HALion-Script/pages/./Element.html">Element</a> object to be searched in. This function does not search in subelements. A particular child can be searched by name or position. The position is the number indexing the children in the specified <a href="HALion-Script/pages/./Element.html">Element</a> object. If several children share the same name, only the first match will be returned. If no argument is set, the function returns the first child it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-120"><a class="header" href="#arguments-120">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the child. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-78"><a class="header" href="#return-values-78">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Element.html">Element</a> object of the found child. Returns <code>nil</code> if no child is found.</p>
<h2 id="example-159"><a class="header" href="#example-159">Example</a></h2>
<pre><code class="language-lua">-- Locate the first child in the program and print its name.

child = this.program:getChild()
 
if child then
    print(child.name)
else
    print("Could not find a child!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./Element.html">Element</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getcontext"><a class="header" href="#getcontext">getContext</a></h1>
<blockquote>
<p><strong>getContext()</strong></p>
</blockquote>
<h2 id="description-155"><a class="header" href="#description-155">Description</a></h2>
<p>Function to obtain the name of the context.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="return-values-79"><a class="header" href="#return-values-79">Return Values</a></h2>
<p>Returns a string with the name of the context in which the function is called.</p>
<h2 id="example-160"><a class="header" href="#example-160">Example</a></h2>
<pre><code class="language-lua">-- Print the context.

print("Global statement: "..getContext())
 
function onLoadIntoSlot()
    print("onLoadIntoSlot: "..getContext())
end
 
function onInit()
    print("onInit: "..getContext())
end
</code></pre>
<p><strong>Output Messages:</strong></p>
<pre><code class="language-lua">Global statement: Controller
onLoadIntoSlot: Controller
onInit: Processor
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a>, <a href="HALion-Script/pages/./onInit.html">onInit</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getdecomposeoutputpath"><a class="header" href="#getdecomposeoutputpath">getDecomposeOutputPath</a></h1>
<blockquote>
<p><strong>getDecomposeOutputPath(filePath)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-156"><a class="header" href="#description-156">Description</a></h2>
<p>This function evaluates the decompose settings of the plug-in and the file path of the original sample and returns the file path to the folder in which the decomposed samples are to be be saved. You can use this function to alter the <code>outputPath</code> argument of the <a href="HALion-Script/pages/./decompose.html">decompose</a> function, e.g., to write the decomposed samples in a subfolder. The complete record of the decompose settings of the plug-in can be obtained with <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-121"><a class="header" href="#arguments-121">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>filePath</strong></td><td style="text-align: left">The file path of the original sample.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-80"><a class="header" href="#return-values-80">Return Values</a></h2>
<p>Returns the file path to the folder in which the decomposed samples are to be be saved.</p>
<h2 id="example-161"><a class="header" href="#example-161">Example</a></h2>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./decompose.html">decompose</a>, <a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>, <a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>, <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>, <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getdecomposeprogress-1"><a class="header" href="#getdecomposeprogress-1">getDecomposeProgress</a></h1>
<blockquote>
<p><strong>getDecomposeProgress()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-157"><a class="header" href="#description-157">Description</a></h2>
<p>Function to monitor the progress of the <a href="HALion-Script/pages/./decompose.html">decompose</a> function for an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. To get the progress of a specific audio file that is being decomposed, the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the getDecomposeProgress function must match the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object of the corresponding <a href="HALion-Script/pages/./decompose.html">decompose</a> function. The function returns two values: the progress as a value between 0 and 1 and an error message if the decompose did not succeed.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-81"><a class="header" href="#return-values-81">Return Values</a></h2>
<p>Returns the progress as a float value between 0 and 1, and an error message if the decompose did not succeed. The error message returns <code>nil</code> if the decompose was successful.</p>
<h2 id="example-162"><a class="header" href="#example-162">Example</a></h2>
<pre><code class="language-lua">outputModes = { "Tonal", "Noise", "All", "Mix", }
 
defineParameter { name = "Decompose", default = false, onChanged = function() if Decompose then onDecompose() end end }
defineParameter { name = "Cancel", default = false}
defineParameter { name = "Sensitivity", default = -24, min = -96, max = 0, increment = 0.1 }
defineParameter { name = "Cutoff", default = 20000, min = 20, max = 20000, increment = 1 }
defineParameter { name = "Duration", default = 80, min = 0, max = 100, increment = 0.1 }
defineParameter { name = "TonalLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "NoiseLevel", default = 0, min = -96, max = 12, increment = 0.1 }
defineParameter { name = "Start", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "Length", default = 0, min = 0, max = 1000, increment = 1 }
defineParameter { name = "OutputMode", default = DecomposeOutputMode.all, strings = outputModes }
defineParameter { name = "OutputPath", default = "" }
defineParameter { name = "Subfolder", default = "" }
 
function onDecomposeFinished(audioFile, file1, file2)
    print("Progress: 100%")
    print(audioFile.fileName, audioFile.length)
    if file1 then
        local afile1 = AudioFile.open(file1)
        print(afile1.fileName, afile1.length)
    end
    if file2 then
        local afile2 = AudioFile.open(file2)
        print(afile2.fileName, afile2.length)
    end
end
 
function onDecompose()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        local afile = AudioFile.open(samplePath)
        local startSamples = Start * afile.rate/1000
        local lengthSamples = Length * afile.rate/1000
        if not Subfolder == "" then
            if OutputPath == "" then
                OutputPath = getDecomposeOutputPath(samplePath)..Subfolder
            else
                OutputPath = OutputPath..Subfolder
            end
        end
        print("Decompose: "..samplePath)
        afile:decompose{
            callback = onDecomposeFinished,
            start = startSamples,
            length = lengthSamples,
            sensitivity = Sensitivity,
            cutoff = Cutoff,
            duration = Duration,
            tonalLevel = TonalLevel,
            noiseLevel = NoiseLevel,
            outputMode = OutputMode,
            outputPath = OutputPath,
        }
        while afile:getDecomposeProgress() &lt; 1 do
            if Cancel then
                afile:cancelDecompose()
                break
            end
            local progress, errorMessage = afile:getDecomposeProgress()
            if errorMessage then
                print(errorMessage)
                break
            end
            local progressPercent = 100 * progress
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Decompose Canceled!")
            break
        end
    end
    print("Decompose finished.")
    Decompose = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./decompose.html">decompose</a>, <a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>, <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>, <a href="HALion-Script/pages/./getDecomposeSettings.html">getDecomposeSettings</a>, <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getdecomposesettings"><a class="header" href="#getdecomposesettings">getDecomposeSettings</a></h1>
<blockquote>
<p><strong>getDecomposeSettings()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-158"><a class="header" href="#description-158">Description</a></h2>
<p>Function to obtain the decompose settings of the plug-in. Custom samples originate from disk and library samples originate from VST Sound containers. Depending on the decompose settings specified by the user and on the origin of the samples, decomposed samples are written to different file paths. By evaluating the returned settings, your script can respond to the settings specified by the user.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-12"><a class="header" href="#fields-12">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.OriginalFolder</strong></td><td style="text-align: left">If this is set to <code>true</code>, the decomposed samples from disk will be saved in the same folder as the original sample. This setting affects only samples that are not part of a VST Sound container.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.ProjectFolder</strong></td><td style="text-align: left">The file path to the project folder of your Steinberg DAW. The decomposed samples from disk or from VST Sound containers will be saved to this project folder if the FileProjectFolderCustom and the FileProjectFolderLibrary settings are set to <code>true</code>.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.FileFolderNameCustom</strong></td><td style="text-align: left">The file path to the folder in which the decomposed samples from disk will be saved. This setting applies only if FileProjectFolderCustom is set to <code>false</code>.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.FileProjectFolderCustom</strong></td><td style="text-align: left">If this is set to <code>true</code>, the decomposed samples from disk will be saved in the project folder of your Steinberg DAW. If this is set to <code>false</code>, the file path of FileFolderNameCustom will be used instead.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.FileProjectSubFolderCustom</strong></td><td style="text-align: left">This setting applies only if FileProjectFolderCustom is set to <code>true</code>.The decomposed samples from disk will be saved in the specified subfolder in the project folder of your Steinberg DAW. If this is empty, the decomposed samples will be saved directly to the project folder.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.FileFolderNameLibrary</strong></td><td style="text-align: left">The file path to the folder in which the decomposed samples from VST Sound containers will be saved. This setting applies only if FileProjectFolderLibrary is set to <code>false</code>.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.FileProjectFolderLibrary</strong></td><td style="text-align: left">If this is set to <code>true</code>, the decomposed samples from VST Sound containers will be saved in the project folder of your Steinberg DAW. If this is set to <code>false</code>, the file path of FileFolderNameLibrary will be used instead.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>.FileProjectSubFolderLibrary</strong></td><td style="text-align: left">This setting applies only if FileProjectFolderLibrary is set to <code>true</code>.The decomposed samples from VST Sound containers will be saved in the specified subfolder in the project folder of your Steinberg DAW. If this is empty, the decomposed samples will be saved directly to the project folder.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.SubFolder</strong></td><td style="text-align: left">If this is set to <code>true</code>, the decomposed samples will be saved to Tonal and Noise subfolders.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h2 id="return-values-82"><a class="header" href="#return-values-82">Return Values</a></h2>
<p>Returns a table that lists the decompose settings.</p>
<pre><code class="language-lua">settings = getDecomposeSettings()
for setting, value in pairs(settings) do
    print(setting, value)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./decompose.html">decompose</a>, <a href="HALion-Script/pages/./cancelDecompose.html">cancelDecompose</a>, <a href="HALion-Script/pages/./getDecomposeProgress.html">getDecomposeProgress</a>, <a href="HALion-Script/pages/./Decompose-Output-Modes.html">Decompose Output Modes</a>, <a href="HALion-Script/pages/./getDecomposeOutputPath.html">getDecomposeOutputPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getdisplaystring-1"><a class="header" href="#getdisplaystring-1">getDisplayString</a></h1>
<blockquote>
<p><strong>getDisplayString(value)</strong></p>
</blockquote>
<h2 id="description-159"><a class="header" href="#description-159">Description</a></h2>
<p>The internal precision of parameter values is usually higher than the precision of the corresponding display string on the user interface. You can use this function to obtain the display string of the specified parameter and value. You specify the parameter with <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a>.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-122"><a class="header" href="#arguments-122">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value for the display string.</td><td style="text-align: left">number or string</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The data type of the value for getDisplayString must match the data type of the corresponding parameter value.</p>
</blockquote>
<h2 id="return-values-83"><a class="header" href="#return-values-83">Return Values</a></h2>
<p>Returns the display string of the specified parameter and value.</p>
<h2 id="example-163"><a class="header" href="#example-163">Example</a></h2>
<pre><code class="language-lua">-- Get the display string of a value.

value = -2.471
print("value = "..value)
print("Display String = "..this.program:getParameterDefinition("Level"):getDisplayString(-2.471))
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getParameterDefinition.html">getParameterDefinition</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="geteffect-1"><a class="header" href="#geteffect-1">getEffect</a></h1>
<blockquote>
<p><strong>getEffect(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-160"><a class="header" href="#description-160">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of an effect from the specified bus. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to specify the bus. A particular effect can be searched by name or position. The position is the number indexing the effects in the specified bus. If several effects share the same name, only the first match will be returned. If no argument is set, the function returns the first effect that it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-123"><a class="header" href="#arguments-123">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the effect. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-84"><a class="header" href="#return-values-84">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Effect.html">Effect</a> object of the found effect. Returns <code>nil</code> if no bus is found.</p>
<h2 id="example-164"><a class="header" href="#example-164">Example</a></h2>
<pre><code class="language-lua">-- Locate the first bus in the program.

bus = this.program:getBus()

if bus then
    -- Locate the first effect of the bus and print its name.
    effect = bus:getEffect()
    if effect then
        print(effect.name)
    else
        print("Could not find an effect!")
    end
else
    print("Could not find a bus!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getelement"><a class="header" href="#getelement">getElement</a></h1>
<blockquote>
<p><strong>getElement()</strong></p>
</blockquote>
<h2 id="description-161"><a class="header" href="#description-161">Description</a></h2>
<p>Function to obtain the <a href="HALion-Script/pages/./Element.html">Element</a> object of an element that has a macro page. If you call this function in the <a href="HALion-Script/pages/./Working-with-UI-Scripts.html">UI script</a> of a macro page, the <a href="HALion-Script/pages/./Element.html">Element</a> object of the element to which the macro page is attached will be returned. Depending on the element, the returned object can be of the type program, layer, or MIDI module, for example.</p>
<blockquote>
<p>❕ This function can only be called in an <a href="HALion-Script/pages/./Working-with-UI-Scripts.html">UI script</a>.</p>
</blockquote>
<p><strong>Available in:</strong> UI.</p>
<h2 id="return-values-85"><a class="header" href="#return-values-85">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Element.html">Element</a> object of the element to which the macro page is attached.</p>
<h2 id="example-165"><a class="header" href="#example-165">Example</a></h2>
<pre><code class="language-lua">-- Must be executed as UI script!
-- Print the name and type of the element that has the macro page attached.

element = getElement()
print(element.name, element.type)

-- Print the name and type of the parent element.

if element.parent then
    print(element.parent.name, element.parent.type)
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getfreevoices"><a class="header" href="#getfreevoices">getFreeVoices</a></h1>
<blockquote>
<p><strong>getFreeVoices()</strong></p>
</blockquote>
<h2 id="description-162"><a class="header" href="#description-162">Description</a></h2>
<p>Function to retrieve the number of free voices of the plug-in instance.</p>
<blockquote>
<p>❕ If the initiation of a zone and the call of getFreeVoices happen in the same audio block, the voice count which is returned might not be up-to-date. To prevent this, wait for the next audio block before calling this function.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-86"><a class="header" href="#return-values-86">Return Values</a></h2>
<p>Returns the number of free voices of the plug-in instance.</p>
<h2 id="example-166"><a class="header" href="#example-166">Example</a></h2>
<pre><code class="language-lua">-- Print the number of free voices of the plug-in.

function printFreeVoices()
    wait(20)  -- Wait for 20 ms to avoid calling getFreeVoices in the same audio block.
    print("Number of free voices: "..getFreeVoices())
end
 
function onNote(event)
    postEvent(event)
    spawn(printFreeVoices)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getVoices.html">getVoices</a>, <a href="HALion-Script/pages/./getUsedVoices.html">getUsedVoices</a>, <a href="HALion-Script/pages/./getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="gethostname"><a class="header" href="#gethostname">getHostName</a></h1>
<blockquote>
<p><strong>getHostName()</strong></p>
</blockquote>
<h2 id="description-163"><a class="header" href="#description-163">Description</a></h2>
<p>Function to retrieve the name of the host software.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-87"><a class="header" href="#return-values-87">Return Values</a></h2>
<p>Returns a string with the name of the host software.</p>
<h2 id="example-167"><a class="header" href="#example-167">Example</a></h2>
<pre><code class="language-lua">-- Print the name of the host software.

function onInit()
    print(getHostName())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getHostVersion.html">getHostVersion</a>, <a href="HALion-Script/pages/./getProductName.html">getProductName</a>, <a href="HALion-Script/pages/./getProductVersion.html">getProductVersion</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="gethostversion"><a class="header" href="#gethostversion">getHostVersion</a></h1>
<blockquote>
<p><strong>getHostVersion()</strong></p>
</blockquote>
<h2 id="description-164"><a class="header" href="#description-164">Description</a></h2>
<p>Function to retrieve the version of the host software.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-88"><a class="header" href="#return-values-88">Return Values</a></h2>
<p>Returns a string with the version of the host software.</p>
<h2 id="example-168"><a class="header" href="#example-168">Example</a></h2>
<pre><code class="language-lua">-- Print the version of the host software.

function onInit()
    print(getHostVersion())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getHostName.html">getHostName</a>, <a href="HALion-Script/pages/./getProductName.html">getProductName</a>, <a href="HALion-Script/pages/./getProductVersion.html">getProductVersion</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getkeyproperties"><a class="header" href="#getkeyproperties">getKeyProperties</a></h1>
<blockquote>
<p><strong>getKeyProperties()</strong></p>
</blockquote>
<h2 id="description-165"><a class="header" href="#description-165">Description</a></h2>
<p>Function to access the internal key properties array. This array manages the colors and tooltips of the keys on the plug-in keyboard and the instrument names that will be shown in Cubase's Drum Editor when you use <strong>Create Drum Map from Instrument</strong> in the Inspector. This function does not retrieve colors or tooltips from other MIDI modules like MegaTrig, for example. Therefore, the first time you call getKeySwitches, the returned array will be empty. You must initialize the array by specifying each key property using a table with a set of predefined fields. The valid fields are listed below. The index of the array must be in the range from 0 to 127. Each index addresses the properties of the key with the corresponding note number. You change the properites by creating a table for the desired index/key and then you assign values to the fields <code>.color</code>, <code>.tooltip</code> or <code>.drummap</code>. Making changes to the properties of a key will override any properties the key might have from other MIDI modules, e.g., the tooltip and coloring from a key switch of a MegaTrig module, even if the MIDI module is located earlier in the processing chain, i.e., higher in the hierarchy of the Program Tree. Any key properties from other script modules that are later in the processing chain will also be overridden. The key properties from the first script module in the Program Tree always have priority.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-13"><a class="header" href="#fields-13">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.color</strong></td><td style="text-align: left">The color of the key on the plug-in keyboard. There are twenty-four predefined colors. You set them with a number in the range from 1 to 24.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tooltip</strong></td><td style="text-align: left">The string for the tooltip of the key on the plug-in keyboard.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.drummap</strong></td><td style="text-align: left">The string that will be shown as instrument name in Cubase's Drum Editor when you use <strong>Create Drum Map from Instrument</strong> in the Inspector.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ To clear a property, set the respective field to <code>nil</code>. Setting <code>.color</code> or <code>.tooltip</code> to nil will use the next valid key properties, i.e., the color and toolip from another MIDI or script module. If no properties from other modules are available, no color and tooltip will be used.</p>
</blockquote>
<h2 id="return-values-89"><a class="header" href="#return-values-89">Return Values</a></h2>
<p>Returns the reference to the internal key properties array.</p>
<h2 id="example-1-6"><a class="header" href="#example-1-6">Example 1</a></h2>
<pre><code class="language-lua">-- Set and clear colors on the keyboard.
 
-- Initialize variabes.
local keys = getKeyProperties()
local keyColor = 1
local noteNumber = 36 -- C1
local blackKeys = { [1] = true, [3] = true, [6] = true, [8] = true, [10] = true }
 
-- Assign all 24 colors to the white keys of the keyboard starting from C1.
while keyColor &lt;= 24 do
    -- get step in octave
    local step = noteNumber % 12
    -- use only white keys
    if not blackKeys[step] then
        keys[noteNumber] = { color = keyColor }
        keyColor = keyColor + 1
    end
    noteNumber = noteNumber + 1
end
 
-- Clear the color of the played key.
function onNote(event)
    postEvent(event)
    if keys[event.note] then
        keys[event.note].color = nil
    end
end
</code></pre>
<h2 id="example-2-6"><a class="header" href="#example-2-6">Example 2</a></h2>
<pre><code class="language-lua"> -- Set the GM drum map as tooltip and drummap name.

local GMStandardDrumMap = { "Bass Drum 2",     "Bass Drum 1",     "Side Stick",
                            "Snare Drum 1",    "Hand Clap",       "Snare Drum 2",
                            "Low Tom 2",       "Closed Hi-hat",   "Low Tom 1",
                            "Pedal Hi-hat",    "Mid Tom 2",       "Open Hi-hat",
                            "Mid Tom 1",       "High Tom 2",      "Crash Cymbal 1",
                            "High Tom 1",      "Ride Cymbal 1",   "Chinese Cymbal",
                            "Ride Bell",       "Tambourine",      "Splash Cymbal",
                            "Cowbell",         "Crash Cymbal 2",  "Vibra Slap",
                            "Ride Cymbal 2",   "High Bongo",      "Low Bongo",
                            "Mute High Conga", "Open High Conga", "Low Conga",
                            "High Timbale",    "Low Timbale",     "High Agogo",
                            "Low Agogo",       "Cabasa",          "Maracas",
                            "Short Whistle",   "Long Whistle",    "Short Guiro",
                            "Long Guiro",      "Claves",          "High Wood Block",
                            "Low Wood Block",  "Mute Cuica",      "Open Cuica",
                            "Mute Triangle",   "Open Triangle",
                          }
 
-- Initialize variables.
local keys = getKeyProperties()
local noteNumber = 35 -- Note number of Bass Drum 2.
 
-- Set the GM drum map.
for i, drumName in ipairs(GMStandardDrumMap) do
    keys[noteNumber + (i - 1)] = { tooltip = drumName, drummap = drumName }
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getKeySwitches.html">getKeySwitches</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getkeyswitches"><a class="header" href="#getkeyswitches">getKeySwitches</a></h1>
<blockquote>
<p><strong>getKeySwitches()</strong></p>
</blockquote>
<h2 id="description-166"><a class="header" href="#description-166">Description</a></h2>
<p>Function to access the internal key switch array. This array manages the display of the key switches on the plug-in keyboard and the information that is handed over to Cubase's Expression Map when you use <strong>Import Key Switches</strong> in the Inspector. This function does not retrieve key switches from other MIDI modules like MegaTrig, for example. The first time you call getKeySwitches, the returned array will be empty. You must initialize the array by specifying each key switch using a table with a set of predefined fields. The valid fields are listed below. The key switches you specify will be displayed on the plug-in keyboard with predefined colors and the information from the <code>.name</code> field displayed as tooltip. You can use <a href="HALion-Script/pages/./getKeyProperties.html">getKeyProperties</a> to override the predefined colors. Key colors retrieved from other MIDI modules will be overridden by the key switches specified in the script. If key switches from different script modules are assigned to the same keys, the key switches of the script module that comes earlier in the processing chain will override the key switches of script modules located behind them in the processing chain. The specified key switches can be imported as an Expression Map in Cubase by using <strong>Import Key Switches</strong> in the Inspector.</p>
<blockquote>
<p>❕ Specifying a key switch by using getKeySwitches must not be confused with implementing the playing logic for the key switches. The playing logic must be implemented separately in the MIDI processing part of your script.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-14"><a class="header" href="#fields-14">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.name</strong></td><td style="text-align: left">The name of the key switch. It will be displayed as tooltip on the keyboard and in the Expression Map of Cubase.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.keyMin</strong></td><td style="text-align: left">The note number of the lowest key in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.keyMax</strong></td><td style="text-align: left">The note number of the highest key in the range of 0 to 127. If no value is set, this will default to keyMin.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>.keyRemapped</strong></td><td style="text-align: left">The note number of the remote key in the range of 0 to 127. If no value is set, this will default to -1.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-90"><a class="header" href="#return-values-90">Return Values</a></h2>
<p>Returns the internal key switch array.</p>
<h2 id="example-169"><a class="header" href="#example-169">Example</a></h2>
<pre><code class="language-lua">-- Define key switches that can be imported as Expression Map in Cubase.
 
-- Get key switch array.
keySwitches = getKeySwitches()
 
-- Assign values to name and keyMin.
keySwitches[1] = { name = "Legato",    keyMin = 21 }
keySwitches[2] = { name = "Spiccato",  keyMin = 22 }
keySwitches[3] = { name = "Pizzicato", keyMin = 23 }
keySwitches[4] = { name = "Tremolo",   keyMin = 24 }
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getKeyProperties.html">getKeyProperties</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getlayer-1"><a class="header" href="#getlayer-1">getLayer</a></h1>
<blockquote>
<p><strong>getLayer(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-167"><a class="header" href="#description-167">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of a layer in the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer to be searched in. The function does not search in sublayers. A particular layer can be searched by name or position. The position is the number indexing the layers in the specified layer. If several layers share the same name, only the first match will be returned. If no argument is set, the function returns the first layer it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-124"><a class="header" href="#arguments-124">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the layer. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-91"><a class="header" href="#return-values-91">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the found layer. Returns <code>nil</code> if no layer is found.</p>
<h2 id="example-170"><a class="header" href="#example-170">Example</a></h2>
<pre><code class="language-lua">-- Locate the first layer in the program and print its name.

layer = this.program:getLayer()
 
if layer then
    print(layer.name)
else
    print("Could not find a layer!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getmidimodule-1"><a class="header" href="#getmidimodule-1">getMidiModule</a></h1>
<blockquote>
<p><strong>getMidiModule(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-168"><a class="header" href="#description-168">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of a MIDI module in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. This function does not search in sublayers. A particular MIDI module can be searched by name or position. The position is the number indexing the MIDI modules in the specified layer. If several MIDI modules share the same name, only the first match will be returned. If no argument is set, the function returns the first MIDI module it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-125"><a class="header" href="#arguments-125">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the MIDI module. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-92"><a class="header" href="#return-values-92">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the found MIDI module. Returns <code>nil</code> if no MIDI module is found.</p>
<h2 id="example-171"><a class="header" href="#example-171">Example</a></h2>
<pre><code class="language-lua">-- Locate the first MIDI module in the program and print its name.

module = this.program:getMidiModule()
 
if module then
    print(module.name)
else
    print("Could not find a MIDI module!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getmodulationmatrixrow-1"><a class="header" href="#getmodulationmatrixrow-1">getModulationMatrixRow</a></h1>
<blockquote>
<p><strong>getModulationMatrixRow(rowNumber)</strong></p>
</blockquote>
<h2 id="description-169"><a class="header" href="#description-169">Description</a></h2>
<p>Function to obtain the <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a> object of the specified modulation matrix row. The modulation matrix row is determined by the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-126"><a class="header" href="#arguments-126">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>rowNumber</strong></td><td style="text-align: left">The index of the modulation matrix row in the range from 1 to 32.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-93"><a class="header" href="#return-values-93">Return Values</a></h2>
<p>The <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a> object of the specified modulation matrix row.</p>
<h2 id="example-172"><a class="header" href="#example-172">Example</a></h2>
<pre><code class="language-lua">-- Get the element object of the first zone in the program.

zone = this.program:findZones(true)[1]

-- Get the element object of the first modulation matrix row.

modRow = zone:getModulationMatrixRow(1)

-- Print the row number of the specified modulation matrix row.

print(modRow.rowNumber)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getmstime"><a class="header" href="#getmstime">getMsTime</a></h1>
<blockquote>
<p><strong>getMsTime()</strong></p>
</blockquote>
<h2 id="description-170"><a class="header" href="#description-170">Description</a></h2>
<p>Function to obtain the current song position in milliseconds.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-94"><a class="header" href="#return-values-94">Return Values</a></h2>
<p>When the host is in playback, the function returns a decimal with the milliseconds since the start of the song. The start of the song equals 0 ms. The function returns -1 if the host is not in playback.</p>
<h2 id="example-173"><a class="header" href="#example-173">Example</a></h2>
<pre><code class="language-lua">-- Print the song position in milliseconds.

function onNote(event)
    posInSongMs = getMsTime()
    if (posInSongMs ~= -1) then
        print(string.format("%.3f ms", posInSongMs))
    else
        print("Playback is stopped.")
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBeatTime.html">getBeatTime</a>, <a href="HALion-Script/pages/./getBeatTimeInBar.html">getBeatTimeInBar</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getnoteduration"><a class="header" href="#getnoteduration">getNoteDuration</a></h1>
<blockquote>
<p><strong>getNoteDuration(note)</strong></p>
</blockquote>
<h2 id="description-171"><a class="header" href="#description-171">Description</a></h2>
<p>Function to measure the time interval between the last note-on or note-retrigger event of the specified note and the call of this function.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-127"><a class="header" href="#arguments-127">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-95"><a class="header" href="#return-values-95">Return Values</a></h2>
<p>Returns the time interval in milliseconds.</p>
<h2 id="example-174"><a class="header" href="#example-174">Example</a></h2>
<pre><code class="language-lua">-- Print the time interval between the note-on or the note-retrigger and the note-off.

function onRelease(event)
    postEvent(event)
    print(getNoteDuration(event.note), "ms")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBarDuration.html">getBarDuration</a>, <a href="HALion-Script/pages/./getBeatDuration.html">getBeatDuration</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getnoteexpression"><a class="header" href="#getnoteexpression">getNoteExpression</a></h1>
<blockquote>
<p><strong>getNoteExpression(noteID, type)</strong></p>
</blockquote>
<h2 id="description-172"><a class="header" href="#description-172">Description</a></h2>
<p>Function to read the current value of a note expression of a specific note.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-128"><a class="header" href="#arguments-128">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The note ID of the associated note.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The note expression type. It can be determined via names or indices. See <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a> for a description of the types, names and indices.</td><td style="text-align: left">enum or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-96"><a class="header" href="#return-values-96">Return Values</a></h2>
<p>Returns the current value of the note expression determined by the arguments. The function returns -1 if the value of the note expression has not been set yet.</p>
<h2 id="example-175"><a class="header" href="#example-175">Example</a></h2>
<pre><code class="language-lua">-- Print the current value of the volume and pan note expressions.

function onNote(event)
    local id = postEvent(event)
    changeNoteExpression(id, 1, 0.5, false, true)
    print(getNoteExpression(id, NoteExpressionType.volume))
    print(getNoteExpression(id, NoteExpressionType.pan))
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>, <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getnoteexpressionproperties"><a class="header" href="#getnoteexpressionproperties">getNoteExpressionProperties</a></h1>
<blockquote>
<p><strong>getNoteExpressionProperties()</strong></p>
</blockquote>
<h2 id="description-173"><a class="header" href="#description-173">Description</a></h2>
<p>Function to access the internal array that manages the appearance of the custom note expressions. In HALion, these are found in the Note Expression section and in Cubase, in the Note Expression section of the Inspector. For example, if your script generates note expression events, you can give the associated custom note expressions meaningful names or you can hide them. The first time you call getNoteExpressionProperties, the returned array will be empty. You change the properites by assigning a table with the fields <code>.name</code> or <code>.block</code> to the index of the array that corresponds to the custom note expression. The indices from 4 to 11 correspond to the custom note expressions 1 to 8 (see <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a> for details). The properties defined by this script will override any properties that come later in the processing chain.</p>
<blockquote>
<p>❕ The properties of the pre-assigned note expressions volume, pan and tuning cannot be changed</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-15"><a class="header" href="#fields-15">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.name</strong></td><td style="text-align: left">The name of the custom note expression. By default, HALion automatically creates a name for the custom note expression if it is assigned in the modulation matrix. The name you set with the <code>.name</code> property and the automatically created name are both displayed. If the <code>.block</code> property is set to <code>true</code>, only the name set with the <code>.name</code> property is displayed.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>.block</strong></td><td style="text-align: left">If set to <code>true</code>, the properties that come later in the processing chain will not be evaluated. If no value is specified, this is set to <code>false</code>. If the <code>.block</code> property is set to <code>true</code> and the <code>.name</code> property is not set or <code>nil</code>, the name of the custom note expression will not be displayed in HALion and Cubase.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-97"><a class="header" href="#return-values-97">Return Values</a></h2>
<p>Returns the reference to the internal note expression properties array.</p>
<h2 id="example-176"><a class="header" href="#example-176">Example</a></h2>
<pre><code class="language-lua">ne = getNoteExpressionProperties() -- Get the reference to the note expression properties table.

ne[NoteExpressionType.custom1] = { name = "Reserved", block = true }  -- Displays only 'Reserved'.
ne[NoteExpressionType.custom2] = { block = true }                     -- Hides the note expression.
ne[NoteExpressionType.custom3] = { name = "Test", block = false }     -- Displays 'Test' and auto created names.
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>, <a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>, <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getnumqcassignments-1"><a class="header" href="#getnumqcassignments-1">getNumQCAssignments</a></h1>
<blockquote>
<p><strong>getNumQCAssignments(qc)</strong></p>
</blockquote>
<h2 id="description-174"><a class="header" href="#description-174">Description</a></h2>
<p>Function to retrieve the number of assignments of a quick control on the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer with the desired quick control. The <code>qc</code> argument is the index of the quick control with the requested assignments.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-129"><a class="header" href="#arguments-129">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-98"><a class="header" href="#return-values-98">Return Values</a></h2>
<p>Returns the number of assignments of the specified layer and quick control.</p>
<h2 id="example-177"><a class="header" href="#example-177">Example</a></h2>
<pre><code class="language-lua">-- Print the number of assignments of the first quick control on the parent layer.

layer = this.parent
qc = 1
 
print("Number of assignments on '"..layer.name.."', QC "..qc..": "..layer:getNumQCAssignments(qc)..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getonsets-1"><a class="header" href="#getonsets-1">getOnsets</a></h1>
<blockquote>
<p><strong>getOnsets(start, length, peakThreshold, sensThreshold, minLength)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-175"><a class="header" href="#description-175">Description</a></h2>
<p>Function to analyze the onsets in an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The onset analysis is performed on the sum of all channels in the audio file. The arguments <code>start</code>  and <code>length</code>  define the time range in the audio file to be analyzed. The <code>peakThreshold</code>  and <code>sensThreshold</code>  arguments determine the minimum level and the weight of an onset, the <code>minLength</code>  argument determines the minimum duration between consecutive onsets.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-130"><a class="header" href="#arguments-130">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to equal to or less than 0 to use all samples from the specified <code>start</code> to the end of the sample.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>peakThreshold</strong></td><td style="text-align: left">The minimum level in decibels. Onsets with a lower level are skipped. The value range is from -96 to 0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>sensThreshold</strong></td><td style="text-align: left">The minimum weight in percent. Onsets with a lower weight are skipped. The value range is from 0 to 100.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>minLength</strong></td><td style="text-align: left">The minimum duration between consecutive onsets in milliseconds. The value range is from 0 to 10000.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-99"><a class="header" href="#return-values-99">Return Values</a></h2>
<p>Returns an array with the positions of the detected onsets.</p>
<h2 id="example-178"><a class="header" href="#example-178">Example</a></h2>
<pre><code class="language-lua">fname = "vstsound://271CB2CFA75E4295B1C273FA651FE11D/.Samples/g:/projects/yamahacontentserver/Download/Release/ycj/ME_Waveform/Loop145/samples/Loop145_072(2).wav"
 
af = AudioFile.open(fname)
 
onsets = af:getOnsets(0, -1, -24, 0, 10)
  
for i, pos in ipairs(onsets) do
   print(i.." ".."Onset: "..pos)
end
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a>, <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getoutputbus-2"><a class="header" href="#getoutputbus-2">getOutputBus</a></h1>
<blockquote>
<p><strong>getOutputBus()</strong></p>
</blockquote>
<h2 id="description-176"><a class="header" href="#description-176">Description</a></h2>
<p>Function to retrieve the currently assigned output bus of a zone or bus.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="return-values-100"><a class="header" href="#return-values-100">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the currently assigned output bus or <code>nil</code> if the default routing is used.</p>
<h2 id="example-179"><a class="header" href="#example-179">Example</a></h2>
<pre><code class="language-lua">-- Raise an error if no output bus is assigned.

zone = this.parent:getZone()

assert(zone:getOutputBus(), "No output bus assigned. The default routing is used!")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setOutputBus.html">setOutputBus</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getparameter-1"><a class="header" href="#getparameter-1">getParameter</a></h1>
<blockquote>
<p><strong>getParameter(nameOrID)</strong></p>
</blockquote>
<h2 id="description-177"><a class="header" href="#description-177">Description</a></h2>
<p>Function to read the current value of a parameter. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-131"><a class="header" href="#arguments-131">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-101"><a class="header" href="#return-values-101">Return Values</a></h2>
<p>Returns the current value of the parameter or nil if the parameter doesn't exist.</p>
<h2 id="example-180"><a class="header" href="#example-180">Example</a></h2>
<pre><code class="language-lua">-- Print the value of the parent layer's level parameter.

function onLoadIntoSlot()
    print("Level = "..this.parent:getParameter("Level")) -- via name
    print("Level = "..this.parent:getParameter(38))      -- via ID
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setParameter.html">setParameter</a>, <a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>, <a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a>, <a href="HALion-Script/pages/./hasParameter.html">hasParameter</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getparameterdefinition-1"><a class="header" href="#getparameterdefinition-1">getParameterDefinition</a></h1>
<blockquote>
<p><strong>getParameterDefinition(nameOrID)</strong></p>
</blockquote>
<h2 id="description-178"><a class="header" href="#description-178">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object for a parameter. The parameter can be determined by name or ID. The <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object describes the properties of a parameter.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-132"><a class="header" href="#arguments-132">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-102"><a class="header" href="#return-values-102">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a> object for the specified parameter.</p>
<h2 id="example-181"><a class="header" href="#example-181">Example</a></h2>
<pre><code class="language-lua">-- Print the parameter definition with corresponding
-- data type of the parent layer's level parameter.

function onLoadIntoSlot()
  
    local def = this.parent:getParameterDefinition("Level")
  
    print("Name = "..def.name..", "..type(def.name))
    print("ID = "..def.id..", "..type(def.id))
    print("Type = "..def.type..", "..type(def.type))
    print("Default = "..def.default..", "..type(def.default))
    print("Read Only = "..tostring(def.readOnly)..", "..type(def.readOnly))
    print("Min = "..def.min..", "..type(def.min))
    print("Max = "..def.max..", "..type(def.max))
    print("Unit = "..def.unit..", "..type(def.unit).."\n")
  
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ParameterDefinition.html">ParameterDefinition</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getparameternormalized-1"><a class="header" href="#getparameternormalized-1">getParameterNormalized</a></h1>
<blockquote>
<p><strong>getParameterNormalized(nameOrID)</strong></p>
</blockquote>
<h2 id="description-179"><a class="header" href="#description-179">Description</a></h2>
<p>Function to read the current value of a parameter in the normalized range from 0 to 1.0. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-133"><a class="header" href="#arguments-133">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-103"><a class="header" href="#return-values-103">Return Values</a></h2>
<p>Returns the current value of the parameter in the normalized range from 0 to 1.0 or nil if the parameter doesn't exist. If the parameter is not numeric, the function returns the same as getParameter</p>
<h2 id="example-182"><a class="header" href="#example-182">Example</a></h2>
<pre><code class="language-lua">-- Print the normalized value of the parent layer's level parameter.

function onLoadIntoSlot()
    print("Level = "..this.parent:getParameterNormalized("Level")) -- via name
    print("Level = "..this.parent:getParameterNormalized(38))      -- via ID
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a>, <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./setParameter.html">setParameter</a>, <a href="HALion-Script/pages/./hasParameter.html">hasParameter</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getpeak-1"><a class="header" href="#getpeak-1">getPeak</a></h1>
<blockquote>
<p><strong>getPeak(start, length, rms)</strong></p>
</blockquote>
<h2 id="description-180"><a class="header" href="#description-180">Description</a></h2>
<p>Function to analyze the levels in an audio file. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments start and length define the range in the audio file to be analyzed. The rms argument determines whether the peak level or the RMS level of the specified range is returned.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-134"><a class="header" href="#arguments-134">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to equal to or less than 0 to use all samples from the specified start to the end of the file.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>rms</strong></td><td style="text-align: left">If this is set to 0, the peak level of the specified range will be returned. If this is set to a value above 0, the RMS level over the specified range will be calculated.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-104"><a class="header" href="#return-values-104">Return Values</a></h2>
<p>Returns the level of the specifed range as a linear value. The example shows how to convert the value from linear to dB.</p>
<h2 id="example-183"><a class="header" href="#example-183">Example</a></h2>
<pre><code class="language-lua">function lin2db(lin)
  return 20 * math.log(lin) / math.log(10)
end

fname = "vstsound://F29C895D6D8E4D6C9BCBBA5198412192/.samples/Ambient Pad 01/Ambient Pad 01 - C3.tg3c"
af = AudioFile.open(fname)

-- Analyze the peak level in the first 1000 samples.

attpeak = af:getPeak(0, 1000, 0)

-- Analyze the RMS level in the range from 1000 samples till the end of the file.

susrms = af:getPeak(1000, -1, 1)
print("Attack Peak:", attpeak, "(", lin2db(attpeak), "dB )")
print("Sustain RMS:", susrms, "(", lin2db(susrms), "dB )")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a>, <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getpitch-1"><a class="header" href="#getpitch-1">getPitch</a></h1>
<blockquote>
<p><strong>getPitch(start, length, channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h2 id="description-181"><a class="header" href="#description-181">Description</a></h2>
<p>Function to obtain the pitch of an audio file that has been analyzed with <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The audio file you want to obtain the pitch from is specified with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The arguments <code>start</code> and <code>length</code> define the range in the audio file that is used for obtaining the pitch. The <code>channel</code> argument specifies the channel of the audio file that was analyzed. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the <code>channel</code> argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The function returns two values: The pitch as MIDI note number with decimals for cents and a boolean for voiced/unvoiced detection. If <code>length</code> is greater than 20 ms, the average of the pitches in the specified range is returned. If the audio file has not been analyzed in advance, getPitch returns <code>nil</code>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-135"><a class="header" href="#arguments-135">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>start</strong></td><td style="text-align: left">The start position in samples.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>length</strong></td><td style="text-align: left">The duration in samples. Set this to less than or equal to 0 to use all samples from the specified <code>start</code> to the end of the file.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the audio channel that was analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-105"><a class="header" href="#return-values-105">Return Values</a></h2>
<p>Returns two values:</p>
<ul>
<li>A float value representing the pitch as MIDI note number with decimals for cents,</li>
<li>a boolean for voiced/unvoiced detection. The return value <code>true</code> means that a pitch was detected in the specified range.</li>
</ul>
<p>If <code>length</code> is greater than 20 ms, the average of the pitches in the specified range is returned. If the audio file has not been analyzed in advance, getPitch returns <code>nil</code>.</p>
<h2 id="example-184"><a class="header" href="#example-184">Example</a></h2>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>, <a href="HALion-Script/pages/./getPitchAnalysisProgress.html">getPitchAnalysisProgress</a>, <a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getpitchanalysisprogress-1"><a class="header" href="#getpitchanalysisprogress-1">getPitchAnalysisProgress</a></h1>
<blockquote>
<p><strong>getPitchAnalysisProgress(channel)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.3)</span></p>
<h2 id="description-182"><a class="header" href="#description-182">Description</a></h2>
<p>Function to monitor the progress of <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. You specify the audio file with the <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object that is returned by the <a href="HALion-Script/pages/./AudioFileopen.html">AudioFile.open</a> function. The <code>channel</code> argument specifies the channel of the audio file. The <a href="HALion-Script/pages/./Audio-File.html">AudioFile</a> object and the channel argument must match the call to <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>. The function returns the progress as a float value between 0 and 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-136"><a class="header" href="#arguments-136">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>channel</strong></td><td style="text-align: left">Use this to specify the channel of the audio file that is being analyzed.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-106"><a class="header" href="#return-values-106">Return Values</a></h2>
<p>Returns the progress as a float value between 0 and 1.</p>
<h2 id="example-185"><a class="header" href="#example-185">Example</a></h2>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
  
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
  
-- Requires the Skylab content.
path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset"
layer = loadPreset(path)
  
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
  
function onStart()
    zones = layer:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
        print("Analyzed Pitch: "..pitch)
    end
    print("Done!")
    Start = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./analyzePitch.html">analyzePitch</a>, <a href="HALion-Script/pages/./getPitch.html">getPitch</a>, <a href="HALion-Script/pages/./cancelPitchAnalysis.html">cancelPitchAnalysis</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getprocessedsamples"><a class="header" href="#getprocessedsamples">getProcessedSamples</a></h1>
<blockquote>
<p><strong>getProcessedSamples()</strong></p>
</blockquote>
<h2 id="description-183"><a class="header" href="#description-183">Description</a></h2>
<p>Function to obtain the number of processed samples since the initialization of the plug-in.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-107"><a class="header" href="#return-values-107">Return Values</a></h2>
<p>Returns the number of processed samples since the initialization of the plug-in.</p>
<h2 id="example-186"><a class="header" href="#example-186">Example</a></h2>
<pre><code class="language-lua">-- Measure the number of processed samples between subsequent notes.

function onNote(event)
    postEvent(event)
    s2 = getProcessedSamples()
    if s1 then
        print(string.format("%.f samples", s2 - s1))
    end
    s1 = s2
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getproductname"><a class="header" href="#getproductname">getProductName</a></h1>
<blockquote>
<p><strong>getProductName()</strong></p>
</blockquote>
<h2 id="description-184"><a class="header" href="#description-184">Description</a></h2>
<p>Function to retrieve the name of the plug-in.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-108"><a class="header" href="#return-values-108">Return Values</a></h2>
<p>Returns a string with the name of the plug-in.</p>
<h2 id="example-187"><a class="header" href="#example-187">Example</a></h2>
<pre><code class="language-lua">-- Print the name of the plug-in.

function onInit()
    print(getProductName())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getProductVersion.html">getProductVersion</a>, <a href="HALion-Script/pages/./getHostName.html">getHostName</a>, <a href="HALion-Script/pages/./getHostVersion.html">getHostVersion</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getproductversion"><a class="header" href="#getproductversion">getProductVersion</a></h1>
<blockquote>
<p><strong>getProductVersion()</strong></p>
</blockquote>
<h2 id="description-185"><a class="header" href="#description-185">Description</a></h2>
<p>Function to retrieve the version of the plug-in.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="return-values-109"><a class="header" href="#return-values-109">Return Values</a></h2>
<p>Returns a string with the version of the plug-in.</p>
<h2 id="example-188"><a class="header" href="#example-188">Example</a></h2>
<pre><code class="language-lua">-- Print the version of the plug-in.

function onInit()
    print(getProductVersion())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getProductVersion.html">getProductName</a>, <a href="HALion-Script/pages/./getHostName.html">getHostName</a>, <a href="HALion-Script/pages/./getHostVersion.html">getHostVersion</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getprogram-1"><a class="header" href="#getprogram-1">getProgram</a></h1>
<blockquote>
<p><strong>getProgram(index)</strong></p>
</blockquote>
<h2 id="description-186"><a class="header" href="#description-186">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Program.html">Program</a> object of a program in the <strong>Program Table</strong> of the plug-in instance. Before calling this function you must access the <a href="HALion-Script/pages/./Instance.html">Instance</a> object with <code>this.program.instance</code>. The index corresponds to the number of the slot in the <strong>Program Table</strong> where the program is set. The function returns the <a href="HALion-Script/pages/./Program.html">Program</a> object of the program with the specified index.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-137"><a class="header" href="#arguments-137">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the slot in the Program Table where the program is set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-110"><a class="header" href="#return-values-110">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Program.html">Program</a> object of the program with the specified index.</p>
<h2 id="example-189"><a class="header" href="#example-189">Example</a></h2>
<pre><code class="language-lua">-- Print the name of the program in the third slot of the Program Table.

program = this.program.instance:getProgram(3)
print(program.name)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setProgram.html">setProgram</a>, <a href="HALion-Script/pages/./Program.html">Program</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentbypass-1"><a class="header" href="#getqcassignmentbypass-1">getQCAssignmentBypass</a></h1>
<blockquote>
<p><strong>getQCAssignmentBypass(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-187"><a class="header" href="#description-187">Description</a></h2>
<p>Function to retrieve the bypass state of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested bypass state. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-138"><a class="header" href="#arguments-138">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-111"><a class="header" href="#return-values-111">Return Values</a></h2>
<p>Returns the bypass state of the specified quick control assignment as boolean value.</p>
<h2 id="example-190"><a class="header" href="#example-190">Example</a></h2>
<pre><code class="language-lua">-- Print the bypass state of the qc assignment.

layer = this.parent
qc = 1
assignment = 1
   
qcBypass = layer:getQCAssignmentBypass(qc, assignment)
    
print("Bypass of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..tostring(qcBypass)..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentcurve-1"><a class="header" href="#getqcassignmentcurve-1">getQCAssignmentCurve</a></h1>
<blockquote>
<p><strong>getQCAssignmentCurve(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-188"><a class="header" href="#description-188">Description</a></h2>
<p>Function to retrieve the curve value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested curve value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-139"><a class="header" href="#arguments-139">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-112"><a class="header" href="#return-values-112">Return Values</a></h2>
<p>Returns the curve value of the specified quick control assignment. The value range is -100% to +100%.</p>
<h2 id="example-191"><a class="header" href="#example-191">Example</a></h2>
<pre><code class="language-lua">-- Print the curve value of the qc assignment.

layer = this.parent
qc = 1
assignment = 1
  
qcCurve = layer:getQCAssignmentCurve(qc, assignment)
   
print("Curve value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcCurve..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentmax-1"><a class="header" href="#getqcassignmentmax-1">getQCAssignmentMax</a></h1>
<blockquote>
<p><strong>getQCAssignmentMax(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-189"><a class="header" href="#description-189">Description</a></h2>
<p>Function to retrieve the maximum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested maximum value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-140"><a class="header" href="#arguments-140">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-113"><a class="header" href="#return-values-113">Return Values</a></h2>
<p>Returns the maximum value of the specified quick control assignment.</p>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h2 id="example-192"><a class="header" href="#example-192">Example</a></h2>
<pre><code class="language-lua">-- Print the maximum value of the qc assignment as displayed in HALion.

layer = this.parent
qc = 1
assignment = 1
  
qcMode = layer:getQCAssignmentMode(qc, assignment)
qcMax = layer:getQCAssignmentMax(qc, assignment)
  
-- Convert to bipolar range if the qc is of the type relative or switch relative.

if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMax = qcMax * 2 - 100
end
   
print("Maximum value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcMax..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentmin-1"><a class="header" href="#getqcassignmentmin-1">getQCAssignmentMin</a></h1>
<blockquote>
<p><strong>getQCAssignmentMin(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-190"><a class="header" href="#description-190">Description</a></h2>
<p>Function to retrieve the minimum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested minimum value. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-141"><a class="header" href="#arguments-141">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-114"><a class="header" href="#return-values-114">Return Values</a></h2>
<p>Returns the minimum value of the specified quick control assignment.</p>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h2 id="example-193"><a class="header" href="#example-193">Example</a></h2>
<pre><code class="language-lua">-- Print the minimum value of the qc assignment as displayed in HALion.
layer = this.parent
qc = 1
assignment = 1
 
qcMode = layer:getQCAssignmentMode(qc, assignment)
qcMin = layer:getQCAssignmentMin(qc, assignment)
 
-- Convert to bipolar range if the qc is of the type relative or switch relative.
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMin = qcMin * 2 - 100
end
  
print("Minimum value of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcMin..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentmode-1"><a class="header" href="#getqcassignmentmode-1">getQCAssignmentMode</a></h1>
<blockquote>
<p><strong>getQCAssignmentMode(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-191"><a class="header" href="#description-191">Description</a></h2>
<p>Function to retrieve the mode that is set for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested mode. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-142"><a class="header" href="#arguments-142">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-115"><a class="header" href="#return-values-115">Return Values</a></h2>
<p>Returns the mode that is set for the specified quick control assignment as a number. The mode can be determined via names or indices. See <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a> for details.</p>
<h2 id="example-194"><a class="header" href="#example-194">Example</a></h2>
<pre><code class="language-lua">-- Print the mode of the qc assignment.
layer = this.parent
qc = 1
assignment = 1
   
qcMode = layer:getQCAssignmentMode(qc, assignment)
  
if qcMode == QCAssignmentMode.absolute then
    qcModeName = "Absolute"
elseif qcMode == QCAssignmentMode.relative then
    qcModeName = "Relative"
elseif qcMode == QCAssignmentMode.switch then
    qcModeName = "Switch"
elseif qcMode == QCAssignmentMode.switchRelative then
    qcModeName = "Switch Relative"
end
    
print("Mode of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcModeName..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentparamid-1"><a class="header" href="#getqcassignmentparamid-1">getQCAssignmentParamId</a></h1>
<blockquote>
<p><strong>getQCAssignmentParamId(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-192"><a class="header" href="#description-192">Description</a></h2>
<p>Function to retrieve the parameter ID of the parameter that is connected to the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, this.parent defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested parameter. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-143"><a class="header" href="#arguments-143">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-116"><a class="header" href="#return-values-116">Return Values</a></h2>
<p>Returns the parameter ID of the parameter connected to the specified quick control assignment.</p>
<h2 id="example-195"><a class="header" href="#example-195">Example</a></h2>
<pre><code class="language-lua">-- Print the parameter ID of the parameter connected to the qc assignment.

layer = this.parent
qc = 1
assignment = 1
 
paramID = layer:getQCAssignmentParamId(qc, assignment)
 
print("Parameter ID of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..paramID..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getqcassignmentscope-1"><a class="header" href="#getqcassignmentscope-1">getQCAssignmentScope</a></h1>
<blockquote>
<p><strong>getQCAssignmentScope(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-193"><a class="header" href="#description-193">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Element.html">Element</a> object that is set as scope for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the layer, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment with the requested scope. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-144"><a class="header" href="#arguments-144">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-117"><a class="header" href="#return-values-117">Return Values</a></h2>
<p>Returns the element object that is set as scope for the specified quick control assignment.</p>
<h2 id="example-196"><a class="header" href="#example-196">Example</a></h2>
<pre><code class="language-lua">-- Print the scope for the qc assignment.

layer = this.parent
qc = 1
assignment = 1
 
scope = layer:getQCAssignmentScope(qc, assignment).name -- use only the name of the returned element
 
print("Scope of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..scope..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getsamplingrate"><a class="header" href="#getsamplingrate">getSamplingRate</a></h1>
<blockquote>
<p><strong>getSamplingRate()</strong></p>
</blockquote>
<h2 id="description-194"><a class="header" href="#description-194">Description</a></h2>
<p>Function to retrieve the sample rate from the host software.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-118"><a class="header" href="#return-values-118">Return Values</a></h2>
<p>Returns the sample rate of the host software in Hertz (i.e., samples per seconds).</p>
<h2 id="example-197"><a class="header" href="#example-197">Example</a></h2>
<pre><code class="language-lua">-- Print the sample rate of the host software.

function onInit()
    fs = getSamplingRate()
    print(fs, "Hz")   
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getscriptexectimeout"><a class="header" href="#getscriptexectimeout">getScriptExecTimeOut</a></h1>
<blockquote>
<p><strong>getScriptExecTimeOut()</strong></p>
</blockquote>
<h2 id="description-195"><a class="header" href="#description-195">Description</a></h2>
<p>Function to read the duration of the script execution time-out either for the controller or the processor thread, depending on where getScriptExecTimeOut is called. The duration for the script execution time-out is returned in milliseconds. The default is 5000 ms for the controller thread and 1000 ms for the processor thread.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="return-values-119"><a class="header" href="#return-values-119">Return Values</a></h2>
<p>Returns the duration of the script execution time-out in milliseconds either for the controller or the processor thread.</p>
<h2 id="example-198"><a class="header" href="#example-198">Example</a></h2>
<pre><code class="language-lua"> -- Print the script execution time-out of the controller and the processor thread.
   
print("Script execution time-out of "..getContext()..": "..getScriptExecTimeOut().." ms.")
  
function onInit()
    print("Script execution time-out of "..getContext()..": "..getScriptExecTimeOut().." ms.")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setScriptExecTimeOut.html">setScriptExecTimeOut</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getscriptversion"><a class="header" href="#getscriptversion">getScriptVersion</a></h1>
<blockquote>
<p><strong>getScriptVersion()</strong></p>
</blockquote>
<h2 id="description-196"><a class="header" href="#description-196">Description</a></h2>
<p>Function to retrieve the version of the script engine.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-120"><a class="header" href="#return-values-120">Return Values</a></h2>
<p>Returns a string with the version of the script engine.</p>
<h2 id="example-199"><a class="header" href="#example-199">Example</a></h2>
<pre><code class="language-lua">-- Print the version of the script engine.

function onInit()
    print(getScriptVersion())
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getslot-1"><a class="header" href="#getslot-1">getSlot</a></h1>
<blockquote>
<p><strong>getSlot(nameOrIndex)</strong></p>
</blockquote>
<h2 id="description-197"><a class="header" href="#description-197">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of a slot of the plug-in instance. Before calling this function you must access the <a href="HALion-Script/pages/./Instance.html">Instance</a> object with <code>this.program.instance</code>. A particular slot can be searched by name or index. The index equals the slot numbering in the <strong>Slot Rack</strong>. If no argument is set, the function returns the first slot it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-145"><a class="header" href="#arguments-145">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrIndex</strong></td><td style="text-align: left">The name or index of the slot. Set this to nil to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-121"><a class="header" href="#return-values-121">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Slot.html">Slot</a> object of the found slot. Returns <code>nil</code> if no slot is found.</p>
<h2 id="example-200"><a class="header" href="#example-200">Example</a></h2>
<pre><code class="language-lua">-- Print the name of slot index 3.

slot = this.program.instance:getSlot(3)

print(slot.name)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getZone.html">getZone</a>, <a href="HALion-Script/pages/./Slot.html">Slot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getslotindex"><a class="header" href="#getslotindex">getSlotIndex</a></h1>
<blockquote>
<p><strong>getSlotIndex()</strong></p>
</blockquote>
<h2 id="description-198"><a class="header" href="#description-198">Description</a></h2>
<p>Function to retrieve the index of the slot in which the program is loaded.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-122"><a class="header" href="#return-values-122">Return Values</a></h2>
<p>Returns the index of the slot in which the program is loaded.</p>
<h2 id="example-201"><a class="header" href="#example-201">Example</a></h2>
<pre><code class="language-lua">-- Print the slot index with onInit and onNote.
 
function onInit()
    print("Program loaded in slot #:", getSlotIndex())
end
 
function onNote(event)
    postEvent(event)
    print("Note-on event received in slot #:", getSlotIndex())
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getsource1-1"><a class="header" href="#getsource1-1">getSource1</a></h1>
<blockquote>
<p><strong>getSource1()</strong></p>
</blockquote>
<h2 id="description-199"><a class="header" href="#description-199">Description</a></h2>
<p>Function to retrieve the 1st modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-123"><a class="header" href="#return-values-123">Return Values</a></h2>
<p>Returns up to three values, i.e., source, sourceInfo1 and sourceInfo2. The number of return values depends on the modulation source. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
<h2 id="example-202"><a class="header" href="#example-202">Example</a></h2>
<pre><code class="language-lua">-- Print modulation sources.

function printSource(source)
    if source.source == ModulationSource.midiControl then
        print("MIDI Ctrl, Controller Number: "..source.info1)
    elseif source.source == ModulationSource.quickControl then
        print("Quick Ctrl, Layer: "..source.info1.name..", QC Index: "..source.info2)
    elseif source.source == ModulationSource.modulationModule then
        print("MIDI Module,  Module: "..source.info1.name..", Output: "..source.info2)
    elseif source.source == ModulationSource.noteExpression then
        print("Note Expression, Custom NE: "..source.info1)
    elseif source.source == ModulationSource.sampleAndHold then
        print("Sample &amp; Hold, Index: "..source.info1)
    else
        print("Standard Modulation, Index: "..source.source)
    end
end
 
-- Get the zone object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Run through all 32 modulation rows of the zone and print source1 if assigned.

for i=1, 32 do
    local modRow = zone:getModulationMatrixRow(i)
    local source1 = {}
    source1.source, source1.info1, source1.info2 = modRow:getSource1()
    if source1.source ~= ModulationSource.unassigned then
        print("Modulation Row "..i..", Source 1:")
        printSource(source1)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getsource2-1"><a class="header" href="#getsource2-1">getSource2</a></h1>
<blockquote>
<p><strong>getSource2()</strong></p>
</blockquote>
<h2 id="description-200"><a class="header" href="#description-200">Description</a></h2>
<p>Function to retrieve the 2nd modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-124"><a class="header" href="#return-values-124">Return Values</a></h2>
<p>Returns up to three values, i.e., source, sourceInfo1 and sourceInfo2. The number of return values depends on the modulation source. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
<blockquote>
<p>❕ The 2nd modulation source has an additional sample &amp; hold. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details.</p>
</blockquote>
<h2 id="example-203"><a class="header" href="#example-203">Example</a></h2>
<pre><code class="language-lua">-- Print modulation sources.

function printSource(source)
    if source.source == ModulationSource.midiControl then
        print("MIDI Ctrl, Controller Number: "..source.info1)
    elseif source.source == ModulationSource.quickControl then
        print("Quick Ctrl, Layer: "..source.info1.name..", QC Index: "..source.info2)
    elseif source.source == ModulationSource.modulationModule then
        print("MIDI Module,  Module: "..source.info1.name..", Output: "..source.info2)
    elseif source.source == ModulationSource.noteExpression then
        print("Note Expression, Custom NE: "..source.info1)
    elseif source.source == ModulationSource.sampleAndHold then
        print("Sample &amp; Hold, Index: "..source.info1)
    else
        print("Standard Modulation, Index: "..source.source)
    end
end
 
-- Get the zone object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Run through all 32 modulation rows of the zone and print source2 if assigned.
for i=1, 32 do
    local modRow = zone:getModulationMatrixRow(i)
    local source2 = {}
    source2.source, source2.info1, source2.info2 = modRow:getSource2()
    if source2.source ~= ModulationSource.unassigned then
        print("Modulation Row "..i..", Source 2:")
        printSource(source2)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="gettempo"><a class="header" href="#gettempo">getTempo</a></h1>
<blockquote>
<p><strong>getTempo()</strong></p>
</blockquote>
<h2 id="description-201"><a class="header" href="#description-201">Description</a></h2>
<p>Function to read the tempo of the host software.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-125"><a class="header" href="#return-values-125">Return Values</a></h2>
<p>Returns the current tempo in beats per minute (BPM). If no tempo information is available, this function returns the value -1.</p>
<h2 id="example-204"><a class="header" href="#example-204">Example</a></h2>
<pre><code class="language-lua">-- Print the playing speed of subsequent notes in percentage of the host tempo.

local T = {}
function onNote(event)
    postEvent(event)
    T[2] = getTime()
    if T[1] ~= nil then
        speedInPercent = 60000 / (T[2] - T[1]) / getTempo() * 100
        print(string.format("%.1f %s", speedInPercent, "%"))
    end
    T[1] = T[2]
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getTimeSignature.html">getTimeSignature</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="gettime"><a class="header" href="#gettime">getTime</a></h1>
<blockquote>
<p><strong>getTime()</strong></p>
</blockquote>
<h2 id="description-202"><a class="header" href="#description-202">Description</a></h2>
<p>Function to obtain the time in milliseconds since the initialization of the script.</p>
<blockquote>
<p>❕ The function starts to count from 0 ms each time that you reload or reset the script.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-126"><a class="header" href="#return-values-126">Return Values</a></h2>
<p>Returns the time in milliseconds since the initialization of the script.</p>
<h2 id="example-205"><a class="header" href="#example-205">Example</a></h2>
<pre><code class="language-lua">-- Measure the time between subsequent notes.

function onNote(event)
    postEvent(event)
    t2 = getTime()
    if t1 then
        print(string.format("%.3f ms", t2 - t1))
    end
    t1 = t2
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="gettimesignature"><a class="header" href="#gettimesignature">getTimeSignature</a></h1>
<blockquote>
<p><strong>getTimeSignature()</strong></p>
</blockquote>
<h2 id="description-203"><a class="header" href="#description-203">Description</a></h2>
<p>Function to read the time signature from the host software.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-127"><a class="header" href="#return-values-127">Return Values</a></h2>
<p>Returns the numerator and denominator of the time signature. If no time signature information is available, the value -1 is returned for both the numerator and the denominator.</p>
<h2 id="example-206"><a class="header" href="#example-206">Example</a></h2>
<pre><code class="language-lua">-- Print the time signature of the host software.

function onInit()
    num, denom = getTimeSignature()
    print(num.."/"..denom)   
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getTempo.html">getTempo</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getundocontext"><a class="header" href="#getundocontext">getUndoContext</a></h1>
<blockquote>
<p><strong>getUndoContext()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.1)</span></p>
<h2 id="description-204"><a class="header" href="#description-204">Description</a></h2>
<p>Function to check if the current script execution is part of an undo or redo operation.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-128"><a class="header" href="#return-values-128">Return Values</a></h2>
<p>The function returns</p>
<ul>
<li>1 if the changes come from an undo operation,</li>
<li>2 if the changes come from a redo operation,</li>
<li><code>nil</code> if the changes do not come from an undo or redo operation.</li>
</ul>
<h2 id="enumerators"><a class="header" href="#enumerators">Enumerators</a></h2>
<p>You can use the following enumerators to identify the <a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a>.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Undo Context</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">UndoContext.inUndo</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">UndoContext.inRedo</td></tr>
</tbody></table>
</div>
<h2 id="example-207"><a class="header" href="#example-207">Example</a></h2>
<pre><code class="language-lua">-- Do nothing if the change callback is executed as part of an undo or redo operation.

function onP1Changed()
  if getUndoContext() then
    return -- do nothing
  end

  -- The following code is only executed if it is not part of an undo or redo operation.
  local oldName = this.name
  local newName = "Some Name "..p1
  startUndoBlock("Name of '"..oldName.."' set to '"..newName.."'")
    this:setName(newName)
  endUndoBlock()
end
  
defineParameter("p1", onP1Changed)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>, <a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a>, <a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getusedmemory"><a class="header" href="#getusedmemory">getUsedMemory</a></h1>
<blockquote>
<p><strong>getUsedMemory()</strong></p>
</blockquote>
<h2 id="description-205"><a class="header" href="#description-205">Description</a></h2>
<p>Function to obtain the amount of memory that is used by the script.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-129"><a class="header" href="#return-values-129">Return Values</a></h2>
<p>Returns the number of bytes in the memory that are used by the script.</p>
<h2 id="example-208"><a class="header" href="#example-208">Example</a></h2>
<pre><code class="language-lua">-- Print the used memory in bytes.

function onNote(event)
    print(getUsedMemory())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getAllocatedMemory.html">getAllocatedMemory</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getusedvoices"><a class="header" href="#getusedvoices">getUsedVoices</a></h1>
<blockquote>
<p><strong>getUsedVoices()</strong></p>
</blockquote>
<h2 id="description-206"><a class="header" href="#description-206">Description</a></h2>
<p>Function to obtain the number of used voices of the plug-in instance.</p>
<blockquote>
<p>❕ If the initiation of a zone and the call to this function happen in the same audio block, the voice count which is returned might not be up-to-date. To prevent this, wait for the next audio block before calling this function.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-130"><a class="header" href="#return-values-130">Return Values</a></h2>
<p>Returns the number of used voices of the plug-in instance.</p>
<h2 id="example-209"><a class="header" href="#example-209">Example</a></h2>
<pre><code class="language-lua">-- Print the number of used voices of the plug-in.

function printUsedVoices()
    wait(20)  -- Wait for 20 ms to avoid calling getUsedVoices in the same audio block.
    print("Number of used voices: "..getUsedVoices())
end
  
function onNote(event)
    postEvent(event)
    spawn(printUsedVoices)
end
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./getVoices.html">getVoices</a>, <a href="HALion-Script/pages/./getFreeVoices.html">getFreeVoices</a>, <a href="HALion-Script/pages/./getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getusedvoicesofslot"><a class="header" href="#getusedvoicesofslot">getUsedVoicesOfSlot</a></h1>
<blockquote>
<p><strong>getUsedVoicesOfSlot()</strong></p>
</blockquote>
<h2 id="description-207"><a class="header" href="#description-207">Description</a></h2>
<p>Function to obtain the number of used voices of the slot in which a program is loaded.</p>
<blockquote>
<p>❕ If the initiation of a zone and the call to this function happen in the same audio block, the voice count which is returned might not be up-to-date. To prevent this, wait for the next audio block before calling this function.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-131"><a class="header" href="#return-values-131">Return Values</a></h2>
<p>Returns the number of used voices of the corresponding slot.</p>
<h2 id="example-210"><a class="header" href="#example-210">Example</a></h2>
<pre><code class="language-lua">-- Print the number of used voices of the slot.

function printUsedVoicesOfSlot()
    wait(20)  -- Wait for 20 ms to avoid calling getUsedVoicesOfSlot in the same audio block.
    print("Number of used voices: "..getUsedVoicesOfSlot())
end
  
function onNote(event)
    postEvent(event)
    spawn(printUsedVoicesOfSlot)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getVoices.html">getVoices</a>, <a href="HALion-Script/pages/./getFreeVoices.html">getFreeVoices</a>,  <a href="HALion-Script/pages/./getUsedVoices.html">getUsedVoices</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getuserpresetpath"><a class="header" href="#getuserpresetpath">getUserPresetPath</a></h1>
<blockquote>
<p><strong>getUserPresetPath(product)</strong></p>
</blockquote>
<h2 id="description-208"><a class="header" href="#description-208">Description</a></h2>
<p>Function to obtain the file path for the user VST presets of a product. If no product is set, the function returns the file path of the current plug-in.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-146"><a class="header" href="#arguments-146">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>product</strong></td><td style="text-align: left">The name of the product.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-132"><a class="header" href="#return-values-132">Return Values</a></h2>
<p>Returns the file path for the user VST presets of the specified product.</p>
<h2 id="example-211"><a class="header" href="#example-211">Example</a></h2>
<pre><code class="language-lua">-- Print the user VST preset path for the current plug-in and Halion Sonic.
 
plugInPresetPath = getUserPresetPath()
halionSonicPresetPath = getUserPresetPath("HALion Sonic")
 
print(plugInPresetPath)
print(halionSonicPresetPath)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getUserSubPresetPath.html">getUserSubPresetPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getusersubpresetpath"><a class="header" href="#getusersubpresetpath">getUserSubPresetPath</a></h1>
<blockquote>
<p><strong>getUserSubPresetPath(product)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-209"><a class="header" href="#description-209">Description</a></h2>
<p>Function to obtain the file path for the user sub presets of a product. If no product is set, the function returns the file path of the current plug-in.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-147"><a class="header" href="#arguments-147">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>product</strong></td><td style="text-align: left">The name of the product.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-133"><a class="header" href="#return-values-133">Return Values</a></h2>
<p>Returns the file path for the user sub presets of the specified product.</p>
<h2 id="example-212"><a class="header" href="#example-212">Example</a></h2>
<pre><code class="language-lua">-- Print the user subpreset path for the current plug-in and Halion Sonic.
 
plugInSubPresetPath = getUserSubPresetPath()
halionSonicSubPresetPath = getUserSubPresetPath("HALion Sonic")
 
print(plugInSubPresetPath)
print(halionSonicSubPresetPath)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getUserPresetPath.html">getUserPresetPath</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getvoices"><a class="header" href="#getvoices">getVoices</a></h1>
<blockquote>
<p><strong>getVoices()</strong></p>
</blockquote>
<h2 id="description-210"><a class="header" href="#description-210">Description</a></h2>
<p>Function to retrieve the maximum number of voices of the plug-in instance as set in the <strong>Options</strong> editor.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-134"><a class="header" href="#return-values-134">Return Values</a></h2>
<p>Returns the maximum number of voices of the plug-in instance.</p>
<h2 id="example-213"><a class="header" href="#example-213">Example</a></h2>
<pre><code class="language-lua">-- Print the maximum number of voices.

function onNote(event)
    print("Maximum Number of Voices: "..getVoices())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getFreeVoices.html">getFreeVoices</a>, <a href="HALion-Script/pages/./getUsedVoices.html">getUsedVoices</a>, <a href="HALion-Script/pages/./getUsedVoicesOfSlot.html">getUsedVoicesOfSlot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="getzone-1"><a class="header" href="#getzone-1">getZone</a></h1>
<blockquote>
<p><strong>getZone(nameOrPosition)</strong></p>
</blockquote>
<h2 id="description-211"><a class="header" href="#description-211">Description</a></h2>
<p>Function to retrieve the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of a zone in the specified layer. For example, <code>this.parent</code> defines the parent layer of the script module as the layer to be searched in. This function does not search in sublayers. A particular zone can be searched by name or position. The position is the number indexing the zones in the specified layer. If several zones share the same name, only the first match will be returned. If no argument is set, the function returns the first zone it finds.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-148"><a class="header" href="#arguments-148">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrPosition</strong></td><td style="text-align: left">The name or position of the zone. Set this to <code>nil</code> to deactivate the search filter.</td><td style="text-align: left">string or number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-135"><a class="header" href="#return-values-135">Return Values</a></h2>
<p>Returns the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the found zone. Returns <code>nil</code> if no zone is found.</p>
<h2 id="example-214"><a class="header" href="#example-214">Example</a></h2>
<pre><code class="language-lua">-- Get the first zone in the program and print its name.

zone = this.program:getZone()
 
if zone then
    print(zone.name)
else
    print("Could not find a zone!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getBus.html">getBus</a>, <a href="HALion-Script/pages/./getChild.html">getChild</a>, <a href="HALion-Script/pages/./getEffect.html">getEffect</a>, <a href="HALion-Script/pages/./getLayer.html">getLayer</a>, <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a>, <a href="HALion-Script/pages/./getSlot.html">getSlot</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="hasparameter-1"><a class="header" href="#hasparameter-1">hasParameter</a></h1>
<blockquote>
<p><strong>hasParameter(nameOrID)</strong></p>
</blockquote>
<h2 id="description-212"><a class="header" href="#description-212">Description</a></h2>
<p>Function to check if a parameter exists. The parameter can be determined by name or ID.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-149"><a class="header" href="#arguments-149">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-136"><a class="header" href="#return-values-136">Return Values</a></h2>
<p>Returns <code>true</code> if the parameter exists or <code>false</code> if not.</p>
<h2 id="example-215"><a class="header" href="#example-215">Example</a></h2>
<pre><code class="language-lua">-- Check if the elements in the Program Tree have filter cutoff.

function onLoadIntoSlot()
    childs = this.program:findChildren(true)
    for i, child in ipairs(childs) do
        if child:hasParameter("Filter.Cutoff") then
            print(child.name.." has filter cutoff.")
        else
            print(child.name.." has no filter cutoff.")
        end
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./setParameter.html">setParameter</a>, <a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>, <a href="HALion-Script/pages/./setParameterNormalized.html">setParameterNormalized</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertbus-1"><a class="header" href="#insertbus-1">insertBus</a></h1>
<blockquote>
<p><strong>insertBus(bus, position)</strong></p>
</blockquote>
<h2 id="description-213"><a class="header" href="#description-213">Description</a></h2>
<p>Function to insert a bus at the specified position in the destination layer. The bus to be inserted is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the bus. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> sets the parent layer of the script module as destination layer. The position is the number indexing the existing busses in the destination layer. The new bus will be inserted before the specified position. To add the bus at the end, use <a href="HALion-Script/pages/./appendBus.html">appendBus</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-150"><a class="header" href="#arguments-150">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the bus is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-216"><a class="header" href="#example-216">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert the bus from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first bus from the loaded program.
bus = loadedProgram:getBus()
  
-- Insert the bus.
if bus then
    this.program:insertBus(bus, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>, <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>, <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>, <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>, <a href="HALion-Script/pages/./insertZone.html">insertZone</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="inserteffect-1"><a class="header" href="#inserteffect-1">insertEffect</a></h1>
<blockquote>
<p><strong>insertEffect(effect, position)</strong></p>
</blockquote>
<h2 id="description-214"><a class="header" href="#description-214">Description</a></h2>
<p>Function to insert an effect at a specific position in a destination bus. The effect to be inserted is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the effect. The destination bus is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the destination bus. The position is the number indexing the effects in the destination bus. The new effect will be inserted before the specified position. To add the effect at the end, use <a href="HALion-Script/pages/./appendEffect.html">appendEffect</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-151"><a class="header" href="#arguments-151">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>effect</strong></td><td style="text-align: left">The element object of the effect that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the effect is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-217"><a class="header" href="#example-217">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert an effect from Program.vstpreset into the current program.
  
-- Get the file path for user VST presets.
path = getUserPresetPath()
  
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Get the first effect from the loaded program.
effect = loadedProgram:getBus():getEffect()
 
-- Get the first bus of this program.
bus = this.program:getBus()
 
-- Insert the effect.
if (effect and bus) then
   bus:insertEffect(effect, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertBus.html">insertBus</a>, <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>, <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>, <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>, <a href="HALion-Script/pages/./insertZone.html">insertZone</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertenvelopepoint"><a class="header" href="#insertenvelopepoint">insertEnvelopePoint</a></h1>
<blockquote>
<p><strong>insertEnvelopePoint(envelopeArray, index, level, duration, curve)</strong></p>
</blockquote>
<h2 id="description-215"><a class="header" href="#description-215">Description</a></h2>
<p>Function to insert an envelope point in the specified envelope. You specify the envelope by calling <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter of the desired envelope as argument. If you call <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter as argument, an array with the current envelope points will be returned. Each index of the array represents an envelope point with the fields <code>.level</code>, <code>.duration</code> and <code>.curve</code>. The insertEnvelopePoint function modifies this array. To apply the changes, you must use <a href="HALion-Script/pages/./setParameter.html">setParameter</a> with the EnvelopePoints parameter of the envelope as argument and the array as value.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-152"><a class="header" href="#arguments-152">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>envelopeArray</strong></td><td style="text-align: left">An array with envelope points. Each index of the array represents an envelope point with the fields <code>.level</code>, <code>.duration</code> and <code>.curve</code>. To obtain the envelope array of an envelope, use <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter of the desired envelope as argument.</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the point where the new point will be inserted. The new point will be inserted before this point.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>level</strong></td><td style="text-align: left">The level of the new point in the range from 0 to 1  for the filter and amplitude envelope or -1 to 1 for the pitch and user envelope.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">The duration of the new point in the range from 0 to 30 seconds. The duration of the first point is always 0 seconds.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">The curve of the new point in the range from -1 to 1.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-218"><a class="header" href="#example-218">Example</a></h2>
<pre><code class="language-lua"> -- Reset the amplitude envelope.
  
-- Default envelope times in seconds.

attack = 0
decay = 1
sustain = 1
release = 1
  
zone = this.program:getZone()
  
-- Get the envelope points of the amplitude envelope.

ampEnvPoints = zone:getParameter("Amp Env.EnvelopePoints")
ampSustainPoint = zone:getParameter("Amp Env.SustainIndex")
  
-- Set the envelope points to 4.

while #ampEnvPoints &gt; 4 do
    removeEnvelopePoint(ampEnvPoints, #ampEnvPoints)
end
 
while #ampEnvPoints &lt; 4 do
    insertEnvelopePoint(ampEnvPoints, #ampEnvPoints, 0, 1, 0)
end
  
-- Adjust the position of the sustain point.

ampSustainPoint = #ampEnvPoints - 1
  
-- Set first point.

ampEnvPoints[1].level = 0
ampEnvPoints[1].duration = 0
ampEnvPoints[1].curve = 0
  
-- Set second point.

ampEnvPoints[2].level = 1
ampEnvPoints[2].duration = attack
ampEnvPoints[2].curve = 0
  
-- Set third point.

ampEnvPoints[3].level = sustain
ampEnvPoints[3].duration = decay
ampEnvPoints[3].curve = 0
  
-- Set fourth point.

ampEnvPoints[4].level = 0
ampEnvPoints[4].duration = release
ampEnvPoints[4].curve = 0
  
-- Set the envelope points of the amplitude envelope.

zone:setParameter("Amp Env.EnvelopePoints", ampEnvPoints)
zone:setParameter("Amp Env.SustainIndex", ampSustainPoint)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./removeEnvelopePoint.html">removeEnvelopePoint</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertevent"><a class="header" href="#insertevent">insertEvent</a></h1>
<blockquote>
<p><strong>insertEvent(eventsTable, event)</strong></p>
</blockquote>
<h2 id="description-216"><a class="header" href="#description-216">Description</a></h2>
<p>Function to insert an event in the specified events table according to its PPQ position. The events table is part of a tracks table which is part of the MIDI sequence table. See <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a> for details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-153"><a class="header" href="#arguments-153">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>eventsTable</strong></td><td style="text-align: left">The table record referencing the events table.</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left">The Event object to be inserted.</td><td style="text-align: left">Event</td></tr>
</tbody></table>
</div>
<h2 id="example-219"><a class="header" href="#example-219">Example</a></h2>
<pre><code class="language-lua">-- Produce a minor scale and write it to a MIDI file.
 
-- Create the MIDI sequence table.

midiSequence = { tracks = { { events = {} } } }
 
-- Initialize variables.

minorScaleIntervals = { 0, 2, 3, 5, 7, 8, 10, 12 }
root = 60  -- C3
ppqPosition = 0
 
-- Produce the events of the minor scale.

for i, interval in ipairs(minorScaleIntervals) do
 
    local note = root + interval
 
    -- Create note-on event.

    local noteOn = Event(EventType.noteOn)
    noteOn.note = note
    noteOn.velocity = 100
    noteOn.ppqPosition = ppqPosition
 
    -- Create note-off event.

    local noteOff = Event(EventType.noteOff)
    noteOff.note = note
    noteOff.ppqPosition = ppqPosition + 1
 
    -- Insert the events in the MIDI sequence table.

    insertEvent(midiSequence.tracks[1].events, noteOn)
    insertEvent(midiSequence.tracks[1].events, noteOff)
 
    ppqPosition = ppqPosition + 1
 
end
 
-- Write the MIDI sequence table as .mid file to disk.

saveState = writeMidiFile ("c:/temp/test.mid", midiSequence) --[[ Please set the file path to the desired
                                                                  location on your system before you run
                                                                  the script. ]]
 
if saveState then
    print("The MIDI file was successfully written.")
else
    print("The MIDI file could not be written!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>, <a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>, <a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>, <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>, <a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertlayer-1"><a class="header" href="#insertlayer-1">insertLayer</a></h1>
<blockquote>
<p><strong>insertLayer(layer, position)</strong></p>
</blockquote>
<h2 id="description-217"><a class="header" href="#description-217">Description</a></h2>
<p>Function to insert a layer at a specific position in a destination layer. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing layers in the destination layer. The new layer will be inserted before the specified position. To add the layer at the end, use <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a> or <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-154"><a class="header" href="#arguments-154">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The Layer object of the layer that you want to insert.</td><td style="text-align: left">Layer</td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the layer is to be inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-220"><a class="header" href="#example-220">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a layer from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first layer from the loaded program.
layer = loadedProgram:getLayer ()
   
-- Insert the layer.
if layer then
    this.program:insertLayer(layer, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertBus.html">insertBus</a>, <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>, <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>, <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>, <a href="HALion-Script/pages/./insertZone.html">insertZone</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertlayerasync-1"><a class="header" href="#insertlayerasync-1">insertLayerAsync</a></h1>
<blockquote>
<p><strong>insertLayerAsync(layer, position, callback)</strong></p>
</blockquote>
<h2 id="description-218"><a class="header" href="#description-218">Description</a></h2>
<p>Function to insert a layer at a specified position in a destination layer using a separate, parallel thread. Inserting a layer in a separate thread can be necessary if the layer is too big to be inserted in a short time. The layer to be inserted and the destination layer are both determined by their <a href="HALion-Script/pages/./Layer.html">Layer</a> objects. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the layer to be inserted. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing layers in the destination layer. The new layer will be inserted before the specified position. To add the layer at the end, use <a href="HALion-Script/pages/./appendLayer.html">appendLayer</a> or <a href="HALion-Script/pages/./appendLayerAsync.html">appendLayerAsync</a> instead. The function returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object that can be used to monitor the load progress. After the layer is inserted, the callback function is called. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as default argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-155"><a class="header" href="#arguments-155">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Layer.html">Layer</a> object of the layer that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the layer is to be inserted.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called when the layer is inserted. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as argument.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-137"><a class="header" href="#return-values-137">Return Values</a></h2>
<p>Returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object.</p>
<h2 id="example-221"><a class="header" href="#example-221">Example</a></h2>
<pre><code class="language-lua">-- Start with an empty program, remove all existing layers.
layers = this.parent:findLayers()
 
if layers then
  for i, layer in ipairs(layers) do
      this.parent:removeLayer(layer)
  end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
  { name = "Ambient Pad 01", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
  { name = "Ambient Pad 02", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
  { name = "Ambient Pad 03", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
  { name = "Ambient Pad 04", path = "vstsound://EB86867EFF8E44FEA8FE366F676E25BE/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
 
-- Create a table with the preset names.
function getPresetNames()
  presetNames = {}
  for i, preset in ipairs(layerPresets) do
    presetNames[i] = preset.name
  end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
  local newPreset = progressInfo.root
  if oldPreset then
    this.parent:removeLayer(oldPreset)
    print(oldPreset.name.." removed.")
  end
  oldPreset = newPreset
end
 
-- Insert the preset in a separate thread.
function insertNewLayer(progressInfo)
  if progressInfo.root then
    this.parent:insertLayerAsync(progressInfo.root, 1, removeOldLayer)
    print("Inserting "..progressInfo.root.name.."...")
  end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged(layerPreset)
  loadPresetAsync(layerPreset.path, insertNewLayer)
  print("Loading "..layerPreset.name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset",  "Select Preset",  1, presetNames, function() onSelectPresetChanged(layerPresets[SelectPreset]) end)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertBus.html">insertBus</a>, <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>, <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>, <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>, <a href="HALion-Script/pages/./insertZone.html">insertZone</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertmidimodule-1"><a class="header" href="#insertmidimodule-1">insertMidiModule</a></h1>
<blockquote>
<p><strong>insertMidiModule(module, position)</strong></p>
</blockquote>
<h2 id="description-219"><a class="header" href="#description-219">Description</a></h2>
<p>Function to insert a MIDI module at the specified position in the determined destination layer. The MIDI module to be inserted is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the desired MIDI module. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing MIDI modules in the destination layer. The new MIDI module will be inserted before the specified position. To add the MIDI module at the end, use <a href="HALion-Script/pages/./appendMidiModule.html">appendMidiModule</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-156"><a class="header" href="#arguments-156">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>module</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the MIDI module that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the MIDI module is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-222"><a class="header" href="#example-222">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a MIDI module from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first MIDI module from the loaded program.
module = loadedProgram:getMidiModule()
   
-- Insert the MIDI module.
if module then
    this.program:insertMidiModule(module, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertBus.html">insertBus</a>, <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>, <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>, <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>, <a href="HALion-Script/pages/./insertZone.html">insertZone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="insertzone-1"><a class="header" href="#insertzone-1">insertZone</a></h1>
<blockquote>
<p><strong>insertZone(zone, position)</strong></p>
</blockquote>
<h2 id="description-220"><a class="header" href="#description-220">Description</a></h2>
<p>Function to insert a zone at the specified position in the determined layer. The zone to be inserted is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the desired zone. The destination layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object. For example, <code>this.parent</code> determines the parent layer of the script module as destination layer. The position is the number indexing the existing zones in the destination layer. The new zone will be inserted before the specified position. To add the zone at the end, use <a href="HALion-Script/pages/./appendZone.html">appendZone</a> instead.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance must be removed before it can be inserted again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be inserted freely, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-157"><a class="header" href="#arguments-157">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zone</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone that you want to insert.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
<tr><td style="text-align: left"><strong>position</strong></td><td style="text-align: left">The position where the zone is inserted.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-223"><a class="header" href="#example-223">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert a zone from Program.vstpreset into the current program.
   
-- Get the file path for user VST presets.
path = getUserPresetPath()
   
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
   
-- Get the first zone from the loaded program.
zone = loadedProgram:getZone()
   
-- Insert the zone.
if zone then
    this.program:insertZone(zone, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertBus.html">insertBus</a>, <a href="HALion-Script/pages/./insertEffect.html">insertEffect</a>, <a href="HALion-Script/pages/./insertLayer.html">insertLayer</a>, <a href="HALion-Script/pages/./insertLayerAsync.html">insertLayerAsync</a>, <a href="HALion-Script/pages/./insertMidiModule.html">insertMidiModule</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="iskeydown"><a class="header" href="#iskeydown">isKeyDown</a></h1>
<blockquote>
<p><strong>isKeyDown(note)</strong></p>
</blockquote>
<h2 id="description-221"><a class="header" href="#description-221">Description</a></h2>
<p>Function to detect whether a key with a specific note number is held or not.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-158"><a class="header" href="#arguments-158">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-138"><a class="header" href="#return-values-138">Return Values</a></h2>
<p>Returns <code>true</code> if the key with the specified note number is held and <code>false</code> if the key has been released. The note events must come from outside the script, e.g., from the host software or another MIDI module.</p>
<h2 id="example-224"><a class="header" href="#example-224">Example</a></h2>
<pre><code class="language-lua">-- Detect if a key is held.

function onNote(event)
    print("Note-on:")
    print("Note# "..event.note..", "..tostring(isKeyDown(event.note)))
    print("Note# "..(event.note + 12)..", "..tostring(isKeyDown(event.note + 12)).."\n")
end
 
function onRelease(event)
    print("Note-off:")
    print("Note# "..event.note..", "..tostring(isKeyDown(event.note)))
    print("Note# "..(event.note + 12)..", "..tostring(isKeyDown(event.note + 12)).."\n")
end

function onRetrigger(event)
    print("Note-retrigger:")
    print("Note# "..event.note..", "..tostring(isKeyDown(event.note)))
    print("Note# "..(event.note + 12)..", "..tostring(isKeyDown(event.note + 12)).."\n")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./isOctaveKeyDown.html">isOctaveKeyDown</a>, <a href="HALion-Script/pages/./isNoteHeld.html">isNoteHeld</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="isnoteheld"><a class="header" href="#isnoteheld">isNoteHeld</a></h1>
<blockquote>
<p><strong>isNoteHeld()</strong></p>
</blockquote>
<h2 id="description-222"><a class="header" href="#description-222">Description</a></h2>
<p>Function to detect inside the <a href="HALion-Script/pages/./onNote.html">onNote</a> callback function if a note is held or not.</p>
<blockquote>
<p>❕ isNoteHeld is specific to the <a href="HALion-Script/pages/./onNote.html">onNote</a> callback function. Calling this function inside other callback functions is not permitted.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-139"><a class="header" href="#return-values-139">Return Values</a></h2>
<p>Returns <code>true</code> if <a href="HALion-Script/pages/./onNote.html">onNote</a> has received a note-on event and <code>false</code> if <a href="HALion-Script/pages/./onNote.html">onNote</a> has received a corresponding note-off event. The note events must come from outside the script, e.g., from the host software or another MIDI module.</p>
<h2 id="example-225"><a class="header" href="#example-225">Example</a></h2>
<pre><code class="language-lua">-- Detect inside onNote, if a note is held.

function onNote(event)
    print("Note #: "..event.note..", "..tostring(isNoteHeld()))
    waitForRelease()
    print("Note #: "..event.note..", "..tostring(isNoteHeld()))
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./isKeyDown.html">isKeyDown</a>, <a href="HALion-Script/pages/./isOctaveKeyDown.html">isOctaveKeyDown</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="isoctavekeydown"><a class="header" href="#isoctavekeydown">isOctaveKeyDown</a></h1>
<blockquote>
<p><strong>isOctaveKeyDown(note)</strong></p>
</blockquote>
<h2 id="description-223"><a class="header" href="#description-223">Description</a></h2>
<p>Function to detect whether a key is held or not, regardless of the octave.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-159"><a class="header" href="#arguments-159">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>note</strong></td><td style="text-align: left">The note number which specifies the key in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-140"><a class="header" href="#return-values-140">Return Values</a></h2>
<p>Returns <code>true</code> if the specified key is held, no matter in which octave. The function returns <code>false</code> if the specified key and any octave keys have been released. The note events must come from outside the script, e.g., from the host software or another MIDI module.</p>
<h2 id="example-226"><a class="header" href="#example-226">Example</a></h2>
<pre><code class="language-lua">-- Detect whether a key is held, no matter in which octave.

function onNote(event)
    print("Note-on:")
    print("Note #: "..event.note..", "..tostring(isOctaveKeyDown(event.note)))
    print("Note #: "..(event.note+7)..", "..tostring(isOctaveKeyDown(event.note+7)))
    print("Note #: "..(event.note + 12)..", "..tostring(isOctaveKeyDown(event.note + 12)).."\n")
end
 
function onRelease(event)
    print("Note-off:")
    print("Note #: "..event.note..", "..tostring(isOctaveKeyDown(event.note)))
    print("Note #: "..(event.note+7)..", "..tostring(isOctaveKeyDown(event.note+7)))
    print("Note #: "..(event.note + 12)..", "..tostring(isOctaveKeyDown(event.note + 12)).."\n")
end

function onRetrigger(event)
    print("Note-retrigger:")
    print("Note #: "..event.note..", "..tostring(isOctaveKeyDown(event.note)))
    print("Note #: "..(event.note+7)..", "..tostring(isOctaveKeyDown(event.note+7)))
    print("Note #: "..(event.note + 12)..", "..tostring(isOctaveKeyDown(event.note + 12)).."\n")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./isKeyDown.html">isKeyDown</a>, <a href="HALion-Script/pages/./isNoteHeld.html">isNoteHeld</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="isplaying"><a class="header" href="#isplaying">isPlaying</a></h1>
<blockquote>
<p><strong>isPlaying()</strong></p>
</blockquote>
<h2 id="description-224"><a class="header" href="#description-224">Description</a></h2>
<p>Function to detect whether the host is in playback.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="return-values-141"><a class="header" href="#return-values-141">Return Values</a></h2>
<p>Returns <code>true</code> if the host is in playback and <code>false</code> if not.</p>
<h2 id="example-227"><a class="header" href="#example-227">Example</a></h2>
<pre><code class="language-lua">-- Detect if the host is in playback.

function onNote(event)
    if isPlaying() then
        print("Playback is running.")
    else
        print("Playback is stopped.")
    end
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="layer-constructor-1"><a class="header" href="#layer-constructor-1">Layer Constructor</a></h1>
<blockquote>
<p><strong>Layer()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-225"><a class="header" href="#description-225">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Layer.html">Layer</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-142"><a class="header" href="#return-values-142">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Layer.html">Layer</a> object.</p>
<h2 id="example-228"><a class="header" href="#example-228">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="loadpreset"><a class="header" href="#loadpreset">loadPreset</a></h1>
<blockquote>
<p><strong>loadPreset(path)</strong></p>
</blockquote>
<h2 id="description-226"><a class="header" href="#description-226">Description</a></h2>
<p>Function to load the elements of a VST preset. Depending on whether you load a layer, program or multi-program VST preset, the function returns either an <a href="HALion-Script/pages/./Element.html">Element</a> object of the type <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Program.html">Program</a> or <a href="HALion-Script/pages/./Instance.html">Instance</a>. You can use the returned <a href="HALion-Script/pages/./Element.html">Element</a> object to insert layers, zones, MIDI modules, busses, effects, etc. from the VST preset into the program or HALion instance where the script is executed.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-160"><a class="header" href="#arguments-160">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>path</strong></td><td style="text-align: left">The path and file name of the VST preset.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-143"><a class="header" href="#return-values-143">Return Values</a></h2>
<p>Returns an <a href="HALion-Script/pages/./Element.html">Element</a> object of the type <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Program.html">Program</a> or <a href="HALion-Script/pages/./Instance.html">Instance</a>, depending on whether a layer, program or multi-program VST preset was loaded.</p>
<h2 id="example-229"><a class="header" href="#example-229">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Layer.vstpreset">Layer.vstpreset</a>.</li>
<li>Drag the preset on the MediaBay to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Insert Layer.vstpreset as sublayer into the current program.
 
-- Get the file path for user VST presets.
path = getUserPresetPath()
 
-- Load the VST preset
layer = loadPreset(path.."/Layer/Layer.vstpreset")
 
program = this.program
 
-- Insert the previously loaded VST preset as sublayer.
if layer then
    program:insertLayer(layer, 1)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="loadpresetasync"><a class="header" href="#loadpresetasync">loadPresetAsync</a></h1>
<blockquote>
<p><strong>loadPresetAsync(path, callback)</strong></p>
</blockquote>
<h2 id="description-227"><a class="header" href="#description-227">Description</a></h2>
<p>Function to load the elements of a VST preset in a separate, parallel thread. Loading the VST preset in a separate thread can be necessary if the preset is too big to be loaded in a short time. The function returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object that can be used to get information on the load progress and the loaded elements, for example. After the preset is loaded, the callback function is called. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as default argument.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-161"><a class="header" href="#arguments-161">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>path</strong></td><td style="text-align: left">The path and file name of the VST preset.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>callback</strong></td><td style="text-align: left">Callback function that is called after the preset is loaded. The callback function gets the <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object as argument.</td><td style="text-align: left">function, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-144"><a class="header" href="#return-values-144">Return Values</a></h2>
<p>Returns a <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a> object.</p>
<h2 id="example-230"><a class="header" href="#example-230">Example</a></h2>
<pre><code class="language-lua">-- Start with an empty program, remove any existing layers.

layers = this.parent:findLayers()
 
if layers then
   for i, layer in ipairs(layers) do
       this.parent:removeLayer(layer)
   end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
   { name = "Ambient Pad 01", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
   { name = "Ambient Pad 02", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
   { name = "Ambient Pad 03", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
   { name = "Ambient Pad 04", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
-- Create a table with the preset names.
function getPresetNames()
   presetNames = {}
   for i, preset in ipairs(layerPresets) do
       presetNames[i] = preset.name
   end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
   local newPreset = progressInfo.root
   if oldPreset then
       this.parent:removeLayer(oldPreset)
       print(oldPreset.name.." removed.")
   end
   oldPreset = newPreset
end
 
-- Append the preset in a separate thread.
function appendNewLayer(progressInfo)
   if progressInfo.root then
       this.parent:appendLayerAsync(progressInfo.root, removeOldLayer)
       print("Appending "..progressInfo.root.name.."...")
   end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged()
   progress = 0
   progressInf = loadPresetAsync(layerPresets[SelectPreset].path, appendNewLayer)
   print("Loading "..layerPresets[SelectPreset].name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset", "Select Preset", 1, presetNames, onSelectPresetChanged)
 
-- Monitor the load progress with onIdle.
progress = 1
function onIdle()
   if progress &lt; 1 then
       progress = progressInf.progress
       print("Progress: "..(progressInf.progress * 100).."%")
   end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a>, <a href="HALion-Script/pages/./LoadProgress.html">LoadProgress</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="messagebox"><a class="header" href="#messagebox">messageBox</a></h1>
<blockquote>
<p><strong>messageBox(stringOrConfigTable)</strong></p>
</blockquote>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/messageBox.html#description">Description</a></li>
<li><a href="HALion-Script/pages/messageBox.html#arguments">Arguments</a></li>
<li><a href="HALion-Script/pages/messageBox.html#configuration-table">Configuration Table</a></li>
<li><a href="HALion-Script/pages/messageBox.html#return-values">Return Values</a></li>
<li><a href="HALion-Script/pages/messageBox.html#message-box-types">Message Box Types</a></li>
<li><a href="HALion-Script/pages/messageBox.html#message-box-results">Message Box Results</a></li>
<li><a href="HALion-Script/pages/messageBox.html#example">Example</a></li>
</ul>
<hr />
<h2 id="description-228"><a class="header" href="#description-228">Description</a></h2>
<p>Function to open a modal message box. If the argument is a single string, the text will be displayed in the default message box. Alternatively, you can customize the message box by using a configuration table, e.g., if you want to display the text with a warning icon.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-162"><a class="header" href="#arguments-162">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>stringOrConfigTable</strong></td><td style="text-align: left">The message as a string or the configuration table that customizes the message box.</td><td style="text-align: left">string or table</td></tr>
</tbody></table>
</div>
<h2 id="configuration-table"><a class="header" href="#configuration-table">Configuration Table</a></h2>
<p>The message box can be configured by creating a table with the following fields:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of the message box defines which icon will be displayed. It can be determined via names or indices. The default is <code>MessageBoxType.information</code>.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>.text</strong></td><td style="text-align: left">The text that will be displayed.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.button1</strong></td><td style="text-align: left">This button is always displayed. The default string is "OK".</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>.button2</strong></td><td style="text-align: left">This button will only be displayed if you assign a string to this field.</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>.button3</strong></td><td style="text-align: left">This button will only be displayed if you assign a string to this field.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-145"><a class="header" href="#return-values-145">Return Values</a></h2>
<p>Returns the result of the message box, i.e., which action closed the message box, as a number.</p>
<h2 id="message-box-types"><a class="header" href="#message-box-types">Message Box Types</a></h2>
<p>Enumerator to identify the types of the message box. The type of the message box also defines which icon will be displayed.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">MessageBoxType.warning</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">MessageBoxType.question</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">MessageBoxType.information</td></tr>
</tbody></table>
</div>
<h2 id="message-box-results"><a class="header" href="#message-box-results">Message Box Results</a></h2>
<p>Enumerator to identify the results of the message box.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">MessageBoxResult.escape</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">MessageBoxResult.button1</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">MessageBoxResult.button2</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">MessageBoxResult.button3</td></tr>
</tbody></table>
</div>
<h2 id="example-231"><a class="header" href="#example-231">Example</a></h2>
<pre><code class="language-lua">-- Customized message box.

myMessage = {}
  
myMessage.type = MessageBoxType.question
myMessage.text = "Click the button with the correct answer!\n1 + 1 = ?"
myMessage.button1 = "1"
myMessage.button2 = "2"
myMessage.button3 = "3"
  
repeat
    result = messageBox(myMessage)
until result == MessageBoxResult.button2 or result == MessageBoxResult.escape
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="midi-file-format-types"><a class="header" href="#midi-file-format-types">MIDI File Format Types</a></h1>
<h2 id="description-229"><a class="header" href="#description-229">Description</a></h2>
<p>Enumerator to identify the different MIDI file formats.</p>
<ul>
<li>Format 0: The data is stored in one single multi-channel track.</li>
<li>Format 1: The data is stored in separate tracks to be played simultaneously.</li>
</ul>
<p>MidiFileFormat.singleMultiChannelTrack refers to format 0 and MidiFileFormat.simultaneousTracks to format 1.</p>
<blockquote>
<p>❕ Format 2 is seldomly used and therefore not supported.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="midi-file-format-types-1"><a class="header" href="#midi-file-format-types-1">MIDI File Format Types</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">MidiFileFormat.singleMultiChannelTrack</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">MidiFileFormat.simultaneousTracks</td></tr>
</tbody></table>
</div>
<h2 id="example-232"><a class="header" href="#example-232">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../mid/Format%200.mid">Format 0.mid</a> and <a href="HALion-Script/pages/../mid/Format%201.mid">Format 1.mid</a>.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and adjust the file path of readMidiFile to the location of the files on your system.</li>
<li>Execute the script.</li>
</ol>
<pre><code class="language-lua">-- Detect the format of the MIDI files.

midiseq = {}

midiseq[1] = readMidiFile("c:/temp/Format 0.mid")
midiseq[2] = readMidiFile("c:/temp/Format 1.mid") --[[ please set the file path to the location
                                                       of the files on your system before you run
                                                       the script ]]
 
for i, seq in ipairs(midiseq) do
    if seq.format == MidiFileFormat.singleMultiChannelTrack then
        print(seq.songname..".mid has MIDI file format 0.")
    elseif seq.format == MidiFileFormat.simultaneousTracks then
        print(seq.songname..".mid has MIDI file format 1.")
    else
        print("Midi file format of "..seq.songname.." not supported!")
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>, <a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>, <a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>, <a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>, <a href="HALion-Script/pages/./sortEvents.html">sortEvents</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="midimodule-constructor-1"><a class="header" href="#midimodule-constructor-1">MidiModule Constructor</a></h1>
<blockquote>
<p><strong>MidiModule(type)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-230"><a class="header" href="#description-230">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the specified type.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-163"><a class="header" href="#arguments-163">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>type</strong></td><td style="text-align: left">The type of MIDI module.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-146"><a class="header" href="#return-values-146">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object of the specified type.</p>
<h2 id="example-233"><a class="header" href="#example-233">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="midi-sequence-table"><a class="header" href="#midi-sequence-table">MIDI Sequence Table</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/MIDI-Sequence-Table.html#description">Description</a></li>
<li><a href="HALion-Script/pages/MIDI-Sequence-Table.html#midi-sequence-fields">MIDI Sequence Fields</a></li>
<li><a href="HALion-Script/pages/MIDI-Sequence-Table.html#signature-table">Signature Table</a></li>
<li><a href="HALion-Script/pages/MIDI-Sequence-Table.html#tracks-table">Tracks Table</a></li>
<li><a href="HALion-Script/pages/MIDI-Sequence-Table.html#example">Example</a></li>
</ul>
<hr />
<h2 id="description-231"><a class="header" href="#description-231">Description</a></h2>
<p>MIDI Files are managed through a special predefined table: the MIDI sequence table. This table allows you to change values and add or remove notes like with normal Lua tables, but the structure of that table must remain as defined below.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="midi-sequence-fields"><a class="header" href="#midi-sequence-fields">MIDI Sequence Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.format</strong></td><td style="text-align: left">The MIDI file format. It can be determined via names or indices.<ul><li>MidiFileFormat.singleMultiChannelTrack or 0 = Format 0 (one single multi-channel track)</li><li>MidiFileFormat.simultaneousTracks or 1 = Format 1 (one or more tracks to be played simultaneously)</li></ul>The default is format 0. See MIDI File Format Types for details.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>.smpteformat</strong></td><td style="text-align: left">The SMPTE format.<ul><li>0 = Ticks per beat</li><li>-24 = Ticks per frame at 24 frames per second</li><li>-25 = Ticks per frame at 25 frames per second.</li><li>-29 = Ticks per frame at 30 frames per second, drop frame.</li><li>-30 = Ticks per frame at 30 frames per second, non-drop frame.</li></ul>The default format is 0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.division</strong></td><td style="text-align: left">Specifies the ticks used for the SMPTE format. The default is 480 ticks.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tempo</strong></td><td style="text-align: left">The original tempo in beats per minute. The default is 120 BPM.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.signature</strong></td><td style="text-align: left">The time signature of the MIDI file as a table. Numerator and denominator are separate fields of that table (see Signature Table below).</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>.songname</strong></td><td style="text-align: left">The name of the song.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.tracks</strong></td><td style="text-align: left">The tracks of the MIDI file as an array with the index starting at 1. Name, channel and event are separate fields of that table (see Tracks Table below).</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h2 id="signature-table"><a class="header" href="#signature-table">Signature Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.numerator</strong></td><td style="text-align: left">The numerator of the time signature. The default is 4.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.denominator</strong></td><td style="text-align: left">The denominator of the time signature. The default is 4.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="tracks-table"><a class="header" href="#tracks-table">Tracks Table</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.name</strong></td><td style="text-align: left">The name of the track.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>.channel</strong></td><td style="text-align: left">The MIDI channel of the track. The default is 1.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.events</strong></td><td style="text-align: left">The events of the track as an array with the index starting at 1. The events are stored as Event objects.</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h2 id="example-234"><a class="header" href="#example-234">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../mid/C%20Major%20Scale.mid">C Major Scale.mid.</a></li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and adjust the file path of readMidiFile to the location of the file on your system.</li>
<li>Execute the script.</li>
</ol>
<pre><code class="language-lua">-- Read information from a MIDI file.

midiseq = readMidiFile("c:/temp/C Major Scale.mid") --[[ please set the file path to the location
                                                         of the file on your system before you run
                                                         the script ]]
-- Information from the header chunk.

print("Standard MIDI File Format:", midiseq.format)
print("SMPTE:", midiseq.smpteformat)
print("Division:", midiseq.division)
 
-- Information from the track chunk.

print("Tempo:", midiseq.tempo)
print("Signature:", midiseq.signature.numerator, "/", midiseq.signature.denominator)
print("Song Name:", midiseq.songname)
print("Number of Tracks:", #midiseq.tracks)
print("Name of 1st Track:", midiseq.tracks[1].name)
print("Channel of 1st Track:", midiseq.tracks[1].channel)
print("Number of Events in 1st Track", #midiseq.tracks[1].events, "\n")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>, <a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>, <a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>, <a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>, <a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="modulation-destination-types"><a class="header" href="#modulation-destination-types">Modulation Destination Types</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Modulation-Destination-Types.html#description">Description</a></li>
<li><a href="HALion-Script/pages/Modulation-Destination-Types.html#example">Example</a></li>
</ul>
<hr />
<h2 id="description-232"><a class="header" href="#description-232">Description</a></h2>
<p>Enumerator to identify the modulation destinations.</p>
<p><strong>Available in:</strong> Controller.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Destination</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">ModulationDestination.unassigned</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">ModulationDestination.pitch</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">ModulationDestination.cutoff</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">ModulationDestination.resonance</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">ModulationDestination.distortion</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">ModulationDestination.morphX</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">ModulationDestination.morphY</td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">ModulationDestination.cutoffOffset</td></tr>
<tr><td style="text-align: left">8</td><td style="text-align: left">ModulationDestination.resonanceOffset</td></tr>
<tr><td style="text-align: left">9</td><td style="text-align: left">ModulationDestination.level</td></tr>
<tr><td style="text-align: left">10</td><td style="text-align: left">ModulationDestination.volume1</td></tr>
<tr><td style="text-align: left">11</td><td style="text-align: left">ModulationDestination.volume2</td></tr>
<tr><td style="text-align: left">12</td><td style="text-align: left">ModulationDestination.pan</td></tr>
<tr><td style="text-align: left">13</td><td style="text-align: left">ModulationDestination.sampleStart</td></tr>
<tr><td style="text-align: left">14</td><td style="text-align: left">ModulationDestination.speedFactor</td></tr>
<tr><td style="text-align: left">15</td><td style="text-align: left">ModulationDestination.formantShift</td></tr>
<tr><td style="text-align: left">16</td><td style="text-align: left">ModulationDestination.grainPosition</td></tr>
<tr><td style="text-align: left">17</td><td style="text-align: left">ModulationDestination.grainDirection</td></tr>
<tr><td style="text-align: left">18</td><td style="text-align: left">ModulationDestination.grainDuration</td></tr>
<tr><td style="text-align: left">19</td><td style="text-align: left">ModulationDestination.grainLength</td></tr>
<tr><td style="text-align: left">20</td><td style="text-align: left">ModulationDestination.grainPitch</td></tr>
<tr><td style="text-align: left">21</td><td style="text-align: left">ModulationDestination.grainFormant</td></tr>
<tr><td style="text-align: left">22</td><td style="text-align: left">ModulationDestination.grainLevel</td></tr>
<tr><td style="text-align: left">23</td><td style="text-align: left">ModulationDestination.osc1Pitch</td></tr>
<tr><td style="text-align: left">24</td><td style="text-align: left">ModulationDestination.osc1Level</td></tr>
<tr><td style="text-align: left">25</td><td style="text-align: left">ModulationDestination.osc1Waveform</td></tr>
<tr><td style="text-align: left">26</td><td style="text-align: left">ModulationDestination.osc1MultiDetune</td></tr>
<tr><td style="text-align: left">27</td><td style="text-align: left">ModulationDestination.osc1MultiPan</td></tr>
<tr><td style="text-align: left">28</td><td style="text-align: left">ModulationDestination.osc1MultiVoices</td></tr>
<tr><td style="text-align: left">29</td><td style="text-align: left">ModulationDestination.osc2Pitch</td></tr>
<tr><td style="text-align: left">30</td><td style="text-align: left">ModulationDestination.osc2Level</td></tr>
<tr><td style="text-align: left">31</td><td style="text-align: left">ModulationDestination.osc2Waveform</td></tr>
<tr><td style="text-align: left">32</td><td style="text-align: left">ModulationDestination.osc2MultiDetune</td></tr>
<tr><td style="text-align: left">33</td><td style="text-align: left">ModulationDestination.osc2MultiPan</td></tr>
<tr><td style="text-align: left">34</td><td style="text-align: left">ModulationDestination.osc2MultiVoices</td></tr>
<tr><td style="text-align: left">35</td><td style="text-align: left">ModulationDestination.osc3Pitch</td></tr>
<tr><td style="text-align: left">36</td><td style="text-align: left">ModulationDestination.osc3Level</td></tr>
<tr><td style="text-align: left">37</td><td style="text-align: left">ModulationDestination.osc3Waveform</td></tr>
<tr><td style="text-align: left">38</td><td style="text-align: left">ModulationDestination.osc3MultiDetune</td></tr>
<tr><td style="text-align: left">39</td><td style="text-align: left">ModulationDestination.osc3MultiPan</td></tr>
<tr><td style="text-align: left">40</td><td style="text-align: left">ModulationDestination.osc3MultiVoices</td></tr>
<tr><td style="text-align: left">41</td><td style="text-align: left">ModulationDestination.subOscLevel</td></tr>
<tr><td style="text-align: left">42</td><td style="text-align: left">ModulationDestination.ringModLevel</td></tr>
<tr><td style="text-align: left">43</td><td style="text-align: left">ModulationDestination.noiseLevel</td></tr>
<tr><td style="text-align: left">44</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">45</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">46</td><td style="text-align: left">ModulationDestination.lfo1Freq</td></tr>
<tr><td style="text-align: left">47</td><td style="text-align: left">ModulationDestination.lfo1Shape</td></tr>
<tr><td style="text-align: left">48</td><td style="text-align: left">ModulationDestination.lfo2Freq</td></tr>
<tr><td style="text-align: left">49</td><td style="text-align: left">ModulationDestination.lfo2Shape</td></tr>
<tr><td style="text-align: left">50</td><td style="text-align: left">ModulationDestination.ampEnvAttack</td></tr>
<tr><td style="text-align: left">51</td><td style="text-align: left">ModulationDestination.ampEnvDecay</td></tr>
<tr><td style="text-align: left">52</td><td style="text-align: left">ModulationDestination.ampEnvSustain</td></tr>
<tr><td style="text-align: left">53</td><td style="text-align: left">ModulationDestination.ampEnvRelease</td></tr>
<tr><td style="text-align: left">54</td><td style="text-align: left">ModulationDestination.filterEnvAttack</td></tr>
<tr><td style="text-align: left">55</td><td style="text-align: left">ModulationDestination.filterEnvDecay</td></tr>
<tr><td style="text-align: left">56</td><td style="text-align: left">ModulationDestination.filterEnvSustain</td></tr>
<tr><td style="text-align: left">57</td><td style="text-align: left">ModulationDestination.filterEnvRelease</td></tr>
<tr><td style="text-align: left">58</td><td style="text-align: left">ModulationDestination.pitchEnvStartLev</td></tr>
<tr><td style="text-align: left">59</td><td style="text-align: left">ModulationDestination.pitchEnvAttack</td></tr>
<tr><td style="text-align: left">60</td><td style="text-align: left">ModulationDestination.pitchEnvAttLev</td></tr>
<tr><td style="text-align: left">61</td><td style="text-align: left">ModulationDestination.pitchEnvDecay</td></tr>
<tr><td style="text-align: left">62</td><td style="text-align: left">ModulationDestination.pitchEnvSustain</td></tr>
<tr><td style="text-align: left">63</td><td style="text-align: left">ModulationDestination.pitchEnvRelease</td></tr>
<tr><td style="text-align: left">64</td><td style="text-align: left">ModulationDestination.pitchEnvRelLev</td></tr>
<tr><td style="text-align: left">65</td><td style="text-align: left">ModulationDestination.userEnvStartLev</td></tr>
<tr><td style="text-align: left">66</td><td style="text-align: left">ModulationDestination.userEnvAttack</td></tr>
<tr><td style="text-align: left">67</td><td style="text-align: left">ModulationDestination.userEnvAttLev</td></tr>
<tr><td style="text-align: left">68</td><td style="text-align: left">ModulationDestination.userEnvDecay</td></tr>
<tr><td style="text-align: left">69</td><td style="text-align: left">ModulationDestination.userEnvSustain</td></tr>
<tr><td style="text-align: left">70</td><td style="text-align: left">ModulationDestination.userEnvRelease</td></tr>
<tr><td style="text-align: left">71</td><td style="text-align: left">ModulationDestination.userEnvRelLev</td></tr>
<tr><td style="text-align: left">72</td><td style="text-align: left">ModulationDestination.stepModFreq</td></tr>
<tr><td style="text-align: left">73</td><td style="text-align: left">ModulationDestination.stepModSlope</td></tr>
<tr><td style="text-align: left">74</td><td style="text-align: left">ModulationDestination.bus1</td></tr>
<tr><td style="text-align: left">75</td><td style="text-align: left">ModulationDestination.bus2</td></tr>
<tr><td style="text-align: left">76</td><td style="text-align: left">ModulationDestination.bus3</td></tr>
<tr><td style="text-align: left">77</td><td style="text-align: left">ModulationDestination.bus4</td></tr>
<tr><td style="text-align: left">78</td><td style="text-align: left">ModulationDestination.bus5</td></tr>
<tr><td style="text-align: left">79</td><td style="text-align: left">ModulationDestination.bus6</td></tr>
<tr><td style="text-align: left">80</td><td style="text-align: left">ModulationDestination.bus7</td></tr>
<tr><td style="text-align: left">81</td><td style="text-align: left">ModulationDestination.bus8</td></tr>
<tr><td style="text-align: left">82</td><td style="text-align: left">ModulationDestination.bus9</td></tr>
<tr><td style="text-align: left">83</td><td style="text-align: left">ModulationDestination.bus10</td></tr>
<tr><td style="text-align: left">84</td><td style="text-align: left">ModulationDestination.bus11</td></tr>
<tr><td style="text-align: left">85</td><td style="text-align: left">ModulationDestination.bus12</td></tr>
<tr><td style="text-align: left">86</td><td style="text-align: left">ModulationDestination.bus13</td></tr>
<tr><td style="text-align: left">87</td><td style="text-align: left">ModulationDestination.bus14</td></tr>
<tr><td style="text-align: left">88</td><td style="text-align: left">ModulationDestination.bus15</td></tr>
<tr><td style="text-align: left">89</td><td style="text-align: left">ModulationDestination.bus16</td></tr>
<tr><td style="text-align: left">90</td><td style="text-align: left">ModulationDestination.xlfoRateX</td></tr>
<tr><td style="text-align: left">91</td><td style="text-align: left">ModulationDestination.xlfoRateY</td></tr>
<tr><td style="text-align: left">92</td><td style="text-align: left">ModulationDestination.audioIn</td></tr>
<tr><td style="text-align: left">93</td><td style="text-align: left">ModulationDestination.wavetable1Pitch</td></tr>
<tr><td style="text-align: left">94</td><td style="text-align: left">ModulationDestination.wavetable1Level</td></tr>
<tr><td style="text-align: left">95</td><td style="text-align: left">ModulationDestination.wavetable1Pan</td></tr>
<tr><td style="text-align: left">96</td><td style="text-align: left">ModulationDestination.wavetable1MultiDetune</td></tr>
<tr><td style="text-align: left">97</td><td style="text-align: left">ModulationDestination.wavetable1MultiPan</td></tr>
<tr><td style="text-align: left">98</td><td style="text-align: left">ModulationDestination.wavetable1MultiSpread</td></tr>
<tr><td style="text-align: left">99</td><td style="text-align: left">ModulationDestination.wavetable1MultiVoices</td></tr>
<tr><td style="text-align: left">100</td><td style="text-align: left">ModulationDestination.wavetable1Pos</td></tr>
<tr><td style="text-align: left">101</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">102</td><td style="text-align: left">ModulationDestination.wavetable1Dir</td></tr>
<tr><td style="text-align: left">103</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">104</td><td style="text-align: left">ModulationDestination.wavetable1Speed</td></tr>
<tr><td style="text-align: left">105</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">106</td><td style="text-align: left">ModulationDestination.wavetable2Pitch</td></tr>
<tr><td style="text-align: left">107</td><td style="text-align: left">ModulationDestination.wavetable2Level</td></tr>
<tr><td style="text-align: left">108</td><td style="text-align: left">ModulationDestination.wavetable2Pan</td></tr>
<tr><td style="text-align: left">109</td><td style="text-align: left">ModulationDestination.wavetable2MultiDetune</td></tr>
<tr><td style="text-align: left">110</td><td style="text-align: left">ModulationDestination.wavetable2MultiPan</td></tr>
<tr><td style="text-align: left">111</td><td style="text-align: left">ModulationDestination.wavetable2MultiSpread</td></tr>
<tr><td style="text-align: left">112</td><td style="text-align: left">ModulationDestination.wavetable2MultiVoices</td></tr>
<tr><td style="text-align: left">113</td><td style="text-align: left">ModulationDestination.wavetable2Pos</td></tr>
<tr><td style="text-align: left">114</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">115</td><td style="text-align: left">ModulationDestination.wavetable2Dir</td></tr>
<tr><td style="text-align: left">116</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">117</td><td style="text-align: left">ModulationDestination.wavetable2Speed</td></tr>
<tr><td style="text-align: left">118</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">119</td><td style="text-align: left">ModulationDestination.wavetableSubPitch</td></tr>
<tr><td style="text-align: left">120</td><td style="text-align: left">ModulationDestination.wavetableSubLevel</td></tr>
<tr><td style="text-align: left">121</td><td style="text-align: left">ModulationDestination.wavetableSubPan</td></tr>
<tr><td style="text-align: left">122</td><td style="text-align: left">ModulationDestination.wavetableNoiseSpeed</td></tr>
<tr><td style="text-align: left">123</td><td style="text-align: left">ModulationDestination.wavetableNoiseLevel</td></tr>
<tr><td style="text-align: left">124</td><td style="text-align: left">ModulationDestination.wavetableNoisePan</td></tr>
<tr><td style="text-align: left">125</td><td style="text-align: left">ModulationDestination.wavetable1FormantShift</td></tr>
<tr><td style="text-align: left">126</td><td style="text-align: left">ModulationDestination.wavetable2FormantShift</td></tr>
<tr><td style="text-align: left">[...]</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">150</td><td style="text-align: left">ModulationDestination.fmOp1Level</td></tr>
<tr><td style="text-align: left">151</td><td style="text-align: left">ModulationDestination.fmOp2Level</td></tr>
<tr><td style="text-align: left">152</td><td style="text-align: left">ModulationDestination.fmOp3Level</td></tr>
<tr><td style="text-align: left">153</td><td style="text-align: left">ModulationDestination.fmOp4Level</td></tr>
<tr><td style="text-align: left">154</td><td style="text-align: left">ModulationDestination.fmOp5Level</td></tr>
<tr><td style="text-align: left">155</td><td style="text-align: left">ModulationDestination.fmOp6Level</td></tr>
<tr><td style="text-align: left">156</td><td style="text-align: left">ModulationDestination.fmOp7Level</td></tr>
<tr><td style="text-align: left">157</td><td style="text-align: left">ModulationDestination.fmOp8Level</td></tr>
<tr><td style="text-align: left">158</td><td style="text-align: left">ModulationDestination.fmOp1Pitch</td></tr>
<tr><td style="text-align: left">159</td><td style="text-align: left">ModulationDestination.fmOp2Pitch</td></tr>
<tr><td style="text-align: left">160</td><td style="text-align: left">ModulationDestination.fmOp3Pitch</td></tr>
<tr><td style="text-align: left">161</td><td style="text-align: left">ModulationDestination.fmOp4Pitch</td></tr>
<tr><td style="text-align: left">162</td><td style="text-align: left">ModulationDestination.fmOp5Pitch</td></tr>
<tr><td style="text-align: left">163</td><td style="text-align: left">ModulationDestination.fmOp6Pitch</td></tr>
<tr><td style="text-align: left">164</td><td style="text-align: left">ModulationDestination.fmOp7Pitch</td></tr>
<tr><td style="text-align: left">165</td><td style="text-align: left">ModulationDestination.fmOp8Pitch</td></tr>
<tr><td style="text-align: left">166</td><td style="text-align: left">ModulationDestination.fmOp1TimeScale</td></tr>
<tr><td style="text-align: left">167</td><td style="text-align: left">ModulationDestination.fmOp2TimeScale</td></tr>
<tr><td style="text-align: left">168</td><td style="text-align: left">ModulationDestination.fmOp3TimeScale</td></tr>
<tr><td style="text-align: left">169</td><td style="text-align: left">ModulationDestination.fmOp4TimeScale</td></tr>
<tr><td style="text-align: left">170</td><td style="text-align: left">ModulationDestination.fmOp5TimeScale</td></tr>
<tr><td style="text-align: left">171</td><td style="text-align: left">ModulationDestination.fmOp6TimeScale</td></tr>
<tr><td style="text-align: left">172</td><td style="text-align: left">ModulationDestination.fmOp7TimeScale</td></tr>
<tr><td style="text-align: left">173</td><td style="text-align: left">ModulationDestination.fmOp8TimeScale</td></tr>
<tr><td style="text-align: left">174</td><td style="text-align: left">ModulationDestination.fmFeedback</td></tr>
<tr><td style="text-align: left">175</td><td style="text-align: left">ModulationDestination.fmModuatorLevel</td></tr>
<tr><td style="text-align: left">176</td><td style="text-align: left">ModulationDestination.fmModulatorTimeScale</td></tr>
<tr><td style="text-align: left">177</td><td style="text-align: left">ModulationDestination.fmCarrierTimeScale</td></tr>
<tr><td style="text-align: left">178</td><td style="text-align: left">ModulationDestination.spectralUnisonVoices</td></tr>
<tr><td style="text-align: left">179</td><td style="text-align: left">ModulationDestination.spectralUnisonDetune</td></tr>
<tr><td style="text-align: left">180</td><td style="text-align: left">ModulationDestination.spectralUnisonPan</td></tr>
<tr><td style="text-align: left">181</td><td style="text-align: left">ModulationDestination.spectralUnisonSpread</td></tr>
<tr><td style="text-align: left">182</td><td style="text-align: left">ModulationDestination.spectralPos</td></tr>
<tr><td style="text-align: left">183</td><td style="text-align: left">ModulationDestination.spectralDir</td></tr>
<tr><td style="text-align: left">184</td><td style="text-align: left">ModulationDestination.spectralSpeed</td></tr>
<tr><td style="text-align: left">185</td><td style="text-align: left">ModulationDestination.spectralTargetSpeed</td></tr>
<tr><td style="text-align: left">186</td><td style="text-align: left">ModulationDestination.spectralAcceleration</td></tr>
<tr><td style="text-align: left">187</td><td style="text-align: left">ModulationDestination.spectralLevel</td></tr>
<tr><td style="text-align: left">188</td><td style="text-align: left">ModulationDestination.spectralPurity</td></tr>
<tr><td style="text-align: left">189</td><td style="text-align: left">ModulationDestination.spectralInharmonicity</td></tr>
<tr><td style="text-align: left">190</td><td style="text-align: left">ModulationDestination.spectralFormantShift</td></tr>
<tr><td style="text-align: left">191</td><td style="text-align: left">ModulationDestination.spectralFormantScale</td></tr>
<tr><td style="text-align: left">192</td><td style="text-align: left">ModulationDestination.spectralFilterShift</td></tr>
<tr><td style="text-align: left">193</td><td style="text-align: left">ModulationDestination.spectralFilterScale</td></tr>
<tr><td style="text-align: left">194</td><td style="text-align: left">ModulationDestination.spectralLowCutAmount</td></tr>
<tr><td style="text-align: left">195</td><td style="text-align: left">ModulationDestination.spectralBlurTime</td></tr>
<tr><td style="text-align: left">196</td><td style="text-align: left">ModulationDestination.spectralBlurDepth</td></tr>
<tr><td style="text-align: left">197</td><td style="text-align: left">ModulationDestination.spectralBlurMix</td></tr>
<tr><td style="text-align: left">198</td><td style="text-align: left">ModulationDestination.spectralStackLevel1</td></tr>
<tr><td style="text-align: left">199</td><td style="text-align: left">ModulationDestination.spectralStackLevel2</td></tr>
<tr><td style="text-align: left">200</td><td style="text-align: left">ModulationDestination.spectralStackLevel3</td></tr>
<tr><td style="text-align: left">201</td><td style="text-align: left">ModulationDestination.spectralStackLevel4</td></tr>
<tr><td style="text-align: left">202</td><td style="text-align: left">ModulationDestination.spectralStackLevel5</td></tr>
<tr><td style="text-align: left">203</td><td style="text-align: left">ModulationDestination.spectralStackLevel6</td></tr>
<tr><td style="text-align: left">204</td><td style="text-align: left">ModulationDestination.spectralStackLevel7</td></tr>
<tr><td style="text-align: left">205</td><td style="text-align: left">ModulationDestination.spectralStackLevel8</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Script/pages/Modulation-Destination-Types.html#modulation-destination-types">Jump to Top </a></p>
<h2 id="example-235"><a class="header" href="#example-235">Example</a></h2>
<pre><code class="language-lua">-- Define modulation destinations.

defineSlotLocal("modDestinations")
modDestinations = {
            { name = "-",           index = ModulationDestination.unassigned },
            { name = "Pitch",       index = ModulationDestination.pitch },
            { name = "Cutoff",      index = ModulationDestination.cutoff },
            { name = "Resonance",   index = ModulationDestination.resonance },
            { name = "Distortion",  index = ModulationDestination.distortion }
            }
 
-- Create a table with the names of the modulation destinations.

function getModDestNames()
    modDestNames = {}
    for i=1, #modDestinations do
        modDestNames[i] = modDestinations[i].name
    end
end
getModDestNames()
 
-- Parameter change callback to set the modulation destination.

function onModDestChanged(row, modDestinationParam)
    local modRow = this.parent:getZone():getModulationMatrixRow(row)
    local modDestination = modDestinations[modDestinationParam]
    modRow:setParameter("Destination.Destination", modDestination.index)
end
 
-- Define parameters for modulation matrix destinations 1-4.

defineParameter("ModDestination1", "Modulation Destination 1",  1, modDestNames, function() onModDestChanged(1,  ModDestination1)  end)
defineParameter("ModDestination2", "Modulation Destination 2",  1, modDestNames, function() onModDestChanged(2,  ModDestination2)  end)
defineParameter("ModDestination3", "Modulation Destination 3",  1, modDestNames, function() onModDestChanged(3,  ModDestination3)  end)
defineParameter("ModDestination4", "Modulation Destination 4",  1, modDestNames, function() onModDestChanged(4,  ModDestination4)  end)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="modulation-source-types"><a class="header" href="#modulation-source-types">Modulation Source Types</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Script/pages/Modulation-Source-Types.html#description">Description</a></li>
<li><a href="HALion-Script/pages/Modulation-Source-Types.html#arguments">Arguments</a></li>
<li><a href="HALion-Script/pages/Modulation-Source-Types.html#example">Example</a></li>
</ul>
<hr />
<h2 id="description-233"><a class="header" href="#description-233">Description</a></h2>
<p>Enumerator to identify the different modulation sources.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-164"><a class="header" href="#arguments-164">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">source</th><th style="text-align: left">sourceInfo1</th><th style="text-align: left">sourceInfo2</th><th style="text-align: left">Comment</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">ModulationSource.unassigned</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">ModulationSource.lfo1</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">ModulationSource.lfo2</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">ModulationSource.ampEnv</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">ModulationSource.filterEnv</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">ModulationSource.pitchEnv</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">ModulationSource.userEnv</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">ModulationSource.stepMod</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">8</td><td style="text-align: left">ModulationSource.glide</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">9</td><td style="text-align: left">ModulationSource.keyFollow</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">10</td><td style="text-align: left">ModulationSource.noteOnVelocity</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">11</td><td style="text-align: left">ModulationSource.noteOnVelocitySquared</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">12</td><td style="text-align: left">ModulationSource.noteOnVelocityNormalized</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">13</td><td style="text-align: left">ModulationSource.noteOffVelocity</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">14</td><td style="text-align: left">ModulationSource.pitchBend</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">15</td><td style="text-align: left">ModulationSource.modWheel</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">16</td><td style="text-align: left">ModulationSource.aftertouch</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">17</td><td style="text-align: left">ModulationSource.midiControl</td><td style="text-align: left">MIDI controller number (0 - 127).</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">18</td><td style="text-align: left">ModulationSource.quickControl</td><td style="text-align: left">Element object of the layer.</td><td style="text-align: left">Index of the quick control (1 - 11).</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">19</td><td style="text-align: left">ModulationSource.modulationModule</td><td style="text-align: left">Element object of the MIDI module.</td><td style="text-align: left">Number of the output channel.</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">20</td><td style="text-align: left">ModulationSource.noteExpression</td><td style="text-align: left">Number of the custom note expression (1-8).</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">21</td><td style="text-align: left">ModulationSource.noise</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">22</td><td style="text-align: left">ModulationSource.output</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">23</td><td style="text-align: left">ModulationSource.bus1</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">24</td><td style="text-align: left">ModulationSource.bus2</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">25</td><td style="text-align: left">ModulationSource.bus3</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">26</td><td style="text-align: left">ModulationSource.bus4</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">27</td><td style="text-align: left">ModulationSource.bus5</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">28</td><td style="text-align: left">ModulationSource.bus6</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">29</td><td style="text-align: left">ModulationSource.bus7</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">30</td><td style="text-align: left">ModulationSource.bus8</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">31</td><td style="text-align: left">ModulationSource.bus9</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">32</td><td style="text-align: left">ModulationSource.bus10</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">33</td><td style="text-align: left">ModulationSource.bus11</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">34</td><td style="text-align: left">ModulationSource.bus12</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">35</td><td style="text-align: left">ModulationSource.bus13</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">36</td><td style="text-align: left">ModulationSource.bus14</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">37</td><td style="text-align: left">ModulationSource.bus15</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">38</td><td style="text-align: left">ModulationSource.bus16</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">39</td><td style="text-align: left">ModulationSource.xlfoX</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">40</td><td style="text-align: left">ModulationSource.xlfoY</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"></td></tr>
<tr><td style="text-align: left">41</td><td style="text-align: left">ModulationSource.sampleAndHold</td><td style="text-align: left">Index of the S&amp;H (0 - 5).</td><td style="text-align: left">-</td><td style="text-align: left">Source 2 only.</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Script/pages/Modulation-Source-Types.html#modulation-source-types">Jump to Top </a></p>
<h2 id="example-236"><a class="header" href="#example-236">Example</a></h2>
<pre><code class="language-lua">-- Define the modulation sources and infos in an array.

modSources = {
    { source = ModulationSource.lfo1, bipolar = 1 },
    { source = ModulationSource.midiControl, bipolar = 0, sourceInfo1 = 1 },
    { source = ModulationSource.quickControl, bipolar = 1, sourceInfo1 = this.program, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 2 },
    { source = ModulationSource.noteExpression, bipolar = 0, sourceInfo1 = 1 }
}
 
-- Define two modulation outputs for the script module.

defineModulation("50%", false)
defineModulation("100%", false)
 
-- Calculate the modulation outputs.

function calcModulation()
    return 0.5, 1
end
 
-- Get the element object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Assign the modulation sources to source 1 in the modulation rows 1 to 6.

for i=1, #modSources do
    local modRow = zone:getModulationMatrixRow(i)
    modRow:setSource1(modSources[i].source, modSources[i].sourceInfo1, modSources[i].sourceInfo2)
    modRow:setParameter("Source1.Polarity", modSources[i].bipolar) -- Set the default polarity of the source.
end
 
-- Assign the sample &amp; hold to source 2 in modulation row 1.

modRow = zone:getModulationMatrixRow(1)
modRow:setSource2(ModulationSource.sampleAndHold, 0)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="ms2beat"><a class="header" href="#ms2beat">ms2beat</a></h1>
<blockquote>
<p><strong>ms2beat(ms)</strong></p>
</blockquote>
<h2 id="description-234"><a class="header" href="#description-234">Description</a></h2>
<p>Function to convert a duration in milliseconds to the equivalent number of beats. One beat equals a quarter note. The current tempo is taken into account.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-165"><a class="header" href="#arguments-165">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>ms</strong></td><td style="text-align: left">The duration in milliseconds.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-147"><a class="header" href="#return-values-147">Return Values</a></h2>
<p>Returns the number of beats (quarter notes) that is the equivalent of the specified duration.</p>
<h2 id="example-237"><a class="header" href="#example-237">Example</a></h2>
<pre><code class="language-lua">-- Print the note length in number of beats.

function onRelease(event)
    postEvent(event)
    local noteLength = ms2beat(getNoteDuration(event.note))
    print(noteLength, "beats")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./beat2ms.html">beat2ms</a>, <a href="HALion-Script/pages/./ms2samples.html">ms2samples</a>, <a href="HALion-Script/pages/./samples2ms.html">samples2ms</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="ms2samples"><a class="header" href="#ms2samples">ms2samples</a></h1>
<blockquote>
<p><strong>ms2samples(ms)</strong></p>
</blockquote>
<h2 id="description-235"><a class="header" href="#description-235">Description</a></h2>
<p>Function to convert a duration in milliseconds to the equivalent number of samples. The conversion takes into account the sample rate at which the plug-in runs.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-166"><a class="header" href="#arguments-166">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>ms</strong></td><td style="text-align: left">The duration in milliseconds.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-148"><a class="header" href="#return-values-148">Return Values</a></h2>
<p>Returns the number of samples that is the equivalent of the specified duration in milliseconds.</p>
<h2 id="example-238"><a class="header" href="#example-238">Example</a></h2>
<pre><code class="language-lua">-- Print the duration 1000 ms in number of samples.

function onNote(event)
    print(ms2samples(1000), "samples")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./samples2ms.html">samples2ms</a>, <a href="HALion-Script/pages/./ms2beat.html">ms2beat</a>, <a href="HALion-Script/pages/./beat2ms.html">beat2ms</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="note-expression-types"><a class="header" href="#note-expression-types">Note Expression Types</a></h1>
<h2 id="description-236"><a class="header" href="#description-236">Description</a></h2>
<p>Enumerator to identify the different note expression types.</p>
<blockquote>
<p>❕ The note expression types volume, pan and tuning are pre-assigned internally and respond immediately. The custom note expression types must be assigned manually in the modulation matrix before they can be used.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="note-expression-types-1"><a class="header" href="#note-expression-types-1">Note Expression Types</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">NoteExpressionType.volume</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">NoteExpressionType.pan</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">NoteExpressionType.tuning</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">NoteExpressionType.custom1</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">NoteExpressionType.custom2</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">NoteExpressionType.custom3</td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">NoteExpressionType.custom4</td></tr>
<tr><td style="text-align: left">8</td><td style="text-align: left">NoteExpressionType.custom5</td></tr>
<tr><td style="text-align: left">9</td><td style="text-align: left">NoteExpressionType.custom6</td></tr>
<tr><td style="text-align: left">10</td><td style="text-align: left">NoteExpressionType.custom7</td></tr>
<tr><td style="text-align: left">11</td><td style="text-align: left">NoteExpressionType.custom8</td></tr>
</tbody></table>
</div>
<h2 id="example-239"><a class="header" href="#example-239">Example</a></h2>
<pre><code class="language-lua">-- Detect the type of note expression.

function onNoteExpression(event)
    if event.noteExpressionType == NoteExpressionType.volume then
        print('Note Expression of type "Volume" received!')
    elseif event.noteExpressionType == NoteExpressionType.pan then
        print('Note Expression of type "Pan" received!')
    elseif event.noteExpressionType == NoteExpressionType.tuning then
        print('Note Expression of type "Tuning" received!')
    elseif event.noteExpressionType &gt; 3 then
        print('Note Expression of type "Custom" received!')
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>, <a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>, <a href="HALion-Script/pages/./getNoteExpressionProperties.html">getNoteExpressionProperties</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onaftertouch"><a class="header" href="#onaftertouch">onAfterTouch</a></h1>
<blockquote>
<p><strong>onAfterTouch(event)</strong></p>
</blockquote>
<h2 id="description-237"><a class="header" href="#description-237">Description</a></h2>
<p>This callback function is called when the script module receives a channel aftertouch event.</p>
<blockquote>
<p>❕ If the script doesn't implement onAfterTouch, all aftertouch events will be passed on to <a href="HALion-Script/pages/./onController.html">onController</a>.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-167"><a class="header" href="#arguments-167">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type controller.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-16"><a class="header" href="#fields-16">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (3 = controller). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: left">The aftertouch value in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-240"><a class="header" href="#example-240">Example</a></h2>
<pre><code class="language-lua">-- Print the aftertouch value.

function onAfterTouch(event)
    postEvent(event)
    print("Aftertouch: "..event.value)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./afterTouch.html">afterTouch</a>, <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="oncontroller"><a class="header" href="#oncontroller">onController</a></h1>
<blockquote>
<p><strong>onController(event)</strong></p>
</blockquote>
<h2 id="description-238"><a class="header" href="#description-238">Description</a></h2>
<p>This callback function is called when the script module receives a continuous controller event. If the script doesn't implement <a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a> or <a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a>, the respective aftertouch or pitch bend events will be passed on to onController. This way, continuous controller, aftertouch and pitch bend events can be treated in the same callback function onController.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-168"><a class="header" href="#arguments-168">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type controller</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-17"><a class="header" href="#fields-17">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (3 = controller). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.controller</strong></td><td style="text-align: left">The controller number. See <a href="HALion-Script/pages/./Controller-Numbers.html">Controller Numbers</a> for a description of the different controllers.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: left">The controller value in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-241"><a class="header" href="#example-241">Example</a></h2>
<pre><code class="language-lua">-- Exclude MIDI mode messages and other special controllers.

function onController(event)
    if event.controller &lt; 120 then
        print("Controller #: "..event.controller..", Value: "..event.value)
        postEvent(event)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, <a href="HALion-Script/pages/./getCC.html">getCC</a>, <a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a>, <a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="ondata"><a class="header" href="#ondata">onData</a></h1>
<blockquote>
<p><strong>onData(event)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-239"><a class="header" href="#description-239">Description</a></h2>
<p>This callback is called when the script module receives a system exclusive message.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-169"><a class="header" href="#arguments-169">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type data.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-18"><a class="header" href="#fields-18">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (7 = data). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.data</strong></td><td style="text-align: left">An array with the bytes of the system exclusive message. To determine the number of bytes in the system-exclusive message, use the length operator <code>#</code>. For the interpretation of these values, please consult the documentation of the MIDI data format of the device sending the system exclusive message.</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>.dataType</strong></td><td style="text-align: left">Currently, there is only one data type (0 = sysex).</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-242"><a class="header" href="#example-242">Example</a></h2>
<pre><code class="language-lua">function onData(event)
	print (event)
	local sysex = event.data
	for i,b in ipairs(sysex) do
		print (b)
	end
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onidle"><a class="header" href="#onidle">onIdle</a></h1>
<blockquote>
<p><strong>onIdle()</strong></p>
</blockquote>
<h2 id="description-240"><a class="header" href="#description-240">Description</a></h2>
<p>This callback function is called periodically if the script is idle. Use this to monitor the progress of load operations, for example.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-243"><a class="header" href="#example-243">Example</a></h2>
<pre><code class="language-lua">-- Start with an empty program, remove any existing layers.

layers = this.parent:findLayers()
 
if layers then
   for i, layer in ipairs(layers) do
       this.parent:removeLayer(layer)
   end
end
 
-- Table with layer presets from Skylab.
layerPresets = {
   { name = "Ambient Pad 01", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 01.vstpreset" },
   { name = "Ambient Pad 02", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 02.vstpreset" },
   { name = "Ambient Pad 03", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 03.vstpreset" },
   { name = "Ambient Pad 04", path = "vstsound://724ACB205EFF46F885735D1B216C37AD/.AppData/Steinberg/Skylab/Sub Presets/Layer Presets/Ambient Pads/Ambient Pad 04.vstpreset" },
}
-- Create a table with the preset names.
function getPresetNames()
   presetNames = {}
   for i, preset in ipairs(layerPresets) do
       presetNames[i] = preset.name
   end
end
 
getPresetNames()
 
-- Remove the old layer after the new one was added.
function removeOldLayer(progressInfo)
   local newPreset = progressInfo.root
   if oldPreset then
       this.parent:removeLayer(oldPreset)
       print(oldPreset.name.." removed.")
   end
   oldPreset = newPreset
end
 
-- Append the preset in a separate thread.
function appendNewLayer(progressInfo)
   if progressInfo.root then
       this.parent:appendLayerAsync(progressInfo.root, removeOldLayer)
       print("Appending "..progressInfo.root.name.."...")
   end
end
 
-- Load the preset in a separate thread.
function onSelectPresetChanged()
   progress = 0
   progressInf = loadPresetAsync(layerPresets[SelectPreset].path, appendNewLayer)
   print("Loading "..layerPresets[SelectPreset].name.."...")
end
 
-- Define a parameter for selecting the preset to be loaded.
defineParameter("SelectPreset", "Select Preset", 1, presetNames, onSelectPresetChanged)
 
-- Monitor the load progress with onIdle.
progress = 1
function onIdle()
   if progress &lt; 1 then
       progress = progressInf.progress
       print("Progress: "..(progressInf.progress * 100).."%")
   end
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="oninit"><a class="header" href="#oninit">onInit</a></h1>
<blockquote>
<p><strong>onInit()</strong></p>
</blockquote>
<h2 id="description-241"><a class="header" href="#description-241">Description</a></h2>
<p>This callback function is called after executing any global statements and the <a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a> callback function. It is the first callback function that is called when the processor thread is initialized. You can use this function to initialize variables with information from the context, for example.</p>
<blockquote>
<p>❕ The program must be loaded in the Slot Rack and contain at least one zone. Otherwise, onInit won't be called.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="example-244"><a class="header" href="#example-244">Example</a></h2>
<pre><code class="language-lua">-- Print the time signature and tempo of the host software.

function onInit()
    num, denom = getTimeSignature()
    tempo = getTempo()
    print(num.."/"..denom) 
    print(tempo.." BPM")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onload"><a class="header" href="#onload">onLoad</a></h1>
<blockquote>
<p><strong>onLoad(data)</strong></p>
</blockquote>
<h2 id="description-242"><a class="header" href="#description-242">Description</a></h2>
<p>This callback function is called when the script module is loaded as part of a preset or project. The data that is passed on is the data that was returned by <a href="HALion-Script/pages/./onSave.html">onSave</a> when the script module was saved.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-170"><a class="header" href="#arguments-170">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>data</strong></td><td style="text-align: left">The data that was returned by onSave.</td><td style="text-align: left">table (as is usual)</td></tr>
</tbody></table>
</div>
<h2 id="example-245"><a class="header" href="#example-245">Example</a></h2>
<pre><code class="language-lua">-- Print the last three notes when calling onNote, onSave or onLoad.
-- The last three notes are remembered even after restoring the program.
  
local lastNotes = {}
  
function printLastNotes(callbackName)
    print("Last three notes when calling "..callbackName..":")
    for i = 1, 3 do
        if lastNotes[i] then
            print(i..":", "Note#:", lastNotes[i].noteNumber,", Velocity:", lastNotes[i].velocity)
        else
            print(i..":", "Note#: ---, Velocity: ---")
        end
    end
    print()
end
  
-- Play some notes to fill the table.

function onNote(event)
    postEvent(event)
    table.insert(lastNotes, 1, {noteNumber = event.note, velocity = event.velocity})
    if #lastNotes &gt; 3 then -- Store maximum three notes.
        table.remove(lastNotes)
    end
    printLastNotes("onNote")
end
  
-- This will be called when the program is saved.

function onSave()
    local data = {}
    data.lastNotes = lastNotes
    printLastNotes("onSave")
    return data -- Any data in this table will be stored.
end
  
-- This will be called when the program is restored.

function onLoad(data)
    lastNotes = data.lastNotes -- Read the values from the data table.
    printLastNotes("onLoad")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onSave.html">onSave</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onloadintoslot"><a class="header" href="#onloadintoslot">onLoadIntoSlot</a></h1>
<blockquote>
<p><strong>onLoadIntoSlot()</strong></p>
</blockquote>
<h2 id="description-243"><a class="header" href="#description-243">Description</a></h2>
<p>This callback function is called when the program is loaded into the Slot Rack. Any global statements are executed in advance. <a href="HALion-Script/pages/./onInit.html">onInit</a> is called after onLoadIntoSlot.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-246"><a class="header" href="#example-246">Example</a></h2>
<pre><code class="language-lua">-- Print a message when loading the program into the slot rack.

function onLoadIntoSlot()
   print('"Hello" from the Slot Rack.')
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onRemoveFromSlot.html">onRemoveFromSlot</a>, <a href="HALion-Script/pages/./onInit.html">onInit</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onloadsubpreset"><a class="header" href="#onloadsubpreset">onLoadSubPreset</a></h1>
<blockquote>
<p><strong>onLoadSubPreset(section, data)</strong></p>
</blockquote>
<h2 id="description-244"><a class="header" href="#description-244">Description</a></h2>
<p>This callback function is called when loading a subpreset with a corresponding <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template. The callback will only be called if the scope of the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is set correctly.</p>
<ul>
<li>If the MacroPage with the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is attached to an element other than the script module (e.g., the program), the scope must be set to the script module (e.g., @0:Script Module).</li>
<li>If the MacroPage with the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is attached to the script module, the scope does not need to be set.</li>
</ul>
<p>In addition, the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> template allows you to define a section for the subpreset. When you load a subpreset, the defined section and the data stored in the subpreset will be passed on to the callback. The data is the same data that was returned by <a href="HALion-Script/pages/./onSaveSubPreset.html">onSaveSubPreset</a> when the subpreset was saved. You can manage different subsets of parameters by using the section as condition for an <code>if</code> statement that restores only the parameters of interest.</p>
<blockquote>
<p>❕ Scope and section are template parameters. You can set them in the MacroPage Designer on the properties pane of the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> and <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> templates.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-171"><a class="header" href="#arguments-171">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>section</strong></td><td style="text-align: left">The section as defined in the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> template.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>data</strong></td><td style="text-align: left">The data that was returned by <a href="HALion-Script/pages/./onSaveSubPreset.html">onSaveSubPreset</a>.</td><td style="text-align: left"></td></tr>
</tbody></table>
</div>
<h2 id="example-247"><a class="header" href="#example-247">Example</a></h2>
<pre><code class="language-lua">--[[
    The corresponding MacroPage needs two Preset Browser templates:
    One with the section set to Pitch and the other with the section set to Filter.
 
    The Preset Browser template with the section Pitch stores/restores the
    parameters Pitch.Coarse and Pitch.Fine.
 
    The Preset Brrowser template with the section Filter stores/restores the
    parameters Filter.Cutoff and Filter.Resonance.
--]]
 
-- Get the values of p1 and p2 from the first zone of the program.

function getZoneData(p1, p2)
    local data = {}
    local zone = this.program:findZones(true)
    if zone[1] then
        data.p1 = zone[1]:getParameter(p1)
        data.p2 = zone[1]:getParameter(p2)
    end
    return data
end
 
-- Set the values of p1 and p2 in the first zone of the program.

function setZoneData(p1, p2, data)
    local zone = this.program:findZones(true)
    if zone[1] then
        zone[1]:setParameter(p1, data.p1)
        zone[1]:setParameter(p2, data.p2)
    end
end
 
-- Save data with the subpreset.

function onSaveSubPreset(section)
    if section == "Pitch" then
        return getZoneData("Pitch.Coarse", "Pitch.Fine" ) -- This is called from the preset template Pitch.
    elseif section == "Filter" then
        return getZoneData("Filter.Cutoff", "Filter.Resonance") -- This is called from the preset template Filter.
    end
end
 
-- Restore data from the subpreset.

function onLoadSubPreset(section, data)
    if section == "Pitch" then
        setZoneData("Pitch.Coarse", "Pitch.Fine", data) -- This is called from the preset template Pitch.
    elseif section == "Filter" then
        setZoneData("Filter.Cutoff", "Filter.Resonance", data) -- This is called from the preset template Filter.
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onSaveSubPreset.html">onSaveSubPreset</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onnote"><a class="header" href="#onnote">onNote</a></h1>
<blockquote>
<p><strong>onNote(event)</strong></p>
</blockquote>
<h2 id="description-245"><a class="header" href="#description-245">Description</a></h2>
<p>This callback function is called when the script module receives a note-on event.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-172"><a class="header" href="#arguments-172">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type noteOn.</td><td style="text-align: left">Event</td></tr>
</tbody></table>
</div>
<h2 id="fields-19"><a class="header" href="#fields-19">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (1 = noteOn). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">The note ID of the note-on event.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velocity</strong></td><td style="text-align: left">The note-on velocity in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tuning</strong></td><td style="text-align: left">The tune offset in semitones.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-248"><a class="header" href="#example-248">Example</a></h2>
<pre><code class="language-lua">-- Print note ID, note number and velocity.

function onNote(event)
    local id = postEvent(event)
    print("ID: "..id..", Note #: "..event.note..", Velocity: "..event.velocity..", Tuning: "..event.tuning)
end
</code></pre>
<p><strong>See Also:</strong> <a href="HALion-Script/pages/./postEvent.html">postEvent</a>, <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onnoteexpression"><a class="header" href="#onnoteexpression">onNoteExpression</a></h1>
<blockquote>
<p><strong>onNoteExpression(event)</strong></p>
</blockquote>
<h2 id="description-246"><a class="header" href="#description-246">Description</a></h2>
<p>This callback function is called when the script module receives a note expression event.</p>
<blockquote>
<p>❕ Note expression events are always processed by the engine, regardless of whether the event is posted or not. Therefore, the use of <a href="HALion-Script/pages/./postEvent.html">postEvent</a> is not necessary.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-173"><a class="header" href="#arguments-173">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type noteExpression.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-20"><a class="header" href="#fields-20">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (4 = noteExpression). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">The ID of the associated note-on event.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.noteExpressionType</strong></td><td style="text-align: left">The type of note expression event. See <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: left">The note expression value in the range of 0 to 1.0.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-249"><a class="header" href="#example-249">Example</a></h2>
<pre><code class="language-lua">-- Change note expression for the root note and a generated note.

local ids = {}
 
function onNote(event)
  local id = postEvent(event)
  ids[id] = playNote(event.note + 7, event.velocity)
  waitForRelease()
  ids[id] = nil
end
 
function onNoteExpression(event)
  if ids[event.id] then
    changeNoteExpression(ids[event.id], event.noteExpressionType, event.value)
  end
  -- postEvent(event) is not required for onNoteExpression.
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>, <a href="HALion-Script/pages/./getNoteExpression.html">getNoteExpression</a>, <a href="HALion-Script/pages/./Note-Expression-Types.html">Note Expression Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onpitchbend"><a class="header" href="#onpitchbend">onPitchBend</a></h1>
<blockquote>
<p><strong>onPitchBend(event)</strong></p>
</blockquote>
<h2 id="description-247"><a class="header" href="#description-247">Description</a></h2>
<p>This callback function is called when the script module receives a pitch bend event. The <code>.value</code> field of the <a href="HALion-Script/pages/./Event.html">Event</a> object contains the pitch bend value as a signed integer in the range from -8191 to 8191. The <code>.bend</code> field contains the pitch bend value as a floating point number in the range from -1.0 to 1.0. Use <code>.bend</code> for greater accuracy.</p>
<blockquote>
<p>❕ If your script doesn't implement onPitchBend, all pitch bend events will be passed on to <a href="HALion-Script/pages/./onController.html">onController</a>.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-174"><a class="header" href="#arguments-174">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type controller.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-21"><a class="header" href="#fields-21">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (3 = controller). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.bend</strong></td><td style="text-align: left">The pitch bend value in the range of -1.0 to 1.0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.value</strong></td><td style="text-align: left">The pitch bend value in the range of -8191 to 8191.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-250"><a class="header" href="#example-250">Example</a></h2>
<pre><code class="language-lua">-- Print event.value and event.bend.

function onPitchBend(event)
    print("event.value: "..event.value.."\n".."event.bend: "..event.bend)
    postEvent(event)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./pitchBend.html">pitchBend</a>, <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./onAfterTouch.html">onAfterTouch</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onrelease"><a class="header" href="#onrelease">onRelease</a></h1>
<blockquote>
<p><strong>onRelease(event)</strong></p>
</blockquote>
<h2 id="description-248"><a class="header" href="#description-248">Description</a></h2>
<p>This callback function is called when the script module receives a note-off event.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-175"><a class="header" href="#arguments-175">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left">event</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type noteOff.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-22"><a class="header" href="#fields-22">Fields</a></h2>
<p>Note-off events use the following fields of the <a href="HALion-Script/pages/./Event.html">Event</a> object.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (2 = noteOff). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">The note ID of the note-off event.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velocity</strong></td><td style="text-align: left">The note-off velocity in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tuning</strong></td><td style="text-align: left">The tune offset in semitones.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-251"><a class="header" href="#example-251">Example</a></h2>
<pre><code class="language-lua">-- Print all held notes.

local heldNotes = {}
 
function stringOfNotes()
    local ret =""
    for note, velocity in pairs(heldNotes) do
        ret = ret.." "..tostring(note)
    end
    return ret
end
 
function onNote(event)
    heldNotes[event.note] = event.velocity
    print("Held notes:", stringOfNotes())
    local id = postEvent(event)
end
 
function onRelease(event)
    heldNotes[event.note] = nil
    print("Held notes:", stringOfNotes())
    postEvent(event)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./postEvent.html">postEvent</a>, <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a>, <a href="HALion-Script/pages/./setBypassNoteOff.html">setBypassNoteOff</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onremovefromslot"><a class="header" href="#onremovefromslot">onRemoveFromSlot</a></h1>
<blockquote>
<p><strong>onRemoveFromSlot()</strong></p>
</blockquote>
<h2 id="description-249"><a class="header" href="#description-249">Description</a></h2>
<p>This callback function is called when the program is removed from the <strong>Slot Rack</strong>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-252"><a class="header" href="#example-252">Example</a></h2>
<pre><code class="language-lua">-- Print a message when removing the program from the Slot Rack.

function onRemoveFromSlot()
   print('"Goodbye" from the Slot Rack.')
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onLoadIntoSlot.html">onLoadIntoSlot</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onretrigger"><a class="header" href="#onretrigger">onRetrigger</a></h1>
<blockquote>
<p><strong>onRetrigger(event)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-250"><a class="header" href="#description-250">Description</a></h2>
<p>This callback function is called when the script module receives a note-retrigger event.</p>
<blockquote>
<p>❕ Note-retrigger events occur only if Mono and Retrigger are active for the corresponding program or layer.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-176"><a class="header" href="#arguments-176">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a> object of the type noteRetrigger.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="fields-23"><a class="header" href="#fields-23">Fields</a></h2>
<p>Note-retrigger events use the following fields of the <a href="HALion-Script/pages/./Event.html">Event</a> object.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.type</strong></td><td style="text-align: left">The type of event (6 = noteRetrigger). See <a href="HALion-Script/pages/./Event-Types.html">Event Types</a> for details.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.id</strong></td><td style="text-align: left">The note ID of the note-off event.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.note</strong></td><td style="text-align: left">The note number in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.velocity</strong></td><td style="text-align: left">The note-off velocity in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.tuning</strong></td><td style="text-align: left">The tune offset in semitones.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The note ids of the note-retrigger events cannot be used in functions like <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./changeVolume.html">changeVolume</a>, <a href="HALion-Script/pages/./changeNoteExpression.html">changeNoteExpression</a>, etc. You must use the note id of the original note-on event instead. See <a href="HALion-Script/pages/onRetrigger.html#example-2">Example 2</a> for details.</p>
</blockquote>
<h2 id="example-1-7"><a class="header" href="#example-1-7">Example 1</a></h2>
<pre><code class="language-lua">notes = {}
 
function onNote(event)
    local id = postEvent(event)
    print(event)
    local ids = notes[event.note]
    if ids == nil then
        ids = {}
        notes[event.note] = ids
    end
    table.insert(ids, id)
end
 
-- transpose the note-retrigger event
function onRetrigger(event)
    print(event)
    local id = playNote(event.note + 12, event.velocity, 0)
    table.insert(notes[event.note], id)
end
 
function onRelease(event)
    print(event)
    for i, noteId in ipairs(notes[event.note]) do
        releaseVoice(noteId)
    end
    notes[event.note] = nil
end
</code></pre>
<h2 id="example-2-7"><a class="header" href="#example-2-7">Example 2</a></h2>
<pre><code class="language-lua">notes = {}
retrigger = {}
function onNote(event)
    local id = postEvent(event)
    print(event)
    retrigger[event.note] = false
    local ids = notes[event.note]
    if ids == nil then
        ids = {}
        notes[event.note] = ids
    end
    table.insert(ids, id)
end
   
-- send the note-retrigger event after 500 ms into release and retrigger only once
function onRetrigger(event)
    if not retrigger[event.note] then
        postEvent(event)
        print(event)
        retrigger[event.note] = true
        wait(500)
        if notes[event.note] then
            for i, noteId in ipairs(notes[event.note]) do
                releaseVoice(noteId)
                print("releaseVoice with id "..noteId)
            end
        end
    end
end
   
function onRelease(event)
    postEvent(event)
    print(event)
    notes[event.note] = nil
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./postEvent.html">postEvent</a>, <a href="HALion-Script/pages/./playNote.html">playNote</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onsave"><a class="header" href="#onsave">onSave</a></h1>
<blockquote>
<p><strong>onSave()</strong></p>
</blockquote>
<h2 id="description-251"><a class="header" href="#description-251">Description</a></h2>
<p>This callback function is called when the script module is saved as part of a preset or project. The data you pass on to the <code>return</code> statement will be stored with the preset or project. The data can be of any type, but it is common practice to use a table that can easily be extended with more fields. When the script module is restored, the <a href="HALion-Script/pages/./onLoad.html">onLoad</a> callback will receive the stored data.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-149"><a class="header" href="#return-values-149">Return Values</a></h2>
<p>The returned data will be stored as part of the preset or project.</p>
<h2 id="example-253"><a class="header" href="#example-253">Example</a></h2>
<pre><code class="language-lua">-- Print the last three notes when calling onNote, onSave or onLoad.
-- The last three notes are remembered even after restoring the program.
  
local lastNotes = {}
  
function printLastNotes(callbackName)
    print("Last three notes when calling "..callbackName..":")
    for i = 1, 3 do
        if lastNotes[i] then
            print(i..":", "Note#:", lastNotes[i].noteNumber,", Velocity:", lastNotes[i].velocity)
        else
            print(i..":", "Note#: ---, Velocity: ---")
        end
    end
    print()
end
  
-- Play some notes to fill the table.

function onNote(event)
    postEvent(event)
    table.insert(lastNotes, 1, {noteNumber = event.note, velocity = event.velocity})
    if #lastNotes &gt; 3 then -- Store maximum three notes.
        table.remove(lastNotes)
    end
    printLastNotes("onNote")
end
  
-- This will be called when the program is saved.

function onSave()
    local data = {}
    data.lastNotes = lastNotes
    printLastNotes("onSave")
    return data -- Any data in this table will be stored.
end
  
-- This will be called when the program is restored.

function onLoad(data)
    lastNotes = data.lastNotes -- Read the values from the data table.
    printLastNotes("onLoad")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onLoad.html">onLoad</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onsavesubpreset"><a class="header" href="#onsavesubpreset">onSaveSubPreset</a></h1>
<blockquote>
<p><strong>onSaveSubPreset(section)</strong></p>
</blockquote>
<h2 id="description-252"><a class="header" href="#description-252">Description</a></h2>
<p>This callback function is called when saving a subpreset with a corresponding <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template. The callback will only be called if the scope of the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is set correctly.</p>
<ul>
<li>If the MacroPage with the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is attached to an element other than the script module (e.g., the program), the scope must be set to the script module (e.g., @0:Script Module).</li>
<li>If the MacroPage with the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> template is attached to the script module itself, the scope does not need to be set.</li>
</ul>
<p>In addition, the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> template allows to define a section for the subpreset. When you save a subpreset, the section will be passed on from the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> template to the callback. You can manage different subsets of parameters by using the section as condition for an if statement that stores only the parameters of interest. The data you pass on to the return statement will be stored with the subpreset. The data can be of any type, but it is common practice to use a table that can easily be extended with more fields. When the subpreset is restored, the <a href="HALion-Script/pages/./onLoadSubPreset.html">onLoadSubPreset</a> callback will receive the stored data.</p>
<blockquote>
<p>❕ Scope and section are template parameters. You can set them in the MacroPage Designer on the properties pane of the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser.html">Preset Browser</a> and <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> templates.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-177"><a class="header" href="#arguments-177">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>section</strong></td><td style="text-align: left">The section as defined in the <a href="HALion-Script/pages/../../HALion-Macro-Page/pages/Preset-Browser-Custom.html">Preset Browser Custom</a> template.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-150"><a class="header" href="#return-values-150">Return Values</a></h2>
<p>The returned data will be stored in a subpreset.</p>
<h2 id="example-254"><a class="header" href="#example-254">Example</a></h2>
<pre><code class="language-lua">--[[
    The corresponding MacroPage needs two Preset Browser templates:
    One with the section set to Pitch and the other with the section set to Filter.
 
    The Preset Browser template with the section Pitch stores/restores the
    parameters Pitch.Coarse and Pitch.Fine.
 
    The Preset Brrowser template with the section Filter stores/restores the
    parameters Filter.Cutoff and Filter.Resonance.
--]]
 
-- Get the values of p1 and p2 from the first zone of the program.

function getZoneData(p1, p2)
    local data = {}
    local zone = this.program:findZones(true)
    if zone[1] then
        data.p1 = zone[1]:getParameter(p1)
        data.p2 = zone[1]:getParameter(p2)
    end
    return data
end
 
-- Set the values of p1 and p2 in the first zone of the program.

function setZoneData(p1, p2, data)
    local zone = this.program:findZones(true)
    if zone[1] then
        zone[1]:setParameter(p1, data.p1)
        zone[1]:setParameter(p2, data.p2)
    end
end
 
-- Save data with the subpreset.

function onSaveSubPreset(section)
    if section == "Pitch" then
        return getZoneData("Pitch.Coarse", "Pitch.Fine" ) -- This is called from the preset template Pitch.
    elseif section == "Filter" then
        return getZoneData("Filter.Cutoff", "Filter.Resonance") -- This is called from the preset template Filter.
    end
end
 
-- Restore data from the subpreset.

function onLoadSubPreset(section, data)
    if section == "Pitch" then
        setZoneData("Pitch.Coarse", "Pitch.Fine", data) -- This is called from the preset template Pitch.
    elseif section == "Filter" then
        setZoneData("Filter.Cutoff", "Filter.Resonance", data) -- This is called from the preset template Filter.
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onLoadSubPreset.html">onLoadSubPreset</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="ontriggerpad"><a class="header" href="#ontriggerpad">onTriggerPad</a></h1>
<blockquote>
<p><strong>onTriggerPad(number)</strong></p>
</blockquote>
<h2 id="description-253"><a class="header" href="#description-253">Description</a></h2>
<p>This callback function is called when the script module receives a trigger event from a trigger pad. The Trigger Pads module must be placed before the script module. Trigger events are produced when the pad is pressed with the mouse, when a trigger note is played via MIDI or by calling <a href="HALion-Script/pages/./playTriggerPad.html">playTriggerPad</a> from another script module.</p>
<blockquote>
<p>❕ To be able to alter the trigger events, the function onTriggerPad does not pass on the trigger events automatically. To pass on the trigger events to subsequent modules, <a href="HALion-Script/pages/./playTriggerPad.html">playTriggerPad</a> must be called. See example below.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-178"><a class="header" href="#arguments-178">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>number</strong></td><td style="text-align: left">The number of the trigger pad in the range from 1 to 8.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-255"><a class="header" href="#example-255">Example</a></h2>
<pre><code class="language-lua">-- Print the pad number and pass the trigger event on.

function onTriggerPad(n)
    print("Trigger Pad: "..n)
    playTriggerPad(n)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./playTriggerPad.html">playTriggerPad</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="onunhandledevent"><a class="header" href="#onunhandledevent">onUnhandledEvent</a></h1>
<blockquote>
<p><strong>onUnhandledEvent(event)</strong></p>
</blockquote>
<h2 id="description-254"><a class="header" href="#description-254">Description</a></h2>
<p>This callback function is called when the script module receives an event that is not handled by the specific event callback functions, e.g., <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a>, <a href="HALion-Script/pages/./onController.html">onController</a> and <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a>. If none of the specific callback functions are defined, onUnhandledEvent will receive all incoming events.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-179"><a class="header" href="#arguments-179">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Event.html">Event</a> object.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
</tbody></table>
</div>
<h2 id="example-256"><a class="header" href="#example-256">Example</a></h2>
<pre><code class="language-lua">-- Print unhandled events.

function onUnhandledEvent(event)
    print(event)
    postEvent(event)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a>, <a href="HALion-Script/pages/./onController.html">onController</a>, <a href="HALion-Script/pages/./onNoteExpression.html">onNoteExpression</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="openurl"><a class="header" href="#openurl">openURL</a></h1>
<blockquote>
<p><strong>openURL(address)</strong></p>
</blockquote>
<h2 id="description-255"><a class="header" href="#description-255">Description</a></h2>
<p>Function to open a website in the web browser.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-180"><a class="header" href="#arguments-180">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>address</strong></td><td style="text-align: left">The internet address of the website.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="example-257"><a class="header" href="#example-257">Example</a></h2>
<pre><code class="language-lua">-- Open www.steinberg.net in the web browser.

openURL("www.steinberg.net")
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="pitchbend"><a class="header" href="#pitchbend">pitchBend</a></h1>
<blockquote>
<p><strong>pitchBend(value)</strong></p>
</blockquote>
<h2 id="description-256"><a class="header" href="#description-256">Description</a></h2>
<p>Function to generate pitch bend events.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-181"><a class="header" href="#arguments-181">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The pitch bend value in the range of -1.0 to 1.0.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-258"><a class="header" href="#example-258">Example</a></h2>
<pre><code class="language-lua">-- Invert pitch bend values.

function onPitchBend(event)
    local invPB = event.bend * -1
    pitchBend(invPB)
    print("Inverse PB: "..invPB)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onPitchBend.html">onPitchBend</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, <a href="HALion-Script/pages/./afterTouch.html">afterTouch</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="playnote"><a class="header" href="#playnote">playNote</a></h1>
<blockquote>
<p><strong>playNote(note, velocity, duration, layerOrZone, volume, pan, tune)</strong></p>
</blockquote>
<h2 id="description-257"><a class="header" href="#description-257">Description</a></h2>
<p>Function to generate note events.</p>
<ul>
<li>If <code>duration</code> is -1, the generated note plays for as long as the key that called playNote is held.</li>
<li>If <code>duration</code> is greater than 0, the note plays for as long as the key is held, with the maximum duration specified in milliseconds.</li>
<li>If <code>duration</code> is 0, playNote generates only the note-on event. The release can be managed manually with <a href="HALion-Script/pages/./onRelease.html">onRelease</a> or with <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a> and the ID returned by playNote.</li>
</ul>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-182"><a class="header" href="#arguments-182">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>note</strong></td><td style="text-align: left">The note number of the note in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>velocity</strong></td><td style="text-align: left">The velocity of the note in the range of 0 to 127.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">The length of the note in milliseconds. The default is -1.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>layerOrZone</strong></td><td style="text-align: left">The layer or zone to receive the note. Only elements that come after the script module are addressable. The default is nil (all layers).</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a> or <a href="HALion-Script/pages/./Zone.html">Zone</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>volume</strong></td><td style="text-align: left">The initial volume in the range of 0 to 1.0. The default is 1.0.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>pan</strong></td><td style="text-align: left">The initial pan position in the range of -1.0 to 1.0. The default is 0.</td><td style="text-align: left">number, optional</td></tr>
<tr><td style="text-align: left"><strong>tune</strong></td><td style="text-align: left">The initial tuning in the range of -120.0 to 120.0. The default is 0.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-151"><a class="header" href="#return-values-151">Return Values</a></h2>
<p>Returns the note ID of the generated note.</p>
<h2 id="example-259"><a class="header" href="#example-259">Example</a></h2>
<pre><code class="language-lua">-- Play a major scale with each note.

local majorScaleIntervals = { 0, 2, 4, 5, 7, 9, 11, 12 }
 
function onNote(event)
  for index, interval in ipairs(majorScaleIntervals) do
      local id = playNote(event.note + interval, event.velocity, 0)
      wait(getBeatDuration() * 0.5)
      releaseVoice(id)
  end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./postEvent.html">postEvent</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="playtriggerpad"><a class="header" href="#playtriggerpad">playTriggerPad</a></h1>
<blockquote>
<p><strong>playTriggerPad(number)</strong></p>
</blockquote>
<h2 id="description-258"><a class="header" href="#description-258">Description</a></h2>
<p>Function to send the trigger events of the Trigger Pads to subsequent modules of the script module.</p>
<blockquote>
<p>❕ This function does not trigger the pads of the Trigger Module. It only changes the state of the trigger pads in the depending modules, for example, to switch between the variations of a FlexPhraser or MIDI Player.</p>
</blockquote>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-183"><a class="header" href="#arguments-183">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>number</strong></td><td style="text-align: left">The number of the trigger pad in the range from 1 to 8.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-260"><a class="header" href="#example-260">Example</a></h2>
<pre><code class="language-lua">--[[
Cycle up through different variations with each note-on.
The example assumes there is a FlexPhraser or MIDI Player with
variations 1-8 assigned to the trigger pads 1-8.
--]]

variation = 1
function onNote(event)
  if variation &gt; 8 then
    variation = 1
  end
  playTriggerPad(variation)
  postEvent(event)
  variation = variation + 1
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onTriggerPad.html">onTriggerPad</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="postevent"><a class="header" href="#postevent">postEvent</a></h1>
<blockquote>
<p><strong>postEvent(event, delay)</strong></p>
</blockquote>
<h2 id="description-259"><a class="header" href="#description-259">Description</a></h2>
<p>Function to post the event to the engine. The second argument is optional. It allows you to delay the event by a specific time in milliseconds.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-184"><a class="header" href="#arguments-184">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>event</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Event.html">Event</a> object that will be posted.</td><td style="text-align: left"><a href="HALion-Script/pages/./Event.html">Event</a></td></tr>
<tr><td style="text-align: left"><strong>delay</strong></td><td style="text-align: left">Delay time in milliseconds. The default is 0 ms.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="return-values-152"><a class="header" href="#return-values-152">Return Values</a></h2>
<p>Returns a note ID in case of a note-on event, <code>nil</code> for any other type of event. For this reason, assigning the return value of postEvent to a variable is only meaningful in the <a href="HALion-Script/pages/./onNote.html">onNote</a> callback.</p>
<h2 id="example-261"><a class="header" href="#example-261">Example</a></h2>
<pre><code class="language-lua">local delayTime = 1000
 
-- Post event and print note ID.

function onNote(event)
    local id = postEvent(event, delayTime)
    print("ID: "..id)
end
  
-- Post event and print note ID.

function onRelease(event)
    postEvent(event, delayTime)
    print("ID: "..event.id)
end
 
-- Post event, then print controller number and value.

function onController(event)
    postEvent(event)
    print("Controller #: "..event.controller..", Value: "..event.value)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./onRetrigger.html">onRetrigger</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="printraw"><a class="header" href="#printraw">printRaw</a></h1>
<blockquote>
<p><strong>printRaw(value1, value2, ...)</strong></p>
</blockquote>
<h2 id="description-260"><a class="header" href="#description-260">Description</a></h2>
<p>Receives any number of arguments and prints their values to the output window of the script module. In contrast to Lua's print function, printRaw does not insert a space character after every value and does not add a line feed on the end.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-185"><a class="header" href="#arguments-185">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>value1, value2, ...</strong></td><td style="text-align: left">The values to be printed. Multiple arguments must be separated with commas.</td></tr>
</tbody></table>
</div>
<h2 id="example-262"><a class="header" href="#example-262">Example</a></h2>
<pre><code class="language-lua">-- Print valriables a and b to the output window using printRaw.

function onInit()
    a = 10
    b = 20
    printRaw("Variable a is", a)
    printRaw("Variable b is", b)
end
</code></pre>
<p><strong>Output Messages:</strong></p>
<pre><code class="language-lua">Variable a is10Variable b is20
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="program-constructor-1"><a class="header" href="#program-constructor-1">Program Constructor</a></h1>
<blockquote>
<p><strong>Program()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-261"><a class="header" href="#description-261">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Program.html">Program</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-153"><a class="header" href="#return-values-153">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Program.html">Program</a> object.</p>
<h2 id="example-263"><a class="header" href="#example-263">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./Zone-Constructor.html">Zone Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="quick-control-assignment-modes"><a class="header" href="#quick-control-assignment-modes">Quick Control Assignment Modes</a></h1>
<h2 id="description-262"><a class="header" href="#description-262">Description</a></h2>
<p>Enumerator to identify the different quick control assignment modes.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="quick-control-assignment-modes-1"><a class="header" href="#quick-control-assignment-modes-1">Quick Control Assignment Modes</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">QCAssignmentMode.absolute</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">QCAssignmentMode.relative</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">QCAssignmentMode.switch</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">QCAssignmentMode.switchRelative</td></tr>
</tbody></table>
</div>
<h2 id="example-264"><a class="header" href="#example-264">Example</a></h2>
<pre><code class="language-lua">-- Print the mode of the qc assignment.

layer = this.parent
qc = 1
assignment = 1
   
qcMode = layer:getQCAssignmentMode(qc, assignment)
  
if qcMode == QCAssignmentMode.absolute then
    qcModeName = "Absolute"
elseif qcMode == QCAssignmentMode.relative then
    qcModeName = "Relative"
elseif qcMode == QCAssignmentMode.switch then
    qcModeName = "Switch"
elseif qcMode == QCAssignmentMode.switchRelative then
    qcModeName = "Switch Relative"
end
    
print("Mode of '"..layer.name.."', QC "..qc..", assignment "..assignment..": "..qcModeName..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="readmidifile"><a class="header" href="#readmidifile">readMidiFile</a></h1>
<blockquote>
<p><strong>readMidiFile(path)</strong></p>
</blockquote>
<h2 id="description-263"><a class="header" href="#description-263">Description</a></h2>
<p>Function to read a MIDI file (.mid). The function creates a MIDI sequence table that contains the data of the MIDI file. See <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a> for details on the fields of the MIDI sequence table.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-186"><a class="header" href="#arguments-186">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>path</strong></td><td style="text-align: left">The path and file name of the MIDI file.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="return-values-154"><a class="header" href="#return-values-154">Return Values</a></h2>
<p>Returns a MIDI sequence table. See <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a> for details.</p>
<h2 id="example-265"><a class="header" href="#example-265">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../mid/C%20Major%20Scale.mid">C Major Scale.mid.</a></li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and adjust the file path of readMidiFile to the location of the file on your system.</li>
<li>Execute the script.</li>
</ol>
<pre><code class="language-lua">-- Read note-on events from a MIDI file and play them.
 
midiSequence = readMidiFile("c:/temp/C Major Scale.mid") --[[ Please set the file path to the location
                                                              of the file on your system before you run
                                                              the script.]]
numberOfEvents = #midiSequence.tracks[1].events
i = 1
 
print(midiSequence.songname..".mid loaded!")
 
function onNote(event)
    
    -- Start from the beginning if the last event has been reached.
    
    if i &gt;= numberOfEvents then
        i = 1
    end
    
    -- Find the next note-on event.
    
    repeat
        event = midiSequence.tracks[1].events[i]
        i = i + 1
        if i &gt; numberOfEvents then
            return
        end
    until event.type == EventType.noteOn
    
    -- Print and play the note-on events.
    
    print(event)
    local id = playNote(event.note, event.velocity, 0)
    wait(getBeatDuration()*0.5)
    releaseVoice(id)
    
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>, <a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>, <a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>, <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>, <a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="releasevoice"><a class="header" href="#releasevoice">releaseVoice</a></h1>
<blockquote>
<p><strong>releaseVoice(noteID)</strong></p>
</blockquote>
<h2 id="description-264"><a class="header" href="#description-264">Description</a></h2>
<p>Function to release a note with a specific note ID.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-187"><a class="header" href="#arguments-187">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>noteID</strong></td><td style="text-align: left">The note ID of the note you want to release.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-266"><a class="header" href="#example-266">Example</a></h2>
<pre><code class="language-lua">-- Generate major chords.

local notes = {}
 
function onNote(event)
 
  local id1 = playNote(event.note, event.velocity)
  local id2 = playNote(event.note + 4, event.velocity)
  local id3 = playNote(event.note + 7, event.velocity)
   
  local ids = notes[event.note]
  if ids == nil then
     ids = {}
     notes[event.note] = ids
  end
   
  table.insert(ids, id1)
  table.insert(ids, id2)
  table.insert(ids, id3)
 
end
 
function onRelease(event)
 
  for i,v in ipairs(notes[event.note]) do
    releaseVoice(v)
  end
 
  notes[event.note] = nil
 
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./onNote.html">onNote</a>, <a href="HALion-Script/pages/./postEvent.html">postEvent</a>, <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removebus-1"><a class="header" href="#removebus-1">removeBus</a></h1>
<blockquote>
<p><strong>removeBus(busOrPosition)</strong></p>
</blockquote>
<h2 id="description-265"><a class="header" href="#description-265">Description</a></h2>
<p>Function to remove a bus from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the bus. The bus to be removed is determined by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object or its position. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to determine the <a href="HALion-Script/pages/./Bus.html">Bus</a> object. The position is the number that indexes the busses in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-188"><a class="header" href="#arguments-188">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>busOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object or the position of the bus to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a> or number</td></tr>
</tbody></table>
</div>
<h2 id="example-267"><a class="header" href="#example-267">Example</a></h2>
<pre><code class="language-lua">-- Remove all busses from the program.
    
busses = this.program:findBusses(true)

for i, bus in ipairs(busses) do
    this.parent:removeBus(bus)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>, <a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>, <a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>, <a href="HALion-Script/pages/./removeZone.html">removeZone</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removeeffect-1"><a class="header" href="#removeeffect-1">removeEffect</a></h1>
<blockquote>
<p><strong>removeEffect(effectOrPosition)</strong></p>
</blockquote>
<h2 id="description-266"><a class="header" href="#description-266">Description</a></h2>
<p>Function to remove an effect from a bus. You can use <a href="HALion-Script/pages/./getBus.html">getBus</a> or <a href="HALion-Script/pages/./findBusses.html">findBusses</a> to define the bus that contains the effect. The effect to be removed is determined by its <a href="HALion-Script/pages/./Effect.html">Effect</a> object or its position. You can use <a href="HALion-Script/pages/./getEffect.html">getEffect</a> or <a href="HALion-Script/pages/./findEffects.html">findEffects</a> to determine the <a href="HALion-Script/pages/./Effect.html">Effect</a> object. The position is the number indexing the effects in the bus.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-189"><a class="header" href="#arguments-189">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>insertOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Effect.html">Effect</a> object or the position of the effect to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Effect.html">Effect</a> or number</td></tr>
</tbody></table>
</div>
<h2 id="example-268"><a class="header" href="#example-268">Example</a></h2>
<pre><code class="language-lua">-- Remove all effects from the program.
 
busses = this.program:findBusses(true)
 
for i, bus in ipairs(busses) do
    effects = bus:findEffects(true)
    for j, effect in ipairs(effects) do
        bus:removeEffect(effect)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./removeBus.html">removeBus</a>, <a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>, <a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>, <a href="HALion-Script/pages/./removeZone.html">removeZone</a>, <a href="HALion-Script/pages/./Effect.html">Effect</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removeenvelopepoint"><a class="header" href="#removeenvelopepoint">removeEnvelopePoint</a></h1>
<blockquote>
<p><strong>removeEnvelopePoint(envelopeArray, index)</strong></p>
</blockquote>
<h2 id="description-267"><a class="header" href="#description-267">Description</a></h2>
<p>Function to remove an envelope point from the specified envelope. You specify the envelope by calling <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter of the desired envelope as argument. If you call <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter as argument, an array with the current envelope points will be returned. Each index of the array represents an envelope point with the fields <code>.level</code>, <code>.duration</code> and <code>.curve</code>. The removeEnvelopePoint function modifies this array. To apply the changes, you must use <a href="HALion-Script/pages/./setParameter.html">setParameter</a> with the EnvelopePoints parameter of the envelope as argument and the array as value.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-190"><a class="header" href="#arguments-190">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>envelopeArray</strong></td><td style="text-align: left">An array with envelope points. Each index of the array represents an envelope point with the fields <code>.level</code>, <code>.duration</code> and <code>.curve</code>. To obtain the envelope array of an envelope, use <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with the EnvelopePoints parameter of the desired envelope as argument.</td><td style="text-align: left">table</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the point to be removed.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-269"><a class="header" href="#example-269">Example</a></h2>
<pre><code class="language-lua"> -- Reset the amplitude envelope.
  
-- Default envelope times in seconds.

attack = 0
decay = 1
sustain = 1
release = 1
  
zone = this.program:getZone()
  
-- Get the envelope points of the amplitude envelope.

ampEnvPoints = zone:getParameter("Amp Env.EnvelopePoints")
ampSustainPoint = zone:getParameter("Amp Env.SustainIndex")
  
-- Set the envelope points to 4.

while #ampEnvPoints &gt; 4 do
    removeEnvelopePoint(ampEnvPoints, #ampEnvPoints)
end
 
while #ampEnvPoints &lt; 4 do
    insertEnvelopePoint(ampEnvPoints, #ampEnvPoints, 0, 1, 0)
end
  
-- Adjust the position of the sustain point.

ampSustainPoint = #ampEnvPoints - 1
  
-- Set first point.

ampEnvPoints[1].level = 0
ampEnvPoints[1].duration = 0
ampEnvPoints[1].curve = 0
  
-- Set second point.

ampEnvPoints[2].level = 1
ampEnvPoints[2].duration = attack
ampEnvPoints[2].curve = 0
  
-- Set third point.

ampEnvPoints[3].level = sustain
ampEnvPoints[3].duration = decay
ampEnvPoints[3].curve = 0
  
-- Set fourth point.

ampEnvPoints[4].level = 0
ampEnvPoints[4].duration = release
ampEnvPoints[4].curve = 0
  
-- Set the envelope points of the amplitude envelope.

zone:setParameter("Amp Env.EnvelopePoints", ampEnvPoints)
zone:setParameter("Amp Env.SustainIndex", ampSustainPoint)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./insertEnvelopePoint.html">insertEnvelopePoint</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removefromparent-1"><a class="header" href="#removefromparent-1">removeFromParent</a></h1>
<blockquote>
<p><strong>removeFromParent()</strong></p>
</blockquote>
<h2 id="description-268"><a class="header" href="#description-268">Description</a></h2>
<p>Function to remove an element in the <strong>Program Tree</strong> from the parent element. The function can remove elements of the type <a href="HALion-Script/pages/./Layer.html">Layer</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a> and <a href="HALion-Script/pages/./Effect.html">Effect</a>. It can even remove the script module that calls the function.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-270"><a class="header" href="#example-270">Example</a></h2>
<pre><code class="language-lua">-- Remove the second child element.

childs = this.program:findChildren(true)
if childs[2] then
    childs[2]:removeFromParent()
end

-- Remove the program bus.

bus = this.program:getBus("Program-Bus")
if bus then
    bus:removeFromParent()
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removelayer-1"><a class="header" href="#removelayer-1">removeLayer</a></h1>
<blockquote>
<p><strong>removeLayer(layerOrPosition)</strong></p>
</blockquote>
<h2 id="description-269"><a class="header" href="#description-269">Description</a></h2>
<p>Function to remove a layer from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the layer to be removed. The layer is determined by its <a href="HALion-Script/pages/./Layer.html">Layer</a> object or its position. You can use <a href="HALion-Script/pages/./getLayer.html">getLayer</a> or <a href="HALion-Script/pages/./findLayers.html">findLayers</a> to determine the <a href="HALion-Script/pages/./Layer.html">Layer</a> object. The position is the number indexing the layers within the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-191"><a class="header" href="#arguments-191">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>layerOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Layer.html">Layer</a> object or the position of the layer to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a> or number</td></tr>
</tbody></table>
</div>
<h2 id="example-271"><a class="header" href="#example-271">Example</a></h2>
<pre><code class="language-lua">-- Remove all layers from the program.

layers = this.program:findLayers(true)

for i, layer in ipairs(layers) do
    layer.parent:removeLayer(layer)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./removeBus.html">removeBus</a>, <a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>, <a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>, <a href="HALion-Script/pages/./removeZone.html">removeZone</a>, <a href="HALion-Script/pages/./Layer.html">Layer</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removemidimodule-1"><a class="header" href="#removemidimodule-1">removeMidiModule</a></h1>
<blockquote>
<p><strong>removeMidiModule(moduleOrPosition)</strong></p>
</blockquote>
<h2 id="description-270"><a class="header" href="#description-270">Description</a></h2>
<p>Function to remove a MIDI module from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the MIDI module. The MIDI module to be removed is determined by its <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object or its position. You can use <a href="HALion-Script/pages/./getMidiModule.html">getMidiModule</a> or <a href="HALion-Script/pages/./findMidiModules.html">findMidiModules</a> to determine the <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object. The position is the number that indexes the MIDI modules in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-192"><a class="header" href="#arguments-192">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>moduleOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> object or the position of the MIDI module to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./MidiModule.html">MidiModule</a> or number</td></tr>
</tbody></table>
</div>
<h2 id="example-272"><a class="header" href="#example-272">Example</a></h2>
<pre><code class="language-lua">-- Remove all MIDI modules from the program except the script module.

modules = this.program:findMidiModules(true)

for i, module in ipairs(modules) do
    if module ~= this then -- Exclude script module.
        module.parent:removeMidiModule(module)
    end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./removeBus.html">removeBus</a>, <a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>, <a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>, <a href="HALion-Script/pages/./removeZone.html">removeZone</a>, <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removeqcassignment-1"><a class="header" href="#removeqcassignment-1">removeQCAssignment</a></h1>
<blockquote>
<p><strong>removeQCAssignment(qc, assignment)</strong></p>
</blockquote>
<h2 id="description-271"><a class="header" href="#description-271">Description</a></h2>
<p>Function to remove a quick control assignment from the specified layer and quick control. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control with the assignment to be removed. The <code>assignment</code> argument is the index of the quick control assignment to be removed. The indices of the quick controls and the assignments both start counting from 1.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-193"><a class="header" href="#arguments-193">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control with the assignment to be removed.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment to be removed.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-273"><a class="header" href="#example-273">Example</a></h2>
<pre><code class="language-lua">-- Remove all quick control assignments from the specified layer and qc.
 
function clearQC(layer, qc)
    local assignments = layer:getNumQCAssignments(qc)
    if assignments &gt; 0 then
        for i = assignments, 1, -1 do
            layer:removeQCAssignment(qc, i)
        end
        print(assignments.." assignments have been removed from '"..layer.name.."', QC "..qc..".")
    else
        print("No assignments found on '"..layer.name.."', QC "..qc..".")
    end
end
 
clearQC(this.parent, 1)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="removezone-1"><a class="header" href="#removezone-1">removeZone</a></h1>
<blockquote>
<p><strong>removeZone(zoneOrPosition)</strong></p>
</blockquote>
<h2 id="description-272"><a class="header" href="#description-272">Description</a></h2>
<p>Function to remove a zone from the specified layer. For example, <code>this.parent</code> specifies the parent layer of the script module as the layer that contains the zone. The zone to be removed is determined by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object or its position. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the <a href="HALion-Script/pages/./Zone.html">Zone</a> object. The position is the number that indexes the zones in the specified layer.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-194"><a class="header" href="#arguments-194">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zoneOrPosition</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object or position of the zone to be removed.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a> or number</td></tr>
</tbody></table>
</div>
<h2 id="example-274"><a class="header" href="#example-274">Example</a></h2>
<pre><code class="language-lua">-- Remove all zones from the program.

zones = this.program:findZones(true)

for i, zone in ipairs(zones) do
    zone.parent:removeZone(zone)
end
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./removeBus.html">removeBus</a>, <a href="HALion-Script/pages/./removeEffect.html">removeEffect</a>, <a href="HALion-Script/pages/./removeLayer.html">removeLayer</a>, <a href="HALion-Script/pages/./removeMidiModule.html">removeMidiModule</a>, <a href="HALion-Script/pages/./Zone.html">Zone</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="runasync"><a class="header" href="#runasync">runAsync</a></h1>
<blockquote>
<p><strong>runAsync(func, arg1, arg2, ...)</strong></p>
</blockquote>
<h2 id="description-273"><a class="header" href="#description-273">Description</a></h2>
<p>Executes a function in the controller thread. By calling runAsync in the processor thread, you can invoke a function that is executed in the controller thread. The execution of runAsync takes at least one audio block, or longer, depending on the function which was called. The callback which called runAsync is put on hold until the function has completed. Please be aware of this when using runAsync.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-195"><a class="header" href="#arguments-195">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>func</strong></td><td style="text-align: left">The name of the function to be called.</td><td style="text-align: left">function</td></tr>
<tr><td style="text-align: left"><strong>arg1, arg2, ...</strong></td><td style="text-align: left">The arguments of the function.</td><td style="text-align: left">optional</td></tr>
</tbody></table>
</div>
<h2 id="example-275"><a class="header" href="#example-275">Example</a></h2>
<pre><code class="language-lua">-- Color held keys.

keyOnColor = 5
keys = getKeyProperties()
 
function setColorOfKey(event, keyColor)
  if keyColor then
    keys[event.note] = { color = keyColor }
  else
    keys[event.note].color = nil
  end
  print(event.note)
end
   
function onNote(event)
  postEvent(event) 
  runAsync(setColorOfKey, event, keyOnColor)
  print("onNote")
end
    
function onRelease(event)
  postEvent(event)
  runAsync(setColorOfKey, event)
  print("onRelease")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./runSync.html">runSync</a>, <a href="HALion-Script/pages/./spawn.html">spawn</a>, <a href="HALion-Script/pages/./wait.html">wait</a>, <a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>, <a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="runsync"><a class="header" href="#runsync">runSync</a></h1>
<blockquote>
<p><strong>runSync(func, id)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.1)</span></p>
<h2 id="description-274"><a class="header" href="#description-274">Description</a></h2>
<p>Executes a function in the processor thread. By calling runSync in the controller thread, you can invoke a function that is executed in the processor thread. For example, by calling runSync in a parameter change callback, you can invoke an event function like <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./releaseVoice.html">releaseVoice</a>, <a href="HALion-Script/pages/./controlChange.html">controlChange</a>, etc. The callback that called runSync is not stopped and continues its execution. The specified function will be exectued in the next audio block. If <code>id</code> is specified, another call to runSync with the same ID overwrites the previous function if it has not been executed yet. Only the last function with the same ID will be executed in the next audio block.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-196"><a class="header" href="#arguments-196">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>func</strong></td><td style="text-align: left">The name of the function to be called.</td><td style="text-align: left">function</td></tr>
<tr><td style="text-align: left"><strong>id</strong></td><td style="text-align: left">If this is specified, another call to runSync with the same ID overwrites the previous function if it has not been executed yet. Only the last function with the same ID will be executed in the next audio block.</td><td style="text-align: left">variant, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-276"><a class="header" href="#example-276">Example</a></h2>
<pre><code class="language-lua">-- Fade all voices, triggered by a script parameter.

defineSlotLocal("noteIDs")
noteIDs = {}
 
function onNote(event)
  local id = postEvent(event)
  table.insert(noteIDs, id)
end
 
function syncFadeAllVoices()
  for i, id in ipairs(noteIDs) do
      fade(id, nil, 0, 1000, true)
  end
  noteIDs = {}
end
 
function fadeAllVoices()
  if fadeVoices then
    runSync(syncFadeAllVoices, 1)
  end
end
 
defineParameter("fadeVoices", "Fade All Voices", false, fadeAllVoices)
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, <a href="HALion-Script/pages/./spawn.html">spawn</a>, <a href="HALion-Script/pages/./wait.html">wait</a>, <a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>, <a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="samples2ms"><a class="header" href="#samples2ms">samples2ms</a></h1>
<blockquote>
<p><strong>samples2ms(samples)</strong></p>
</blockquote>
<h2 id="description-275"><a class="header" href="#description-275">Description</a></h2>
<p>Function to convert a number of samples to the equivalent duration in milliseconds. The sample rate at which the plug-in runs is taken into account.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-197"><a class="header" href="#arguments-197">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>samples</strong></td><td style="text-align: left">The number of samples.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-155"><a class="header" href="#return-values-155">Return Values</a></h2>
<p>Returns the specified number of samples as duration in milliseconds.</p>
<h2 id="example-277"><a class="header" href="#example-277">Example</a></h2>
<pre><code class="language-lua">-- Print the project sample rate in ms.

function onNote(event)
    fs = getSamplingRate()
    print(samples2ms(fs), "ms")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ms2samples.html">ms2samples</a>, <a href="HALion-Script/pages/./ms2beat.html">ms2beat</a>, <a href="HALion-Script/pages/./beat2ms.html">beat2ms</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="savepreset"><a class="header" href="#savepreset">savePreset</a></h1>
<blockquote>
<p><strong>savePreset(filename, layer, plugin, attr)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-276"><a class="header" href="#description-276">Description</a></h2>
<p>Function to save a layer as VST preset to disk.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-198"><a class="header" href="#arguments-198">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>filename</strong></td><td style="text-align: left">The absolute path and name of the VST preset.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>layer</strong></td><td style="text-align: left">Specifies the <a href="HALion-Script/pages/./Layer.html">Layer</a> element which is to be saved.</td><td style="text-align: left"><a href="HALion-Script/pages/./Layer.html">Layer</a></td></tr>
<tr><td style="text-align: left"><strong>plugin</strong></td><td style="text-align: left">Determines the plug-in for the VST preset. You can choose <code>H7</code> (HALion 7) or <code>HS</code> (HALion Sonic).</td><td style="text-align: left">string, optional</td></tr>
<tr><td style="text-align: left"><strong>attr</strong></td><td style="text-align: left">Set this to <code>program</code> to save a program VST preset. If this is not set, a layer VST preset will be saved. Alternatively, you can provide a table with MediaBay attributes and values.</td><td style="text-align: left">string, optional</td></tr>
</tbody></table>
</div>
<h2 id="mediabay-attributes"><a class="header" href="#mediabay-attributes">MediaBay Attributes</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Attribute</th><th style="text-align: left">Value</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left">MediaAuthor</td><td style="text-align: left">"Author"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MediaComment</td><td style="text-align: left">"Comment"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MediaLibraryManufacturerName</td><td style="text-align: left">"ManufacturerName"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MediaLibraryName</td><td style="text-align: left">"LibraryName"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MediaRating</td><td style="text-align: left">3</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left">MusicalArticulations</td><td style="text-align: left">"Articulation1|Articulation2|..."</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalCategory</td><td style="text-align: left">"Category"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalInstrument</td><td style="text-align: left">"Category|Subcategory"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalMoods</td><td style="text-align: left">"Mood1|Mood2|..."</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalProperties</td><td style="text-align: left">"Property1|Property2|..."</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalStyle</td><td style="text-align: left">"Style"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">MusicalSubStyle</td><td style="text-align: left">"Style|Substyle"</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left">VST3UnitTypePath</td><td style="text-align: left">"program" or "program/layer"</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ See <a href="HALion-Script/pages/../../HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html">MediaBay Guideline</a> for more information about the attributes and how to use them.</p>
</blockquote>
<h2 id="example-278"><a class="header" href="#example-278">Example</a></h2>
<pre><code class="language-lua">posStart, posEnd = string.find(getUserSubPresetPath(), "Steinberg/")
fileLocation = string.sub(getUserSubPresetPath(), 1, posEnd)

defineParameter("FileName", nil, "test.vstpreset")
defineParameter("SavePreset", nil, false, function() if SavePreset then onSavePresetChanged() end end)

setScriptExecTimeOut(20000)

attr = {MediaRating = 3, MusicalProperties = "Soft|Bright|Rich", VST3UnitTypePath = "program",}

function onSavePresetChanged()
	FileName = fileLocation..FileName
	local layer = this.parent:getLayer()
	local saved = savePreset(FileName, layer, "HS", attr)
	print(saved)
	SavePreset = false
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setbypassnoteoff"><a class="header" href="#setbypassnoteoff">setBypassNoteOff</a></h1>
<p><span class="version-text">(Since HALion 7.1.0)</span></p>
<blockquote>
<p><strong>setBypassNoteOff(note, enable)</strong></p>
</blockquote>
<h2 id="description-277"><a class="header" href="#description-277">Description</a></h2>
<p>The Halion engine keeps track of notes triggered by <a href="HALion-Script/pages/./playNote.html">playNote</a>. If note-off events are left unhandled in the <a href="HALion-Script/pages/./onRelease.html">onRelease</a> callback and the script module is bypassed or removed from the slot, note events that were triggered by <a href="HALion-Script/pages/./playNote.html">playNote</a> may cause hanging notes. This can be avoided by calling this function in the <a href="HALion-Script/pages/./onRelease.html">onRelease</a> callback. The <a href="HALion-Script/pages/setBypassNoteOff.html#setbypassnoteoff">setBypassNoteOff</a> function forces a note-off to be sent for the note specified by the <code>note</code> argument. A note-off is only sent if the function's <code>enable</code> argument is <code>true</code>. The <code>enable</code> argument is optional and defaults to <code>true</code> if not set. When set to <code>false</code>, it disables the sending of a note-off.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="arguments-199"><a class="header" href="#arguments-199">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>note</strong></td><td style="text-align: left">The MIDI note number.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>enable</strong></td><td style="text-align: left">A note-off will only be sent if this argument is <code>true</code>. The argument defaults to <code>true</code> if not set. When set to <code>false</code>, it disables the sending of a note-off.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-279"><a class="header" href="#example-279">Example</a></h2>
<pre><code class="language-lua">lastID = -1
function doNote()
    if lastID ~= -1 then
        releaseVoice(lastID)
    end
    if note ~= -1 then
        lastID = playNote(note, 100)
    else
        lastID = -1
    end
end
function onPlayNote()
    runSync(doNote)
end
function onRelease(ev)
    if note == -1 then
        postEvent(ev)
    else
        setBypassNoteOff(note) -- Hanging Notes may occur if this is missing.
    end
end
defineParameter("note", nil, -1, -1, 127, onPlayNote) 
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./playNote.html">playNote</a>, <a href="HALion-Script/pages/./onRelease.html">onRelease</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setname-1"><a class="header" href="#setname-1">setName</a></h1>
<blockquote>
<p><strong>setName(name)</strong></p>
</blockquote>
<h2 id="description-278"><a class="header" href="#description-278">Description</a></h2>
<p>Function to change the name of an element in the <strong>Program Tree</strong>.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-200"><a class="header" href="#arguments-200">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">The new name for the element.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h2 id="example-280"><a class="header" href="#example-280">Example</a></h2>
<pre><code class="language-lua">-- Print current name of the script module.

print(this.name)

-- Set the name of the script module to "My Element".

this:setName("My Element")

-- Print the new name of the script module.

print(this.name)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setoutputbus-2"><a class="header" href="#setoutputbus-2">setOutputBus</a></h1>
<blockquote>
<p><strong>setOutputBus(bus)</strong></p>
</blockquote>
<h2 id="description-279"><a class="header" href="#description-279">Description</a></h2>
<p>Function to assign the output of a zone or bus to the specified output bus. The sending zone or bus is determined by its <a href="HALion-Script/pages/./Element.html">Element</a> object. The receiving output bus is specified by its <a href="HALion-Script/pages/./Bus.html">Bus</a> object. Setting the output bus to <code>nil</code> enables the default signal routing for the zone or bus.</p>
<blockquote>
<p>❕ Output busses that are higher up in the hierarchy of the <strong>Program Tree</strong> can be assigned freely. If the sending bus and the receiving output bus have the same parent layer, the output bus must come later in the signal flow.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-201"><a class="header" href="#arguments-201">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Bus.html">Bus</a> object of the bus that you want to assign, or <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Bus.html">Bus</a> or <code>nil</code></td></tr>
</tbody></table>
</div>
<h2 id="example-281"><a class="header" href="#example-281">Example</a></h2>
<pre><code class="language-lua">-- Assign the output of the zone to the Master output bus of the plug-in.

zone = this.parent:getZone()
masterbus = this.program.instance:getBus(1)
 
zone:setOutputBus(masterbus)
 
print("Output of "..zone.name.." is assigned to "..masterbus.name..".")
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getOutputBus.html">getOutputBus</a>, <a href="HALion-Script/pages/./Bus.html">Bus</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setparameter-1"><a class="header" href="#setparameter-1">setParameter</a></h1>
<blockquote>
<p><strong>setParameter(nameOrID, value, undo)</strong></p>
</blockquote>
<h2 id="description-280"><a class="header" href="#description-280">Description</a></h2>
<p>Function to set the value of a parameter. The parameter can be determined by name or ID. The function will have no effect if the parameter does not exist.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-202"><a class="header" href="#arguments-202">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value that you want to set.</td><td style="text-align: left">The new value must match the data type of the parameter.</td></tr>
<tr><td style="text-align: left"><strong>undo</strong></td><td style="text-align: left">Determines if the parameter change will be part of the undo. This argument is only evaluated in the controller context. A parameter change in the processor context never has undo. If setParameter is called in the controller context it will be part of the undo, unless you set this argument to <code>false</code>. For example, you should set this to <code>false</code> if the call to setParameter is made within a parameter callback that is already part of the undo, and if the order of execution of these parameter changes is important.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-282"><a class="header" href="#example-282">Example</a></h2>
<pre><code class="language-lua">-- Set the value of the Level parameter of the parent layer.

function onLoadIntoSlot()
    this.parent:setParameter("Level", 0) -- Set via name.
    this.parent:setParameter(38, 0)      -- Set via ID.
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>, <a href="HALion-Script/pages/./getParameterNormalized.html">setParameterNormalized</a>, <a href="HALion-Script/pages/./hasParameter.html">hasParameter</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setparameternormalized-1"><a class="header" href="#setparameternormalized-1">setParameterNormalized</a></h1>
<blockquote>
<p><strong>setParameterNormalized(nameOrID, value, undo)</strong></p>
</blockquote>
<h2 id="description-281"><a class="header" href="#description-281">Description</a></h2>
<p>Function to set the value of a parameter in the normalized range from 0 to 1.0. The parameter can be determined by name or ID. This function has no effect if the parameter does not exist or if the value is of the type string.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-203"><a class="header" href="#arguments-203">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>nameOrID</strong></td><td style="text-align: left">The name or ID of the parameter.</td><td style="text-align: left">string or number</td></tr>
<tr><td style="text-align: left"><strong>value</strong></td><td style="text-align: left">The value you want to set in the normalized range from 0 to 1.0.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>undo</strong></td><td style="text-align: left">Determines if the parameter change will be part of the undo. This argument is only evaluated in the controller context. A parameter change in the processor context never has undo. If setParameter is called in the controller context it will be part of the undo, unless you set this argument to <code>false</code>. For example, you should set this to <code>false</code> if the call to setParameter is made within a parameter callback that is already part of the undo, and if the order of execution of these parameter changes is important.</td><td style="text-align: left">boolean, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-283"><a class="header" href="#example-283">Example</a></h2>
<pre><code class="language-lua">-- Set the normalized value of the parent layer's level parameter.

function onLoadIntoSlot()
    this.parent:setParameterNormalized("Level", 0.5) -- Set via name.
    this.parent:setParameterNormalized(38, 0.5)      -- Set via ID.
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getParameterNormalized.html">getParameterNormalized</a>, <a href="HALion-Script/pages/./getParameter.html">getParameter</a>, <a href="HALion-Script/pages/./setParameter.html">setParameter</a>, <a href="HALion-Script/pages/./hasParameter.html">hasParameter</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setprogram-2"><a class="header" href="#setprogram-2">setProgram</a></h1>
<blockquote>
<p><strong>setProgram(programOrNil, index)</strong></p>
</blockquote>
<h2 id="description-282"><a class="header" href="#description-282">Description</a></h2>
<p>Function to set a program in the specified slot of the Program Table or the Slot Rack of the plug-in instance. Before calling this function, you must access the Instance object with this.program.instance. The program is determined by its Program object. To specify the slot in the Program Table, you must use the index argument. To specify the slot in the Slot Rack, you must use a Slot object, for example, via getSlot. The program can be removed from the Slot Rack by using nil as argument.</p>
<blockquote>
<p>❕ An <a href="HALion-Script/pages/./Element.html">Element</a> object can only have one parent. It cannot be child of multiple parents. Therefore, each program can exist only once in the <strong>Program Table</strong>. Furthermore, an <a href="HALion-Script/pages/./Element.html">Element</a> object that you retrieved from the running plug-in instance cannot be added twice to the <strong>Program Table</strong>. It must be removed before it can be added again. The <a href="HALion-Script/pages/./Element.html">Element</a> objects that you retrieve through <a href="HALion-Script/pages/./loadPreset.html">loadPreset</a> or <a href="HALion-Script/pages/./loadPresetAsync.html">loadPresetAsync</a> can be added freely to the <strong>Program Table</strong>, because these functions create a copy of the <a href="HALion-Script/pages/./Element.html">Element</a> objects when reading them.</p>
</blockquote>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-204"><a class="header" href="#arguments-204">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>programOrNil</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Program.html">Program</a> object of the program. Programs can be removed from the <strong>Slot Rack</strong> by using <code>nil</code>.</td><td style="text-align: left"><a href="HALion-Script/pages/./Program.html">Program</a> or <code>nil</code></td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the slot in the <strong>Program Table</strong> where you want to set the program.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-284"><a class="header" href="#example-284">Example</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
</ol>
<pre><code class="language-lua">-- Set Program.vstpreset in slot 3 of the Program Table and slot 1 of the Slot Rack.
     
-- Get the file path for user VST presets.
path = getUserPresetPath()
     
-- Load the VST preset.
loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
  
-- Set loadedProgram in slot 3 of the Program Table.
this.program.instance:setProgram(loadedProgram, 3)
 
-- Set program in slot 1 of the Slot Rack.
program = this.program.instance:getProgram(3)
this.program.instance:getSlot(1):setProgram(program)
  
-- Clear slot 2 of the Slot Rack.
this.program.instance:getSlot(2):setProgram(nil)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getProgram.html">getProgram</a>, <a href="HALion-Script/pages/./Program.html">Program</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentbypass-1"><a class="header" href="#setqcassignmentbypass-1">setQCAssignmentBypass</a></h1>
<blockquote>
<p><strong>setQCAssignmentBypass(qc, assignment, bypass)</strong></p>
</blockquote>
<h2 id="description-283"><a class="header" href="#description-283">Description</a></h2>
<p>Function to set the bypass state of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>bypass</code> argument sets the bypass state of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-205"><a class="header" href="#arguments-205">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>bypass</strong></td><td style="text-align: left">The bypass state to be set.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h2 id="example-285"><a class="header" href="#example-285">Example</a></h2>
<pre><code class="language-lua">-- Bypass the specified quick control assignment.

layer = this.parent
qc = 1
assignment = 1
    
layer:setQCAssignmentBypass(qc, assignment, true)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentcurve-1"><a class="header" href="#setqcassignmentcurve-1">setQCAssignmentCurve</a></h1>
<blockquote>
<p><strong>setQCAssignmentCurve(qc, assignment, curve)</strong></p>
</blockquote>
<h2 id="description-284"><a class="header" href="#description-284">Description</a></h2>
<p>Function to set the curve value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>curve</code> argument sets the curve value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-206"><a class="header" href="#arguments-206">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>asignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">The curve value in the range -100 % to +100 %.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-286"><a class="header" href="#example-286">Example</a></h2>
<pre><code class="language-lua">-- Set the curve of the quick control assignment to -100 %.

layer = this.parent
qc = 1
assignment = 1
   
layer:setQCAssignmentCurve(qc, assignment, -100)
</code></pre>
<p><strong>See also:</strong>  <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentmax-1"><a class="header" href="#setqcassignmentmax-1">setQCAssignmentMax</a></h1>
<blockquote>
<p><strong>setQCAssignmentMax(qc, assignment max)</strong></p>
</blockquote>
<h2 id="description-285"><a class="header" href="#description-285">Description</a></h2>
<p>Function to set the maximum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>max</code> argument sets the maximum value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-207"><a class="header" href="#arguments-207">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>max</strong></td><td style="text-align: left">The maximum value to be set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h2 id="example-287"><a class="header" href="#example-287">Example</a></h2>
<pre><code class="language-lua">-- Set the maximum value of the quick control assignment depending on the mode.

layer = this.parent
qc = 1
assignment = 1
  
qcMode = layer:getQCAssignmentMode(qc, assignment)
  
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMax = 75
else
    qcMax = 100
end
    
layer:setQCAssignmentMax(qc, assignment, qcMax)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentmin-1"><a class="header" href="#setqcassignmentmin-1">setQCAssignmentMin</a></h1>
<blockquote>
<p><strong>setQCAssignmentMin(qc, assignment, min)</strong></p>
</blockquote>
<h2 id="description-286"><a class="header" href="#description-286">Description</a></h2>
<p>Function to set the minimum value of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>min</code> argument sets the minimum value of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-208"><a class="header" href="#arguments-208">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>min</strong></td><td style="text-align: left">The minimum value to be set.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The value range is always 0 to 100 %, even if the mode of the quick control assignment is set to Relative or Switch Relative.</p>
</blockquote>
<h2 id="example-288"><a class="header" href="#example-288">Example</a></h2>
<pre><code class="language-lua">-- Set the minimum value of the quick control assignment depending on the mode.

layer = this.parent
qc = 1
assignment = 1
 
qcMode = layer:getQCAssignmentMode(qc, assignment)
 
if (qcMode == QCAssignmentMode.relative or qcMode == QCAssignmentMode.switchRelative) then
    qcMin = 25
else
    qcMin = 0
end
   
layer:setQCAssignmentMin(qc, assignment, qcMin)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentmode-1"><a class="header" href="#setqcassignmentmode-1">setQCAssignmentMode</a></h1>
<blockquote>
<p><strong>setQCAssignmentMode(qc, assignment, mode)</strong></p>
</blockquote>
<h2 id="description-287"><a class="header" href="#description-287">Description</a></h2>
<p>Function to set the mode of the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>mode</code> argument sets the mode of the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-209"><a class="header" href="#arguments-209">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>asignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>mode</strong></td><td style="text-align: left">The mode to be set. It can be determined via names or indices. See <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a> for details.</td><td style="text-align: left">enum or number</td></tr>
</tbody></table>
</div>
<h2 id="example-289"><a class="header" href="#example-289">Example</a></h2>
<pre><code class="language-lua">-- Set the mode of the quick control assignment to absolute and adjust min and max to full range.

layer = this.parent
qc = 1
assignment = 1
    
layer:setQCAssignmentMode(qc, assignment, QCAssignmentMode.absolute)
layer:setQCAssignmentMin(qc, assignment, 0)
layer:setQCAssignmentMax(qc, assignment, 100)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentparamid-1"><a class="header" href="#setqcassignmentparamid-1">setQCAssignmentParamId</a></h1>
<blockquote>
<p><strong>setQCAssignmentParamId(qc, assignment, paramID)</strong></p>
</blockquote>
<h2 id="description-288"><a class="header" href="#description-288">Description</a></h2>
<p>Function to set the parameter ID for connecting the corresponding parameter to the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The <code>paramID</code> argument selects the parameter to be connected with the quick control assignment.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-210"><a class="header" href="#arguments-210">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignment</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>paramID</strong></td><td style="text-align: left">The ID of the parameter to be connected.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-290"><a class="header" href="#example-290">Example</a></h2>
<pre><code class="language-lua">-- Connect the coarse parameter of the zone to the specified quick control assignment.

layer = this.parent
zones = layer:findZones(true)
zone = zones[1]
qc = 1
assignment = 1
coarseParamID = zone:getParameterDefinition("Pitch.Coarse").id
  
layer:setQCAssignmentParamId(qc, assignment, coarseParamID)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentScope.html">setQCAssignmentScope</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setqcassignmentscope-1"><a class="header" href="#setqcassignmentscope-1">setQCAssignmentScope</a></h1>
<blockquote>
<p><strong>setQCAssignmentScope(qc, assignment, scope)</strong></p>
</blockquote>
<h2 id="description-289"><a class="header" href="#description-289">Description</a></h2>
<p>Function to set the scope for the specified quick control assignment. The quick control assignment is determined by the <a href="HALion-Script/pages/./Layer.html">Layer</a> object, the index of the quick control and the index of the assignment itself. For example, <code>this.parent</code> defines the parent layer of the script module as the layer that contains the quick control. The <code>qc</code> argument is the index of the quick control and the <code>assignment</code> argument is the index of the assignment. The indices of the quick controls and the assignments both start counting from 1. The scope is defined by the <a href="HALion-Script/pages/./Element.html">Element</a> object that you assign to the <code>scope</code> argument.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-211"><a class="header" href="#arguments-211">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>qc</strong></td><td style="text-align: left">The index of the quick control.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>assignments</strong></td><td style="text-align: left">The index of the quick control assignment.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>scope</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Element.html">Element</a> object to be used as scope.</td><td style="text-align: left"><a href="HALion-Script/pages/./Element.html">Element</a></td></tr>
</tbody></table>
</div>
<h2 id="example-291"><a class="header" href="#example-291">Example</a></h2>
<pre><code class="language-lua">-- Set the scope to the first zone that was found.

layer = this.parent
zones = layer:findZones(true)
zone = zones[1]
qc = 1
assignment = 1
   
layer:setQCAssignmentScope(qc, assignment, zone)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./setQCAssignmentParamId.html">setQCAssignmentParamId</a>, <a href="HALion-Script/pages/./setQCAssignmentMin.html">setQCAssignmentMin</a>, <a href="HALion-Script/pages/./setQCAssignmentMax.html">setQCAssignmentMax</a>, <a href="HALion-Script/pages/./setQCAssignmentCurve.html">setQCAssignmentCurve</a>, <a href="HALion-Script/pages/./setQCAssignmentMode.html">setQCAssignmentMode</a>, <a href="HALion-Script/pages/./setQCAssignmentBypass.html">setQCAssignmentBypass</a>, <a href="HALion-Script/pages/./addQCAssignment.html">addQCAssignment</a>, <a href="HALion-Script/pages/./removeQCAssignment.html">removeQCAssignment</a>, <a href="HALion-Script/pages/./getNumQCAssignments.html">getNumQCAssignments</a>, <a href="HALion-Script/pages/./getQCAssignmentParamId.html">getQCAssignmentParamId</a>, <a href="HALion-Script/pages/./getQCAssignmentScope.html">getQCAssignmentScope</a>, <a href="HALion-Script/pages/./getQCAssignmentMin.html">getQCAssignmentMin</a>, <a href="HALion-Script/pages/./getQCAssignmentMax.html">getQCAssignmentMax</a>, <a href="HALion-Script/pages/./getQCAssignmentCurve.html">getQCAssignmentCurve</a>, <a href="HALion-Script/pages/./getQCAssignmentMode.html">getQCAssignmentMode</a>, <a href="HALion-Script/pages/./getQCAssignmentBypass.html">getQCAssignmentBypass</a>, <a href="HALion-Script/pages/./Quick-Control-Assignment-Modes.html">Quick Control Assignment Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setscriptexectimeout"><a class="header" href="#setscriptexectimeout">setScriptExecTimeOut</a></h1>
<blockquote>
<p><strong>setScriptExecTimeOut(duration)</strong></p>
</blockquote>
<h2 id="description-290"><a class="header" href="#description-290">Description</a></h2>
<p>Function to specify the maximum allowed execution time of a function call in the script. If the execution of a function call exceeds the execution time-out, the script will end with an execution error. This prevents the infinite execution of scripts, e.g., in case of an infinite loop. The script execution time-out can be defined separately for the controller and the processor thread. Which execution time-out is set, depends on where setScriptExecTimeOut is called. The duration for the script execution time-out is specified in milliseconds. The default is 5000 ms for the controller thread and 1000 ms for the processor thread.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-212"><a class="header" href="#arguments-212">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">The duration for the script execution time-out in milliseconds.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-292"><a class="header" href="#example-292">Example</a></h2>
<pre><code class="language-lua">-- Half the default script execution time-out of the controller and the processor thread.
 
-- Controller thread.

setScriptExecTimeOut(getScriptExecTimeOut() / 2)
print("Execution time-out of "..getContext()..": "..getScriptExecTimeOut().." ms.")
 
 -- Processor thread.

function onInit()
    setScriptExecTimeOut(getScriptExecTimeOut() / 2)
    print("Execution time-out of "..getContext()..": "..getScriptExecTimeOut().." ms.")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getScriptExecTimeOut.html">getScriptExecTimeOut</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setsource1-1"><a class="header" href="#setsource1-1">setSource1</a></h1>
<blockquote>
<p><strong>setSource1(source, sourceInfo1, sourceInfo2)</strong></p>
</blockquote>
<h2 id="description-291"><a class="header" href="#description-291">Description</a></h2>
<p>Function to set the 1st modulation source of a row in the modulation matrix. The row is specified with the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-213"><a class="header" href="#arguments-213">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>source</strong></td><td style="text-align: left">The modulation source. It can be determined via names or indices. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details. Standard modulation sources like the LFOs or the envelopes can be set directly. Special modulation sources like MIDI controllers or MIDI modules can only be set by also specifiying sourceInfo1 and sourceInfo2.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo1</strong></td><td style="text-align: left">Optional argument to specify the MIDI controller number or the MIDI module, for example. See example for details.</td><td style="text-align: left">number or <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo2</strong></td><td style="text-align: left">Optional argument to select the modulation output of a MIDI module, for example. See example for details.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-293"><a class="header" href="#example-293">Example</a></h2>
<pre><code class="language-lua">-- Define the modulation sources and infos in an array.

modSources = {
    { source = ModulationSource.lfo1, bipolar = 1 },
    { source = ModulationSource.midiControl, bipolar = 0, sourceInfo1 = 1 },
    { source = ModulationSource.quickControl, bipolar = 1, sourceInfo1 = this.program, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 2 },
    { source = ModulationSource.noteExpression, bipolar = 0, sourceInfo1 = 1 }
}
 
-- Define two modulation outputs for the script module.

defineModulation("50%", false)
defineModulation("100%", false)
 
-- Calculate the modulation outputs.

function calcModulation()
    return 0.5, 1
end
 
-- Get the element object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Assign the modulation sources to source 1 in the modulation rows 1 to 6.

for i=1, #modSources do
    local modRow = zone:getModulationMatrixRow(i)
    modRow:setSource1(modSources[i].source, modSources[i].sourceInfo1, modSources[i].sourceInfo2)
    modRow:setParameter("Source1.Polarity", modSources[i].bipolar) -- Set the default polarity of the source.
end
 
-- Assign the sample &amp; hold to source 2 in modulation row 1.

modRow = zone:getModulationMatrixRow(1)
modRow:setSource2(ModulationSource.sampleAndHold, 0)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource2.html">setSource2</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setsource2-1"><a class="header" href="#setsource2-1">setSource2</a></h1>
<blockquote>
<p><strong>setSource2(source, sourceInfo1, sourceInfo2)</strong></p>
</blockquote>
<h2 id="description-292"><a class="header" href="#description-292">Description</a></h2>
<p>Function to set the 2nd modulation source of a row in the modulation matrix. The row is specified with the Zone object of the zone and the index of the modulation matrix row.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-214"><a class="header" href="#arguments-214">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>source</strong></td><td style="text-align: left">The modulation source. It can be determined via names or indices. See <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a> for details. Standard modulation sources like the LFOs or the envelopes can be set directly. Special modulation sources like MIDI controllers or MIDI modules can only be set by also specifiying sourceInfo1 and sourceInfo2.</td><td style="text-align: left">enum or number</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo1</strong></td><td style="text-align: left">Optional argument to specify the MIDI controller number or the MIDI module, for example. See example for details.</td><td style="text-align: left">number or <a href="HALion-Script/pages/./MidiModule.html">MidiModule</a>, optional</td></tr>
<tr><td style="text-align: left"><strong>sourceInfo2</strong></td><td style="text-align: left">Optional argument to select the modulation output of a MIDI module, for example. See example for details.</td><td style="text-align: left">number, optional</td></tr>
</tbody></table>
</div>
<h2 id="example-294"><a class="header" href="#example-294">Example</a></h2>
<pre><code class="language-lua">-- Define the modulation sources and infos in an array.

modSources = {
    { source = ModulationSource.lfo1, bipolar = 1 },
    { source = ModulationSource.midiControl, bipolar = 0, sourceInfo1 = 1 },
    { source = ModulationSource.quickControl, bipolar = 1, sourceInfo1 = this.program, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 1 },
    { source = ModulationSource.modulationModule, bipolar = 0, sourceInfo1 = this, sourceInfo2 = 2 },
    { source = ModulationSource.noteExpression, bipolar = 0, sourceInfo1 = 1 }
}
 
-- Define two modulation outputs for the script module.

defineModulation("50%", false)
defineModulation("100%", false)
 
-- Calculate the modulation outputs.

function calcModulation()
    return 0.5, 1
end
 
-- Get the element object of the first zone.

zone = this.program:findZones(true)[1]
 
-- Assign the modulation sources to source 1 in the modulation rows 1 to 6.

for i=1, #modSources do
    local modRow = zone:getModulationMatrixRow(i)
    modRow:setSource1(modSources[i].source, modSources[i].sourceInfo1, modSources[i].sourceInfo2)
    modRow:setParameter("Source1.Polarity", modSources[i].bipolar) -- Set the default polarity of the source.
end
 
-- Assign the sample &amp; hold to source 2 in modulation row 1.

modRow = zone:getModulationMatrixRow(1)
modRow:setSource2(ModulationSource.sampleAndHold, 0)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./ModulationMatrixRow.html">ModulationMatrixRow</a>, <a href="HALion-Script/pages/./getModulationMatrixRow.html">getModulationMatrixRow</a>, <a href="HALion-Script/pages/./setSource1.html">setSource1</a>, <a href="HALion-Script/pages/./getSource1.html">getSource1</a>, <a href="HALion-Script/pages/./getSource2.html">getSource2</a>, <a href="HALion-Script/pages/./Modulation-Source-Types.html">Modulation Source Types</a>, <a href="HALion-Script/pages/./Modulation-Destination-Types.html">Modulation Destination Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="setzonefmxalgo"><a class="header" href="#setzonefmxalgo">setZoneFMXAlgo</a></h1>
<blockquote>
<p><strong>setZoneFMXAlgo(zone, algo)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-293"><a class="header" href="#description-293">Description</a></h2>
<p>Function to set the algorithm of the FM zone. The <code>zone</code> argument sets the target FM zone by its <a href="HALion-Script/pages/./Zone.html">Zone</a> object. You can use <a href="HALion-Script/pages/./getZone.html">getZone</a> or <a href="HALion-Script/pages/./findZones.html">findZones</a> to determine the <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the target FM zone. The <code>algo</code> argument is the index that corresponds to the desired FM-X algorithm preset of the FM zone.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-215"><a class="header" href="#arguments-215">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>zone</strong></td><td style="text-align: left">The <a href="HALion-Script/pages/./Zone.html">Zone</a> object of the FM zone.</td><td style="text-align: left"><a href="HALion-Script/pages/./Zone.html">Zone</a></td></tr>
<tr><td style="text-align: left"><strong>algo</strong></td><td style="text-align: left">The index that corresponds to the desired FM-X algorithm preset of the FM zone. The index ranges from 1 to 88.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-295"><a class="header" href="#example-295">Example</a></h2>
<pre><code class="language-lua">algorithms = {}

for i = 1, 88 do
	algorithms[i] = ("Algorithm "..i)
end

function onSelectAlgorithmChanged()
	local zone = this.parent:getZone()
	setZoneFMXAlgo(zone, SelectAlgorithm)
end

defineParameter("SelectAlgorithm", nil, 1, algorithms, onSelectAlgorithmChanged)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="sortevents"><a class="header" href="#sortevents">sortEvents</a></h1>
<blockquote>
<p><strong>sortEvents(eventsTable)</strong></p>
</blockquote>
<h2 id="description-294"><a class="header" href="#description-294">Description</a></h2>
<p>Function to sort the events of the specified events table according to their PPQ position. The function sorts the events from first to last PPQ position. The events table is part of a tracks table which is part of the MIDI sequence table. See <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a> for details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-216"><a class="header" href="#arguments-216">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>eventsTable</strong></td><td style="text-align: left">The table record referencing the events table.</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h2 id="example-296"><a class="header" href="#example-296">Example</a></h2>
<pre><code class="language-lua">-- Produce a minor scale with reverse PPQ positions, then sort it.
 
-- Create MIDI sequence table.

midiSequence = { tracks = { { events = {} } } }
 
-- Initialize variables.

minorScaleIntervals = { 0, 2, 3, 5, 7, 8, 10, 12 }
root = 60  -- C3
ppqPosition = 7
 
-- Produce a minor scale with reverse PPQ positions.

for i, interval in ipairs(minorScaleIntervals) do
 
    local note = root + interval
 
    -- Create note-on event.

    local noteOn = Event(EventType.noteOn)
    noteOn.note = note
    noteOn.velocity = 100
    noteOn.ppqPosition = ppqPosition
 
    -- Create note-off event.

    local noteOff = Event(EventType.noteOff)
    noteOff.note = note
    noteOff.ppqPosition = ppqPosition + 1
 
    -- Insert the events in the MIDI sequence table with Lua's table.insert function.
    
    table.insert(midiSequence.tracks[1].events, noteOn)
    table.insert(midiSequence.tracks[1].events, noteOff)
 
    ppqPosition = ppqPosition -1
 
end
 
print("Sorting before sortEvents:")
 
for i, event in ipairs(midiSequence.tracks[1].events) do
    print(i, event)
end
 
print() -- Empty line.
 
sortEvents(midiSequence.tracks[1].events)
 
print("Sorting after sortEvents:")
 
for i, event in ipairs(midiSequence.tracks[1].events) do
    print(i, event)
end
 
print() -- Empty line.
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>, <a href="HALion-Script/pages/./writeMidiFile.html">writeMidiFile</a>, <a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>, <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>, <a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="spawn"><a class="header" href="#spawn">spawn</a></h1>
<blockquote>
<p><strong>spawn(func, arg1, arg2, ...)</strong></p>
</blockquote>
<h2 id="description-295"><a class="header" href="#description-295">Description</a></h2>
<p>Calls a Lua function and executes it in a separate, parallel thread.</p>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-217"><a class="header" href="#arguments-217">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>func</strong></td><td style="text-align: left">The name of the function to be called.</td><td style="text-align: left">function</td></tr>
<tr><td style="text-align: left"><strong>arg1, arg2, ...</strong></td><td style="text-align: left">The arguments of the function.</td><td style="text-align: left">optional</td></tr>
</tbody></table>
</div>
<h2 id="example-297"><a class="header" href="#example-297">Example</a></h2>
<pre><code class="language-lua">-- Play echos after releasing the note.

function echoNotes(event, echos)
    local duration = getBeatDuration()
    for i=1, echos do
        wait(duration*0.5)
        playNote(event.note+7*i, event.velocity*1/i, duration*0.25)
    end
    print("Spawn function of Note", event.note, "ended at", getTime())
end
 
function onNote(event)
    postEvent(event)
    waitForRelease()
    spawn(echoNotes, event, 3)
    print("Note", event.note, "was released at", getTime())
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, <a href="HALion-Script/pages/./runSync.html">runSync</a>, <a href="HALion-Script/pages/./wait.html">wait</a>, <a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>, <a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="startundoblock"><a class="header" href="#startundoblock">startUndoBlock</a></h1>
<blockquote>
<p><strong>startUndoBlock(name, id)</strong></p>
</blockquote>
<h2 id="description-296"><a class="header" href="#description-296">Description</a></h2>
<p>Function to combine multiple undo entries into one undo block. For example, if your script inserts several elements into the program, you might want to be able to remove all the elements in one single undo operation. The function returns an ID for identifying the undo block. This ID can be used as second argument in later calls to startUndoBlock for combining the undo blocks that refer to this ID.  The <code>name</code> argument will be used as entry in the undo history. If multiple undo blocks are combined, only the name of the last undo block will be used. This function must be terminated using <a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a>. If startUndoBlock is called within a callback function, <a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a> is called automatically when the callback function ends.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-218"><a class="header" href="#arguments-218">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>name</strong></td><td style="text-align: left">This will be displayed as entry in the undo history.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>id</strong></td><td style="text-align: left">Set this to combine the undo blocks that refer to this ID. <span class="version-text">(Since HALion 6.1)</span></td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="return-values-156"><a class="header" href="#return-values-156">Return Values</a></h2>
<p>Returns an ID that can be used to identify the undo block.</p>
<h2 id="example-1-8"><a class="header" href="#example-1-8">Example 1</a></h2>
<pre><code class="language-lua">-- Change param1, then param2.
-- The changes of param1 and param2 are combined into one undo entry.

function param1Changed()
  id = startUndoBlock("param1 Changed")
end
function param2Changed()
  startUndoBlock("param2 Changed", id)
end
defineParameter{ name = "param1", onChanged = param1Changed }
defineParameter{ name = "param2", onChanged = param2Changed }
</code></pre>
<h2 id="example-2-8"><a class="header" href="#example-2-8">Example 2</a></h2>
<p>To explore the following script:</p>
<ol>
<li>Download <a href="HALion-Script/pages/../vstpresets/Program.vstpreset">Program.vstpreset</a>.</li>
<li>Drag the preset on the <strong>MediaBay</strong> to import it to the user folder for VST presets.</li>
<li>Create an empty program and add a script module.</li>
<li>Paste the script into the text editor of the script module and execute the script.</li>
<li>Check the entries in the undo history with and without undo block.</li>
</ol>
<pre><code class="language-lua">-- Insert elements from Program.vstpreset into the current program.
 
-- Get the file path for user VST presets.

path = getUserPresetPath()
 
-- Load the VST preset.

loadedProgram = loadPreset(path.."/Program/Program.vstpreset")
 
-- Get elements from loadedProgram.

midiModule = loadedProgram:findMidiModules()[1] -- First MIDI module in loadedProgram.
subLayer = loadedProgram:findLayers()[1]        -- First layer in loadedProgram.
bus = loadedProgram:findBusses()[1]             -- First bus in loadedProgram.
  
program = this.program
  
-- Begin the undo block.

startUndoBlock("Insert Modules") -- Only this entry will display in the undo history.
 
    -- Insert the elements.

    if midiModule then
        program:insertMidiModule(midiModule, 1)
    end
    if subLayer then
        program:insertLayer(subLayer, 1)
    end
    if bus then
        program:insertBus(bus, 1)
    end
 
endUndoBlock() -- Terminate the undo block.
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a>, <a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a>, <a href="HALion-Script/pages/./Undo-Context-Types.html">Undo Context Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="startwriteoutputtofile"><a class="header" href="#startwriteoutputtofile">startWriteOutputToFile</a></h1>
<blockquote>
<p><strong>startWriteOutputToFile(filename, append, silent)</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-297"><a class="header" href="#description-297">Description</a></h2>
<p>Function to write the ouput of print functions to a file. Only the print functions between startWriteOutputToFile and <a href="HALion-Script/pages/./stopWriteOutputToFile.html">stopWriteOutputToFile</a> are considered.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-219"><a class="header" href="#arguments-219">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>filename</strong></td><td style="text-align: left">The absolute path and name of the file.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>append</strong></td><td style="text-align: left">Appends the output to the file if this is set to <code>true</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>silent</strong></td><td style="text-align: left">Hides the console output if this is set to <code>true</code>.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h2 id="example-298"><a class="header" href="#example-298">Example</a></h2>
<pre><code class="language-lua">posStart, posEnd = string.find(getUserSubPresetPath(), "Steinberg/")
fileLocation = string.sub(getUserSubPresetPath(), 1, posEnd)

defineParameter("FileName", nil, "mapping.csv")
defineParameter("PrintSilent", nil, false)
defineParameter("WriteMapping", nil, false, function() if WriteMapping then writeMapping() end end)

zones = this.parent:findZones(true)

mapping = {
	{param = "Name",       value = function(zone) return zone.name end},
	{param = "File Name",  value = function(zone) return zone:getParameter("SampleOsc.Filename") end},
	{param = "Root Key",   value = function(zone) return zone:getParameter("SampleOsc.Rootkey") end},
}

function writeMapping()
	FileName = fileLocation..FileName
	startWriteOutputToFile(FileName, false, PrintSilent) -- First line of csv file.
		for i, map in ipairs(mapping) do
			if i &lt; #mapping then
				printRaw(map.param, ";")
			else
				print(map.param)
			end
		end
	stopWriteOutputToFile()
	startWriteOutputToFile(FileName, true, PrintSilent) -- Add one line for each zone.
		for i, zone in ipairs(zones) do
			for j, map in ipairs(mapping) do
				if j &lt; #mapping then
					printRaw(map.value(zone), ";")
				else
					print(map.value(zone))
				end
			end
		end
	stopWriteOutputToFile()
	WriteMapping = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./stopWriteOutputToFile.html">stopWriteOutputToFile</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="stopwriteoutputtofile"><a class="header" href="#stopwriteoutputtofile">stopWriteOutputToFile</a></h1>
<blockquote>
<p><strong>stopWriteOutputToFile()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-298"><a class="header" href="#description-298">Description</a></h2>
<p>Stops writing the ouput to the file. See <a href="HALion-Script/pages/./startWriteOutputToFile.html">startWriteOutputToFile</a> for further details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="example-299"><a class="header" href="#example-299">Example</a></h2>
<pre><code class="language-lua">posStart, posEnd = string.find(getUserSubPresetPath(), "Steinberg/")
fileLocation = string.sub(getUserSubPresetPath(), 1, posEnd)

defineParameter("FileName", nil, "mapping.csv")
defineParameter("PrintSilent", nil, false)
defineParameter("WriteMapping", nil, false, function() if WriteMapping then writeMapping() end end)

zones = this.parent:findZones(true)

mapping = {
	{param = "Name",       value = function(zone) return zone.name end},
	{param = "File Name",  value = function(zone) return zone:getParameter("SampleOsc.Filename") end},
	{param = "Root Key",   value = function(zone) return zone:getParameter("SampleOsc.Rootkey") end},
}

function writeMapping()
	FileName = fileLocation..FileName
	startWriteOutputToFile(FileName, false, PrintSilent) -- First line of csv file.
		for i, map in ipairs(mapping) do
			if i &lt; #mapping then
				printRaw(map.param, ";")
			else
				print(map.param)
			end
		end
	stopWriteOutputToFile()
	startWriteOutputToFile(FileName, true, PrintSilent) -- Add one line for each zone.
		for i, zone in ipairs(zones) do
			for j, map in ipairs(mapping) do
				if j &lt; #mapping then
					printRaw(map.value(zone), ";")
				else
					print(map.value(zone))
				end
			end
		end
	stopWriteOutputToFile()
	WriteMapping = false
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./startWriteOutputToFile.html">startWriteOutputToFile</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="undo-context-types"><a class="header" href="#undo-context-types">Undo Context Types</a></h1>
<p><span class="version-text">(Since HALion 6.1)</span></p>
<h2 id="description-299"><a class="header" href="#description-299">Description</a></h2>
<p>Enumerator to identify the undo context.</p>
<p><strong>Available in:</strong> Controller.</p>
<!-- ANCHOR: undo-context-types -->
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Undo Context</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">UndoContext.inUndo</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">UndoContext.inRedo</td></tr>
</tbody></table>
</div><!-- ANCHOR_END: undo-context-types -->
<p><strong>See also:</strong> <a href="HALion-Script/pages/./getUndoContext.html">getUndoContext</a>, <a href="HALion-Script/pages/./startUndoBlock.html">startUndoBlock</a>, <a href="HALion-Script/pages/./endUndoBlock.html">endUndoBlock</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="voicegroupsdata-table"><a class="header" href="#voicegroupsdata-table">VoiceGroupsData Table</a></h1>
<p><span class="version-text">(Since HALion 6.4.10)</span></p>
<h2 id="description-300"><a class="header" href="#description-300">Description</a></h2>
<p>Voice Groups are managed via a predefined table: the VoiceGroupsData table. This table can be obtained by making a call to <a href="HALion-Script/pages/./getParameter.html">getParameter</a> with <code>"VoiceManager.VoiceGroupsData"</code> as parameter. The voice groups are referenced by their index. Each voice group has the fields <code>.maxPolyphony</code>, <code>.exclusiveGroup</code> and <code>.stealMode</code>. You can change the correspondig values, but the structure of this table must remain unaltered. The values are set by making a call to <code>setParameter</code>. See the example below for more details.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="fields-24"><a class="header" href="#fields-24">Fields</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Field</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>.maxPolyphony</strong></td><td style="text-align: left">The maximum polyphony of the voice group. The value range is from 1 to 128.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.exclusiveGroup</strong></td><td style="text-align: left">The exclusive group of the voice group. The value range is from 0 to 32. Set this to 0 to switch the exclusive group off.</td><td style="text-align: left">number</td></tr>
<tr><td style="text-align: left"><strong>.stealMode</strong></td><td style="text-align: left">The steal mode of the voice group. See <a href="HALion-Script/pages/./Voice-Group-Steal-Modes.html">Voice Group Steal Modes</a> for details.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-300"><a class="header" href="#example-300">Example</a></h2>
<pre><code class="language-lua">-- Activate the voice groups for the parent layer.

layer = this.parent
layer:setParameter("VoiceManager.Voice Management", 1) -- Set Voice Manager to "On".
layer:setParameter("VoiceManager.VoiceGroups", true) -- Activate the Voice Groups.

voiceGroups = layer:getParameter("VoiceManager.VoiceGroupsData")

for i = 1, 128 do
    voiceGroups[i].maxPolyphony = 4
    voiceGroups[i].exclusiveGroup = 0 -- Set exclusive group to "Off".
    voiceGroups[i].stealMode = StealMode.lastNotePriority
end

layer:setParameter("VoiceManager.VoiceGroupsData", voiceGroups)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Voice-Group-Steal-Modes.html">Voice Group Steal Modes</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="voice-group-steal-modes"><a class="header" href="#voice-group-steal-modes">Voice Group Steal Modes</a></h1>
<p><span class="version-text">(Since HALion 6.4.10)</span></p>
<h2 id="description-301"><a class="header" href="#description-301">Description</a></h2>
<p>Enumerator to identify the different voice group steal modes.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-220"><a class="header" href="#arguments-220">Arguments</a></h2>
<p>The voice group steal modes can be determined with these names or indices:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Index</th><th style="text-align: left">Name</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left">StealMode.lastNotePriority</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">StealMode.firstNotePriority</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">StealMode.lowNotePriority</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">StealMode.highNotePriority</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">StealMode.stealLowestAmplitude</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">StealMode.stealReleasedNotes</td></tr>
</tbody></table>
</div>
<h2 id="example-301"><a class="header" href="#example-301">Example</a></h2>
<pre><code class="language-lua">-- Activate the voice groups for the parent layer.

layer = this.parent
layer:setParameter("VoiceManager.Voice Management", 1) -- Set Voice Manager to "On".
layer:setParameter("VoiceManager.VoiceGroups", true) -- Activate the Voice Groups.

voiceGroups = layer:getParameter("VoiceManager.VoiceGroupsData")

for i = 1, 128 do
    voiceGroups[i].maxPolyphony = 4
    voiceGroups[i].exclusiveGroup = 0 -- Set exclusive group to "Off".
    voiceGroups[i].stealMode = StealMode.lastNotePriority
end

layer:setParameter("VoiceManager.VoiceGroupsData", voiceGroups)
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./VoiceGroupsData-Table.html">VoiceGroupsData Table</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="wait"><a class="header" href="#wait">wait</a></h1>
<blockquote>
<p><strong>wait(ms)</strong></p>
</blockquote>
<h2 id="description-302"><a class="header" href="#description-302">Description</a></h2>
<p>Function to suspend the execution of a callback for a specific time in milliseconds.</p>
<blockquote>
<p>❕ If the wait function is used in the Controller thread, it operates at a lower rate and is therefore less accurate.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-221"><a class="header" href="#arguments-221">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>ms</strong></td><td style="text-align: left">Time in ms.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-302"><a class="header" href="#example-302">Example</a></h2>
<pre><code class="language-lua">-- Delay notes which have not been released for 1000 ms.

local initTime = getTime()
local releaseTime = {}
 
function onNote(event)
  local noteOnTime = getTime()
  wait(1000)
  if noteOnTime &gt; (releaseTime[event.note] or initTime) then
    postEvent(event)
  end
end
 
function onRelease(event)
  releaseTime[event.note] = getTime()
  postEvent(event)
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>, <a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a>, <a href="HALion-Script/pages/./spawn.html">spawn</a>, <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, <a href="HALion-Script/pages/./runSync.html">runSync</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="waitbeat"><a class="header" href="#waitbeat">waitBeat</a></h1>
<blockquote>
<p><strong>waitBeat(beats)</strong></p>
</blockquote>
<h2 id="description-303"><a class="header" href="#description-303">Description</a></h2>
<p>Function to suspend the execution of a callback for a specific time. This time is specified in number of beats. One beat equals the length of a quarter note based on the current tempo.</p>
<blockquote>
<p>❕ If the waitBeat function is used in the Controller thread, it operates at a lower rate and is therefore less accurate.</p>
</blockquote>
<p><strong>Available in:</strong> Controller, Processor.</p>
<h2 id="arguments-222"><a class="header" href="#arguments-222">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>beats</strong></td><td style="text-align: left">Time in number of quarter notes and fractions of it.</td><td style="text-align: left">number</td></tr>
</tbody></table>
</div>
<h2 id="example-303"><a class="header" href="#example-303">Example</a></h2>
<pre><code class="language-lua">-- Change tuning periodically after one beat.

function onNote(event)
  local id = postEvent(event)
  while isNoteHeld() do
    waitBeat(1)
    local tune = math.random() * 12 - 6
    changeTune(id, tune, false, false)
  end
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./wait.html">wait</a>, <a href="HALion-Script/pages/./waitForRelease.html">waitForRelease</a>, <a href="HALion-Script/pages/./spawn.html">spawn</a>, <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, <a href="HALion-Script/pages/./runSync.html">runSync</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="waitforrelease"><a class="header" href="#waitforrelease">waitForRelease</a></h1>
<blockquote>
<p><strong>waitForRelease()</strong></p>
</blockquote>
<h2 id="description-304"><a class="header" href="#description-304">Description</a></h2>
<p>Function to suspend the execution of the <a href="HALion-Script/pages/./onNote.html">onNote</a> callback until the note that called <a href="HALion-Script/pages/./onNote.html">onNote</a> gets released either by a corresponding note-off or sustain pedal off.</p>
<p><strong>Available in:</strong> Processor.</p>
<h2 id="example-304"><a class="header" href="#example-304">Example</a></h2>
<pre><code class="language-lua">-- Print the note length in milliseconds.

function onNote(event)
    postEvent(event)
    local noteOnTime = getTime()
    waitForRelease()
    local noteOffTime = getTime()
    local noteLength = noteOffTime - noteOnTime
    print(noteLength.." ms")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./wait.html">wait</a>, <a href="HALion-Script/pages/./waitBeat.html">waitBeat</a>, <a href="HALion-Script/pages/./spawn.html">spawn</a>, <a href="HALion-Script/pages/./runAsync.html">runAsync</a>, <a href="HALion-Script/pages/./runSync.html">runSync</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="writemidifile"><a class="header" href="#writemidifile">writeMidiFile</a></h1>
<blockquote>
<p><strong>writeMidiFile(path, midiSequence)</strong></p>
</blockquote>
<h2 id="description-305"><a class="header" href="#description-305">Description</a></h2>
<p>Function to write a MIDI file (.mid) to disk.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="arguments-223"><a class="header" href="#arguments-223">Arguments</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>path</strong></td><td style="text-align: left">The path and file name of the MIDI file.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>midiSequence</strong></td><td style="text-align: left">The MIDI sequence table that contains the data. The structure of the table is defined in the <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>.</td><td style="text-align: left">table</td></tr>
</tbody></table>
</div>
<h2 id="return-values-157"><a class="header" href="#return-values-157">Return Values</a></h2>
<p>Returns <code>true</code> if the MIDI file was written successfully and <code>false</code> if not.</p>
<h2 id="example-305"><a class="header" href="#example-305">Example</a></h2>
<pre><code class="language-lua">-- Produce a minor scale and write it to a MIDI file.
 
-- Create the MIDI sequence table.

midiSequence = { tracks = { { events = {} } } }
 
-- Initialize variables.

minorScaleIntervals = { 0, 2, 3, 5, 7, 8, 10, 12 }
root = 60  -- C3
ppqPosition = 0
 
-- Produce the events of the minor scale.

for i, interval in ipairs(minorScaleIntervals) do
 
    local note = root + interval
 
    -- Create note-on event.

    local noteOn = Event(EventType.noteOn)
    noteOn.note = note
    noteOn.velocity = 100
    noteOn.ppqPosition = ppqPosition
 
    -- Create note-off event.

    local noteOff = Event(EventType.noteOff)
    noteOff.note = note
    noteOff.ppqPosition = ppqPosition + 1
 
    -- Insert the events in the MIDI sequence table.

    insertEvent(midiSequence.tracks[1].events, noteOn)
    insertEvent(midiSequence.tracks[1].events, noteOff)
 
    ppqPosition = ppqPosition + 1
 
end
 
-- Write the MIDI sequence table as .mid file to disk.

saveState = writeMidiFile ("c:/temp/test.mid", midiSequence) --[[ Please set the file path to the desired
                                                                  location on your system before you run
                                                                  the script. ]]
 
if saveState then
    print("The MIDI file was successfully written.")
else
    print("The MIDI file could not be written!")
end
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./readMidiFile.html">readMidiFile</a>, <a href="HALion-Script/pages/./insertEvent.html">insertEvent</a>, <a href="HALion-Script/pages/./sortEvents.html">sortEvents</a>, <a href="HALion-Script/pages/./MIDI-Sequence-Table.html">MIDI Sequence Table</a>, <a href="HALion-Script/pages/./MIDI-File-Format-Types.html">MIDI File Format Types</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Script/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Script/pages/./HALion-Script.html">HALion Script</a> / <a href="HALion-Script/pages/./Reference.html">Reference</a> /</p>
<h1 id="zone-constructor-1"><a class="header" href="#zone-constructor-1">Zone Constructor</a></h1>
<blockquote>
<p><strong>Zone()</strong></p>
</blockquote>
<p><span class="version-text">(Since HALion 6.4.0)</span></p>
<h2 id="description-306"><a class="header" href="#description-306">Description</a></h2>
<p>Constructor to create a new <a href="HALion-Script/pages/./Zone.html">Zone</a> object.</p>
<p><strong>Available in:</strong> Controller.</p>
<h2 id="return-values-158"><a class="header" href="#return-values-158">Return Values</a></h2>
<p>Returns a new <a href="HALion-Script/pages/./Zone.html">Zone</a> object.</p>
<h2 id="example-306"><a class="header" href="#example-306">Example</a></h2>
<pre><code class="language-lua">-- The following function creates different types of objects in the Program Tree.
-- The objects in the Program Tree do not have a name. You will see only their icons.

function createProgram()
  local inst = this.program.instance
  local prg = Program()
  local bus = Bus()
  prg:appendBus(bus)
  inst:setProgram(prg, 1)
  local layer = Layer()
  prg:appendLayer(layer)
  layer:appendZone(Zone())
  local mm = MidiModule('MIDI Player')
  layer:appendMidiModule(mm)
  local fx = Effect('Distortion')
  bus:appendEffect(fx)
end
 
createProgram()
</code></pre>
<p><strong>See also:</strong> <a href="HALion-Script/pages/./Program-Constructor.html">Program Constructor</a>, <a href="HALion-Script/pages/./Bus-Constructor.html">Bus Constructor</a>, <a href="HALion-Script/pages/./Layer-Constructor.html">Layer Constructor</a>, <a href="HALion-Script/pages/./MidiModule-Constructor.html">MidiModule Constructor</a>, <a href="HALion-Script/pages/./Effect-Constructor.html">Effect Constructor</a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> /</p>
<h1 id="halion-macro-page"><a class="header" href="#halion-macro-page">HALion Macro Page</a></h1>
<p>In this section of the documentation, you find additional information about macro page editing and a reference to all objects like <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a>, <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a>, and <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> used on HALion macro pages.</p>
<ul>
<li>To make yourself familiar with the basic concepts and the usage of the <strong>Macro Page Designer</strong>, please read the <a href="https://steinberg.help/">steinberg.help</a> documentation.</li>
<li>To explore existing macro pages, read the section <a href="HALion-Macro-Page/pages/./Example-Macro-Pages.html">Example Macro Pages</a>.</li>
<li>To find examples for the usage of templates, read the section <a href="HALion-Macro-Page/pages/./Exploring-Templates.html">Exploring Templates</a>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> /</p>
<h1 id="example-macro-pages"><a class="header" href="#example-macro-pages">Example Macro Pages</a></h1>
<p>To learn more about macro pages and how to set them up, you can load the presets of Anima, Skylab, Eagle, Raven, Studio Strings, and Hot Brass. All presets of these instruments use macro pages that were entirely built with the <strong>Macro Page Designer</strong>. By exploring these example macro pages you can see how these macro pages are set up and how they are connected to the engine parameters.</p>
<ol>
<li>Load a preset from Anima, Skylab, Eagle, Raven, Studio Strings, or Hot Brass.</li>
<li>Open the <strong>Macro Page Designer</strong>.</li>
<li>Select the first Layer in the <strong>Program Tree</strong>. The <strong>Macro Page Designer</strong> will display the respective macro page.</li>
<li>In the <strong>Macro Page Designer</strong>, explore the <strong>GUI</strong>, <strong>Templates</strong>, and <strong>Ressources</strong> tree.</li>
<li>Examine the <strong>Properties</strong> of the selected element in the tree to see how it is connected to the engine and UI parameters.</li>
</ol>
<h2 id="using-templates-from-the-example-macro-pages"><a class="header" href="#using-templates-from-the-example-macro-pages">Using Templates from the Example Macro Pages</a></h2>
<p>The macro pages of Anima, Skylab, Eagle, Raven, Studio Strings, and Hot Brass are installed as independent VST Sounds for HALion and for HALion Sonic, which means that you can use the templates from both these instruments for your own macro pages, too.</p>
<p>In the <strong>Resource/Library Browser</strong>, you have access to the templates of these macro pages.</p>
<p><img src="HALion-Macro-Page/pages/../images/LibraryLocationsEagle.PNG" alt="Library Location Eagle Controls" /></p>
<ol>
<li>In the <strong>Resource/Library Browser</strong>, navigate to the library that contains the template that you want to use.</li>
<li>Drag the template from the <strong>Resource/Library Browser</strong> to the canvas of your macro page or to a group on the canvas.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> /</p>
<h1 id="exploring-templates"><a class="header" href="#exploring-templates">Exploring Templates</a></h1>
<h2 id="controls-libraries"><a class="header" href="#controls-libraries">Controls Libraries</a></h2>
<p>HALion provides a large number of preconfigured templates that can directly be used on macro pages. These are packed into three libraries: <a href="HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a>, <a href="HALion-Macro-Page/pages/Exploring-Templates.html#additional-and-vector-controls">Additional Controls</a> and <a href="HALion-Macro-Page/pages/Exploring-Templates.html#additional-and-vector-controls">Vector Controls</a>.</p>
<p><img src="HALion-Macro-Page/pages/../images/LibraryLocationsBasic.PNG" alt="Library Location Basic Controls" /></p>
<h3 id="basic-controls"><a class="header" href="#basic-controls">Basic Controls</a></h3>
<p>The Basic Controls library contains standard controls like knobs, sliders, text fields, switches, etc., as well as a collection of advanced templates that can be used to accomplish more complex tasks such as loading subpresets or wavetables or control more complex modules like the FlexPhraser, the Step Modulator, or HALion's multi-stage envelope. You can access the libraries using the <strong>Resource/Library Browser</strong> of the <strong>Macro Page Designer</strong>.</p>
<p>The Basic Controls library also contains an example macro page that gives an overview of the available templates.</p>
<p><strong>To get access to this macro page:</strong></p>
<ol>
<li>Download the program <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a>.</li>
<li>Drag the program to the <strong>Slot Rack</strong>.</li>
</ol>
<p>The Basic Controls macro page contains multiple pages to demonstrate the usage of the available templates. Each template examplifies how the connections to the engine and UI parameters have to be set up to work correctly.</p>
<p><img src="HALion-Macro-Page/pages/../images/BasicControlsMacroPage.PNG" alt="Basic Controls Macro Page" /></p>
<p><strong>To explore the templates:</strong></p>
<ol>
<li>In the <strong>Macro Page Designer</strong>, activate <strong>Test Macro Page</strong> <img src="HALion-Macro-Page/pages/../images/TestMacroPage-On.PNG" alt="Test Macro Page" /> and navigate to the page that contains the template that you want to use.</li>
<li>Deactivate <strong>Test Macro Page</strong> <img src="HALion-Macro-Page/pages/../images/TestMacroPage-Off.PNG" alt="Test Macro Page" /> and select the template on the macro page.</li>
<li>Examine the <strong>Properties</strong> of the template to see how it is connected to the engine and UI parameters.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine how the template is built up.</li>
</ol>
<p>For further details on the available templates, see the <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> reference pages.</p>
<h3 id="additional-and-vector-controls"><a class="header" href="#additional-and-vector-controls">Additional and Vector Controls</a></h3>
<p>The Additional Controls and Vector Controls libraries provide further templates for knobs, sliders and switches with an individual look. The templates in the Vector Controls library use Scalable Vector Graphics (SVG), which offer more customization options for your macro page designs. You can use the provided templates just like the ones from the <a href="HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> library.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> /</p>
<h1 id="resources"><a class="header" href="#resources">Resources</a></h1>
<p>Resources are the most basic objects and are used by controls to display graphics, animations, or text. The following types of resources are available:</p>
<ul>
<li><a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a></li>
<li><a href="HALion-Macro-Page/pages/./Color.html">Color</a></li>
<li><a href="HALion-Macro-Page/pages/./Decor-Resource.html">Decor (Resource)</a></li>
<li><a href="HALion-Macro-Page/pages/./Font.html">Font</a></li>
<li><a href="HALion-Macro-Page/pages/./Section.html">Section</a></li>
<li><a href="HALion-Macro-Page/pages/./SVG.html">SVG</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="bitmap"><a class="header" href="#bitmap">Bitmap</a></h1>
<h2 id="description-307"><a class="header" href="#description-307">Description</a></h2>
<p>The Bitmap resource requires either a 24-bit png file with alpha channel or a bmp file without alpha channel. Many elements refer to bitmap resources, which can be assigned once a resource has been created. Keep in mind that each individual image is managed by the OS and costs performance. Therefore, it is recommended to work with a lower number of images, create sections within these images and use the sections wherever an image resource is required. In this case, HALion's GUI framework handles the section resources and the OS only has to deal with a few images.</p>
<h2 id="properties"><a class="header" href="#properties">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the Bitmap resource.</td></tr>
<tr><td style="text-align: left"><strong>Path</strong></td><td style="text-align: left">Specifies the path and file name of the used bitmap.</td></tr>
<tr><td style="text-align: left"><strong>Alpha</strong></td><td style="text-align: left">Defines the opacity of the bitmap from 0 (transparent)  to 255 (opaque).</td></tr>
<tr><td style="text-align: left"><strong>Frames</strong></td><td style="text-align: left">Defines the number of subframes in a bitmap. Bitmaps with frames can be used as animations in controls like knobs, sliders, and animations.</td></tr>
<tr><td style="text-align: left"><strong>Scale Mode</strong></td><td style="text-align: left">This mode defines how a bitmap is adapted in size when the control that is using it is set to Scalable and sized smaller or larger than the original bitmap.<ul><li><strong>Stretch</strong>: By default, scale mode is set to stretch, which means that the bitmap is drawn smaller or larger.</li><li><strong>Tile</strong>: This means that the original bitmap will be drawn repeatedly as soon as the size of the control exceeds the size of the original bitmap.</li><li><strong>Tile Border</strong>: This mode only draws the area defined by the margin settings repeatedly and leaves the inner area empty.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Margin</strong></td><td style="text-align: left"><strong>Left, Top, Right, Bottom:</strong> As soon as a margin is set, the margin area is not stretched or tiled, but only the area outside. This can be used to define frames, for example, where the four corners of the bitmap are preserved in size and only the rest of the bitmap is stretched.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="color"><a class="header" href="#color">Color</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-308"><a class="header" href="#description-308">Description</a></h2>
<p>This resource allows you to define colors that can be used wherever colors can be assigned, e.g., in controls or other resources.</p>
<h2 id="properties-1"><a class="header" href="#properties-1">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the Color resource.</td></tr>
<tr><td style="text-align: left"><strong>Red</strong></td><td style="text-align: left">Defines the amount of red in the color. The number 0 signifies no representation of the color and 255 signifies the highest possible concentration of the color.</td></tr>
<tr><td style="text-align: left"><strong>Green</strong></td><td style="text-align: left">Defines the amount of green in the color. The number 0 signifies no representation of the color and 255 signifies the highest possible concentration of the color.</td></tr>
<tr><td style="text-align: left"><strong>Blue</strong></td><td style="text-align: left">Defines the amount of blue in the color. The number 0 signifies no representation of the color and 255 signifies the highest possible concentration of the color.</td></tr>
<tr><td style="text-align: left"><strong>Alpha</strong></td><td style="text-align: left">Defines the opacity of the color from 0 (transparent)  to 255 (opaque).</td></tr>
<tr><td style="text-align: left"><strong>#</strong></td><td style="text-align: left">Allows you to specify the color as a hex color code in the format RRGGBBAA.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="decor-resource"><a class="header" href="#decor-resource">Decor (Resource)</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-309"><a class="header" href="#description-309">Description</a></h2>
<p>This resource allows you to specify rectangular shapes as graphical elements to create background frames, group frames, etc. The rectangular shape can be drawn as an outline, filled, or both. The fill style can either be a solid color, a linear gradient, or a radial gradient. Furthermore, the rectangle can have rounded corners with an adjustable radius. Decor resources can be assigned in all controls that make use of bitmap resources.</p>
<h2 id="properties-2"><a class="header" href="#properties-2">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the Decor resource.</td></tr>
<tr><td style="text-align: left"><strong>Size</strong></td><td style="text-align: left">Here, you can specify the initial width and height of the rectangle. If the control in which the decor is used is set to be scalable, the size of the decor is adapted accordingly.</td></tr>
<tr><td style="text-align: left"><strong>Fill Style</strong></td><td style="text-align: left">Decors can be filled. You can choose from the following fill styles:<ul><li><strong>No Fill:</strong> The inside of the rectangle remains fully transparent.  This mode is useful for decors that show only an outline.</li><li><strong>Solid:</strong> The inside of the rectangle will be filled with a color.</li><li><strong>Linear Gradient:</strong> The inside of the rectangle will be filled with a linear gradient. The gradient has a top and a bottom color which refers to the default angle of 0 degree.</li><li><strong>Radial Gradient:</strong> The inside of the rectangle will be filled with a radial gradient.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Radius</strong></td><td style="text-align: left">Specifies the roundness of the rectangle corners.</td></tr>
<tr><td style="text-align: left"><strong>Line Width</strong></td><td style="text-align: left">Specifies the width of the outline.</td></tr>
<tr><td style="text-align: left"><strong>Angle</strong></td><td style="text-align: left">Specifies the angle of the Linear Gradient fill style in degrees.</td></tr>
<tr><td style="text-align: left"><strong>Stretch</strong></td><td style="text-align: left">Allows you to compress (values &lt; 1.0) or expand (values &gt; 1.0) the Linear Gradient or Radial Gradient.</td></tr>
<tr><td style="text-align: left"><strong>Center X/Y</strong></td><td style="text-align: left">Specifies the center of the Radial Gradient. Negative values move the center to the left and top, postive values to the right and bottom.</td></tr>
<tr><td style="text-align: left"><strong>Line Color</strong></td><td style="text-align: left">Defines the color of the outline.</td></tr>
<tr><td style="text-align: left"><strong>Color</strong></td><td style="text-align: left">Specifies the fill color for the Solid fill style.</td></tr>
<tr><td style="text-align: left"><strong>Start Color</strong></td><td style="text-align: left">Specifies the top fill color for the Linear Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>End Color</strong></td><td style="text-align: left">Specifies the bottom fill color for the Linear Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>Inner Color</strong></td><td style="text-align: left">Specifies the inner fill color for the Radial Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>Outer Color</strong></td><td style="text-align: left">Specifies the outer fill color for the Radial Gradient fill style.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="font"><a class="header" href="#font">Font</a></h1>
<h2 id="description-310"><a class="header" href="#description-310">Description</a></h2>
<p>Font resources are used to define different text styles which are referenced by labels, text fields, and other controls that display text.</p>
<p>Each resource specifies which of the system fonts (available for both Mac and PC) are used, which font size, color, alpha channel value, and style (bold, italic, underlined). If you want to use a custom truetype font, you can specify this truetype font file in the custom font field. Even when you are working with custom fonts, it is still good practice to specify a system font to function as fallback solution for characters that might not exist in a specific truetype font.</p>
<blockquote>
<p>❕ When distributing libraries that include TrueType fonts, only include those fonts that can be freely distributed. Do not include fonts that need to be licensed.</p>
</blockquote>
<blockquote>
<p>❕ TrueType fonts must be based on Unicode tables to work correctly.</p>
</blockquote>
<h2 id="properties-3"><a class="header" href="#properties-3">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the Font resource.</td></tr>
<tr><td style="text-align: left"><strong>Font</strong></td><td style="text-align: left">Allows you to select the system font to be used. These fonts are available on Windows and Mac or have their equivalents on Mac. If a custom TrueType font is to be be used instead, you can define it under Custom. In this case, the specified system family is only used as a fallback solution for characters that do not exist in the custom font file. For text edit controls that pop up a text edit field, the system font is also used to display the text during editing.</td></tr>
<tr><td style="text-align: left"><strong>Size</strong></td><td style="text-align: left">Defines the font size in points.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left">Defines the font style for the system font: bold, italic, underline.</td></tr>
<tr><td style="text-align: left"><strong>Color</strong></td><td style="text-align: left">Colors can be defined in different ways:<ul><li>by setting a hex # value, e.g., 202020 (red, green, blue);</li><li>by setting RGB values (<strong>Red</strong>, <strong>Green</strong>, <strong>Blue</strong>);</li><li>by clicking on the color preview field and using the color picker.</li></ul><p><strong>Alpha:</strong> Sets the transparency (256 fully opaque, 0 fully transparent). When adjusting the alpha value, the preview field blends against a light grey background. The resulting color in the macro page will look different, depending on the local background color.</p><strong>Color Picker:</strong><ul><li>The upper hue bar allows you to select the hue value.</li><li>The color field allows you to set saturation and value.</li><li>Right-click the color picker for further options: Copy Color, Paste Color, and Reset Color.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Custom</strong></td><td style="text-align: left">Allows you to add a custom font. Drag and drop a TrueType file on the custom field or click the open icon to choose the location and file.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="section"><a class="header" href="#section">Section</a></h1>
<h2 id="description-311"><a class="header" href="#description-311">Description</a></h2>
<p>A section is a portion of a bitmap defined by a rectangle that has a x/y-position, a width and a height.</p>
<p>A section can be used instead of an image resource and has the advantage to use less OS graphic resources. Therefore, it is useful to add only a few image resources combining graphical elements, which are then used as references in the various sections.</p>
<p>Sections can also be used for animations, by setting the Frames property to the number of subframes that can be found within the section. Furthermore, sections can be scaled by the controls in which they are assigned. Select the Scale Mode and Margins to define the scaling behavior.</p>
<h2 id="properties-4"><a class="header" href="#properties-4">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the section.</td></tr>
<tr><td style="text-align: left"><strong>Pos X</strong></td><td style="text-align: left">The x-coordinate of the first pixel (upper left corner).</td></tr>
<tr><td style="text-align: left"><strong>Pos Y</strong></td><td style="text-align: left">The y-coordinate of the first pixel (upper left corner).</td></tr>
<tr><td style="text-align: left"><strong>Width</strong></td><td style="text-align: left">The horizontal size in pixels.</td></tr>
<tr><td style="text-align: left"><strong>Height</strong></td><td style="text-align: left">The vertical size in pixels.</td></tr>
<tr><td style="text-align: left"><strong>Frames</strong></td><td style="text-align: left">Defines the number of subframes in a bitmap. Bitmaps with frames can be used as animations in controls like knobs, sliders, and animations.</td></tr>
<tr><td style="text-align: left"><strong>Scale Mode</strong></td><td style="text-align: left">This mode defines how a bitmap is adapted in size when the control that is using it is set to Scalable and sized smaller or larger than the original bitmap.<ul><li><strong>Stretch</strong>: By default, scale mode is set to stretch, which means that the bitmap is drawn smaller or larger.</li><li><strong>Tile</strong>: This means that the original bitmap will be drawn repeatedly as soon as the size of the control exceeds the size of the original bitmap.</li><li><strong>Tile Border</strong>: This mode only draws the area defined by the margin settings repeatedly and leaves the inner area empty.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Margin</strong></td><td style="text-align: left"><strong>Left, Top, Right, Bottom:</strong> As soon as a margin is set, the margin area is not stretched or tiled, but only the area outside. This can be used to define frames, for example, where the four corners of the bitmap are preserved in size and only the rest of the bitmap is stretched.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Resources.html">Resources</a> /</p>
<h1 id="svg"><a class="header" href="#svg">SVG</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-312"><a class="header" href="#description-312">Description</a></h2>
<p>A Scalable Vector Graphics (SVG) resource requires a standard SVG file and can be used in all controls as an alternative to <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources. In the simplest case the SVG is used as it is, without any further changes, but it is also possible to modify it in the <strong>Macro Page Designer</strong>. The various subobjects that make up the SVG, such as groups and paths, can be manipulated individually. Each object can be addressed by its object ID and the pairs of properties and values. These values can either be static numbers or Lua expressions that can be used to calculate values. In the Lua expression you can use <code>N</code>, the normalized control value, <code>V</code>, the value of the connected parameter, or <code>S</code>, the string representation of the connected parameter. This enables you to animate the properties of the SVG objects such as color, rotation, position, etc. when used in <a href="HALion-Macro-Page/pages/./Knob.html">Knobs</a>, <a href="HALion-Macro-Page/pages/./Slider.html">Sliders</a>, <a href="HALion-Macro-Page/pages/./Switch.html">Switches</a>, or <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> controls. Only the aforementioned controls support animation. The Lua expression must be entered as follows: <code>$(expression)</code>. In the following screenshot you can see the Lua expression <code>$(N*360)</code>, for example.</p>
<p><img src="HALion-Macro-Page/pages/../images/SVG-Properties.png" alt="SVG Properties" /></p>
<h2 id="properties-5"><a class="header" href="#properties-5">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the SVG resource.</td></tr>
<tr><td style="text-align: left"><strong>Path</strong></td><td style="text-align: left">Specifies the path and filename of the used SVG file.</td></tr>
<tr><td style="text-align: left"><strong>Objects</strong></td><td style="text-align: left">Click the + button to add an object that you want to modify.</td></tr>
<tr><td style="text-align: left"><strong>ID</strong></td><td style="text-align: left">Specifies the ID of the object inside the SVG. Objects that should be changeable must have an ID. Some SVG editors require you to name an object for it to get an ID, some assign IDs automatically. To be sure, check the SVG file in a text editor.</td></tr>
<tr><td style="text-align: left"><strong>Property</strong></td><td style="text-align: left">Specifies the property that you want to change. For example, <code>fill</code> allows you to change the fill color of the object. Please refer to the SVG specification to learn more about properties.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Specifies the value of the property. For example, <code>white</code> as a standard SVG color, or <code>rgb(255,00,00)</code> as a user-defined color. Please refer to the SVG specification to learn more about how to define values for particular properties.<p>You can also use <a href="HALion-Macro-Page/pages/./Color.html">Color</a> resources that are defined in the macro page. To use a <a href="HALion-Macro-Page/pages/./Color.html">Color</a> resource the value must be set like this: <code>$cr(color resource name)</code>.</p></td></tr>
</tbody></table>
</div>
<h2 id="steinberg-specific-svg-property"><a class="header" href="#steinberg-specific-svg-property">Steinberg-specific SVG Property</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>smtg:radiusScaling</strong></td><td style="text-align: left">This is a Steinberg-specific property that allows you to modify the SVG 'rect' property, so that the corner radius is not scaled with the control element. Set the value to 0 to turn off radius scaling.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> /</p>
<h1 id="controls"><a class="header" href="#controls">Controls</a></h1>
<p>A control is a basic element, like a text field, menu, switch, knob, etc., that can be added to a macro page. Controls have properties for their behavior and their appearance. Depending on the type of control, they can be directly connected to engine and script parameters or have a display functionality. Most controls use resources like <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmaps</a>, <a href="HALion-Macro-Page/pages/./SVG.html">SVGs</a>, <a href="HALion-Macro-Page/pages/./Font.html">Fonts</a> and <a href="HALion-Macro-Page/pages/./Section.html">Sections</a> to define their graphical appearance.</p>
<ul>
<li><a href="HALion-Macro-Page/pages/./Animation.html">Animation</a></li>
<li><a href="HALion-Macro-Page/pages/./Decor-Control.html">Decor (Control)</a></li>
<li><a href="HALion-Macro-Page/pages/./Disable.html">Disable</a></li>
<li><a href="HALion-Macro-Page/pages/./Drag-Group.html">Drag Group</a></li>
<li><a href="HALion-Macro-Page/pages/./Drop.html">Drop</a></li>
<li><a href="HALion-Macro-Page/pages/./Group.html">Group</a></li>
<li><a href="HALion-Macro-Page/pages/./Image.html">Image</a></li>
<li><a href="HALion-Macro-Page/pages/./Internal.html">Internal</a></li>
<li><a href="HALion-Macro-Page/pages/./Knob.html">Knob</a></li>
<li><a href="HALion-Macro-Page/pages/./Label.html">Label</a></li>
<li><a href="HALion-Macro-Page/pages/./Live-Data-View.html">Live Data View</a></li>
<li><a href="HALion-Macro-Page/pages/./Menu.html">Menu</a></li>
<li><a href="HALion-Macro-Page/pages/./Meter.html">Meter</a></li>
<li><a href="HALion-Macro-Page/pages/./Range-Slider.html">Range Slider</a></li>
<li><a href="HALion-Macro-Page/pages/./Slider.html">Slider</a></li>
<li><a href="HALion-Macro-Page/pages/./Stack.html">Stack</a></li>
<li><a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a></li>
<li><a href="HALion-Macro-Page/pages/./Switch.html">Switch</a></li>
<li><a href="HALion-Macro-Page/pages/./Template.html">Template</a></li>
<li><a href="HALion-Macro-Page/pages/./Template-List.html">Template List</a></li>
<li><a href="HALion-Macro-Page/pages/./Text.html">Text</a></li>
<li><a href="HALion-Macro-Page/pages/./Waveform.html">Waveform</a></li>
<li><a href="HALion-Macro-Page/pages/./Wavetable.html">Wavetable</a></li>
<li><a href="HALion-Macro-Page/pages/./Wavetable-3D.html">Wavetable 3D</a></li>
<li><a href="HALion-Macro-Page/pages/./XY.html">XY</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="animation"><a class="header" href="#animation">Animation</a></h1>
<h2 id="description-313"><a class="header" href="#description-313">Description</a></h2>
<p>Used to display animations or graphical option menus.</p>
<h2 id="properties-6"><a class="header" href="#properties-6">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Show Value</strong></td><td style="text-align: left">Activate this if you want to display a tooltip with the current parameter value when using the control. This option can be exported to the template level. The exported parameter can then be activated by setting it to <code>true</code> (the default is <code>false</code>).</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Invert:</strong> Inverts the animation.</li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmap</strong></td><td style="text-align: left">Bitmap refers to:<ul><li>An individual bitmap file in png or bmp format defined as resource.</li><li>A section, specifying a region within a larger source bitmap.</li><li>A SVG file defined as resource.</li></ul>You can either select an existing resource or drop an image file onto the text field. In this case, the corresponding resource is created and set as reference.</td></tr>
<tr><td style="text-align: left"><strong>SVG Parameter</strong> <span class="version-text">(Since HALion 7.0)</span></td><td style="text-align: left">If you use SVGs with animatable properties, they appear in the SVG Parameter section. You can connect SVG Parameter just like value parameters with engine, MIDI, or UI script parameters. In this way, the connected parameters can animate different properties of SVG child objects, such as color, position, rotation and so on.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="decor-control"><a class="header" href="#decor-control">Decor (Control)</a></h1>
<p><span class="version-text">(Since HALion 6.4.20)</span></p>
<h2 id="description-314"><a class="header" href="#description-314">Description</a></h2>
<p>This control allows you to add rectangular shapes as graphical elements to create background frames, group frames, etc. The rectangular shape can be drawn as an outline, filled, or both. The fill style can either be a solid color, a linear gradient, or a radial gradient. Furthermore, the rectangle can have rounded corners with an adjustable radius.</p>
<h2 id="properties-7"><a class="header" href="#properties-7">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Fill Style</strong></td><td style="text-align: left">Decors can be filled. You can choose from the following fill styles:<ul><li><strong>No Fill:</strong> The inside of the rectangle remains fully transparent.  This mode is useful for decors that show only an outline.</li><li><strong>Solid:</strong> The inside of the rectangle will be filled with a color.</li><li><strong>Linear Gradient:</strong> The inside of the rectangle will be filled with a linear gradient. The gradient has a top and a bottom color which refers to the default angle of 0 degree.</li><li><strong>Radial Gradient:</strong> The inside of the rectangle will be filled with a radial gradient.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Radius</strong></td><td style="text-align: left">Specifies the roundness of the rectangle corners.</td></tr>
<tr><td style="text-align: left"><strong>Line Width</strong></td><td style="text-align: left">Specifies the width of the outline.</td></tr>
<tr><td style="text-align: left"><strong>Angle</strong></td><td style="text-align: left">Specifies the angle of the Linear Gradient fill style in degrees.</td></tr>
<tr><td style="text-align: left"><strong>Stretch</strong></td><td style="text-align: left">Allows you to compress (values &lt; 1.0) or expand (values &gt; 1.0) the Linear Gradient or Radial Gradient.</td></tr>
<tr><td style="text-align: left"><strong>Center X/Y</strong></td><td style="text-align: left">Specifies the center of the Radial Gradient. Negative values move the center to the left and top, postive values to the right and bottom.</td></tr>
<tr><td style="text-align: left"><strong>Line Color</strong></td><td style="text-align: left">Defines the color of the outline.</td></tr>
<tr><td style="text-align: left"><strong>Color</strong></td><td style="text-align: left">Specifies the fill color for the Solid fill style.</td></tr>
<tr><td style="text-align: left"><strong>Start Color</strong></td><td style="text-align: left">Specifies the top fill color for the Linear Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>End Color</strong></td><td style="text-align: left">Specifies the bottom fill color for the Linear Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>Inner Color</strong></td><td style="text-align: left">Specifies the inner fill color for the Radial Gradient fill style.</td></tr>
<tr><td style="text-align: left"><strong>Outer Color</strong></td><td style="text-align: left">Specifies the outer fill color for the Radial Gradient fill style.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="disable"><a class="header" href="#disable">Disable</a></h1>
<h2 id="description-315"><a class="header" href="#description-315">Description</a></h2>
<p>The Disable control allows you to put all child controls out of function. To indicate this, all children of the Disable control are drawn grayed out and semitransparent. To disable the control, connect a parameter to the value property and specify the value that should cause the disabling. You can also specify multiple values, e.g., to disable a parameter that should only be available for specific states of another parameter. If you want the control to be enabled for a particular value and disabled for the rest of the values, activate the Enable option.</p>
<h2 id="properties-8"><a class="header" href="#properties-8">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Enable</strong></td><td style="text-align: left">Activate this option if you want to enable the control for the specified values.</td></tr>
<tr><td style="text-align: left"><strong>Hide</strong></td><td style="text-align: left">Activate this option if you want to hide the control for the specified values.</td></tr>
<tr><td style="text-align: left"><strong>0-31</strong></td><td style="text-align: left">Activate the values for which you want to disable or enable the control (depends on the Enable and Hide settings).</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="drag-group"><a class="header" href="#drag-group">Drag Group</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#drag-group-callbacks">Drag Group Callbacks</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#ondropgetinfo">onDropGetInfo</a></li>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#ondropinsert">onDropInsert</a></li>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#ondropfeedback">onDropFeedback</a></li>
<li><a href="HALion-Macro-Page/pages/Drag-Group.html#ondropdone">onDropDone</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="description-316"><a class="header" href="#description-316">Description</a></h2>
<p>The Drag Group control allows you to implement drag operations. You can drag a simple text information or excecute more complex script functions. As a drop target you can use either the <a href="HALion-Macro-Page/pages/./Drop.html">Drop</a> control, or an external target. The graphical representation of the dragged object includes a snapshot of all controls that exists inside the Drag Group.</p>
<h2 id="properties-9"><a class="header" href="#properties-9">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Allows you to define which part of the Program Tree is affected by the controls inside the Group.</td></tr>
<tr><td style="text-align: left"><strong>Drag Info</strong></td><td style="text-align: left">The Drag Info can be used as follows:<ul><li>It can be a string that will be send to the target.</li><li>It can be a UI variable that will be read at drag time.</li><li>It can also be modified at drag time by the script callback <a href="HALion-Macro-Page/pages/Drag-Group.html#ondropgetinfo">onDropGetInfo</a> by returning another string.</li></td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
</tbody></table>
</div>
<h2 id="drag-group-callbacks"><a class="header" href="#drag-group-callbacks">Drag Group Callbacks</a></h2>
<h3 id="ondropgetinfo"><a class="header" href="#ondropgetinfo">onDropGetInfo</a></h3>
<blockquote>
<p><strong>onDropGetInfo(viewname, draginfo)</strong></p>
</blockquote>
<h4 id="description-317"><a class="header" href="#description-317">Description</a></h4>
<p>Callback for the source of the drag operation when the operation starts. The text in <code>draginfo</code> is taken from the Drag Info property of the control.</p>
<h4 id="arguments-224"><a class="header" href="#arguments-224">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the dragging view.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">The text specified by the Drag Info property.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="return-values-159"><a class="header" href="#return-values-159">Return Values</a></h4>
<p>The function can return a table with the following keys:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Return Value</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Set this to <code>true</code> if copying is allowed, <code>false</code> if not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>move</strong></td><td style="text-align: left">Set this to <code>true</code> if moving is allowed, <code>false</code> if not.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>info</strong></td><td style="text-align: left">The draginfo argument of the subsequent callbacks is determined by this return value. By default, 'info' returns the string specified by the Drag Info property. By modifying the 'info' return value you can control the response of the subsequent callbacks.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>files</strong></td><td style="text-align: left">A table with file paths for evaluation by external software when the drop operation is executed there.</td><td style="text-align: left">table with file paths as strings</td></tr>
<tr><td style="text-align: left"><strong>data</strong> <span class="version-text">(Since HALion 7.1.0)</span></td><td style="text-align: left">A table with filenames and region information, created when dropping a region from Cubase, for example.</td><td style="text-align: left">See <a href="HALion-Macro-Page/pages/Drag-Group.html#data-field-format">Data Field Format</a>.</td></tr>
</tbody></table>
</div>
<h5 id="data-field-format"><a class="header" href="#data-field-format">Data Field Format</a></h5>
<p>The data field contains tables with filenames and region information.</p>
<pre><code class="language-lua">{ files = { "fn1", "fn2", ... } }

{ regions = { { filename = "fn1", start = 123, length = 456 }, { filename = "fn2", start = 456, length = 789 }, ... } } }

</code></pre>
<h3 id="ondropinsert"><a class="header" href="#ondropinsert">onDropInsert</a></h3>
<blockquote>
<p><strong>onDropInsert(viewname, draginfo, copy, data)</strong></p>
</blockquote>
<h4 id="description-318"><a class="header" href="#description-318">Description</a></h4>
<p>Callback for the target of the drag operation when the drop is executed.</p>
<h4 id="arguments-225"><a class="header" href="#arguments-225">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the targeted view.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Drag-Group.html#ondropgetinfo">onDropGetInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if the drag is a copy operation.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>data</strong> <span class="version-text">(Since HALion 7.1.0)</span></td><td style="text-align: left">A table with filenames and region information when dropping a region from Cubase, for example.</td><td style="text-align: left">See <a href="HALion-Macro-Page/pages/Drag-Group.html#data-field-format">Data Field Format</a>.</td></tr>
</tbody></table>
</div>
<h3 id="ondropfeedback"><a class="header" href="#ondropfeedback">onDropFeedback</a></h3>
<p><span class="version-text">(Since HALion 7.1.0)</span></p>
<blockquote>
<p><strong>onDropFeedback(viewname, draginfo, copy, data)</strong></p>
</blockquote>
<h4 id="description-319"><a class="header" href="#description-319">Description</a></h4>
<p>Callback for the target of the drag operation when a drag object is held over it.</p>
<h4 id="arguments-226"><a class="header" href="#arguments-226">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the targeted view.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Drag-Group.html#ondropgetinfo">onDropGetInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if the drag is a copy operation.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>data</strong></td><td style="text-align: left">A table with filenames and region information when dropping a region from Cubase, for example.</td><td style="text-align: left">See <a href="HALion-Macro-Page/pages/Drag-Group.html#data-field-format">Data Field Format</a>.</td></tr>
</tbody></table>
</div>
<h3 id="ondropdone"><a class="header" href="#ondropdone">onDropDone</a></h3>
<blockquote>
<p><strong>onDropDone(viewname, draginfo, copy, data)</strong></p>
</blockquote>
<h4 id="description-320"><a class="header" href="#description-320">Description</a></h4>
<p>This callback is called when the drop operation is complete.</p>
<h4 id="arguments-227"><a class="header" href="#arguments-227">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the source view.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Drag-Group.html#ondropgetinfo">onDropGetInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if the drag is a copy operation.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>data</strong> <span class="version-text">(Since HALion 7.1.0)</span></td><td style="text-align: left">A table with filenames and region information when dropping a region from Cubase, for example.</td><td style="text-align: left">See <a href="HALion-Macro-Page/pages/Drag-Group.html#data-field-format">Data Field Format</a>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="drop"><a class="header" href="#drop">Drop</a></h1>
<h2 id="description-321"><a class="header" href="#description-321">Description</a></h2>
<p>The Drop control allows you to create an area where you can drop objects, like files, folders and other objects that deliver either a string or a path. In addition to the common properties like size, position etc., it provides a number of special properties that allow you to configure the control. The Drop control can show a bitmap to indicate the drop area, display a bitmap if dropping an object is accepted or rejected, and can be configured with a regular expression to accept only files of a specific type.</p>
<h2 id="properties-10"><a class="header" href="#properties-10">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Allows you to connect a parameter that receives the string or the path.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Path:</strong> Set this option if you want to accept path objects.</li><li><strong>String:</strong> Set this option if you want to accept string objects.</li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Accept Filter</strong></td><td style="text-align: left">Allows you to define a regular expression to accept only files of a specific type.</td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Background:</strong> Allows you to assign a bitmap resource that is displayed permanently.</li><li><strong>Reject:</strong> Allows you to assign a bitmap resource that is displayed if an object cannot be dropped.</li><li><strong>Accept:</strong> Allows you to assign a bitmap resource that is displayed if an object can be dropped.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="group"><a class="header" href="#group">Group</a></h1>
<h2 id="description-322"><a class="header" href="#description-322">Description</a></h2>
<p>A Group has no graphical representation and only serves as a container for other controls and templates. It can be added manually to the GUI Tree and then be positioned, sized, and filled with objects or it can be created automatically using the Group command from the context menu on selected elements in the tree. The size of a Group is automatically adapted when objects are added, but it can also be adjusted manually. Furthermore, you can specify a scope for a Group, which allows you to let all controls inside this Group only affect a specific target.</p>
<h2 id="properties-11"><a class="header" href="#properties-11">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Allows you to define which part of the Program Tree is affected by the controls inside the Group.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="image"><a class="header" href="#image">Image</a></h1>
<h2 id="description-323"><a class="header" href="#description-323">Description</a></h2>
<p>This control allows you to add purely graphical elements without further functionality. The control can be changed in size and adapt the referenced bitmap to the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource if this is set to scalable.</p>
<h2 id="properties-12"><a class="header" href="#properties-12">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Bitmap</strong></td><td style="text-align: left">Bitmap refers to a <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource which can be:<ul><li>An individual bitmap file in png or bmp format defined as resource.</li><li>A section, specifying a region within a larger source bitmap.</li></ul>You can either select an existing resource or drop an image file onto the text field. In this case, the corresponding resource is created and set as reference.</td></tr>
<tr><td style="text-align: left"><strong>Scalable</strong></td><td style="text-align: left">Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="internal"><a class="header" href="#internal">Internal</a></h1>
<h2 id="description-324"><a class="header" href="#description-324">Description</a></h2>
<p>The Internal control is used by Steinberg to implement functionality that could not be realized with standard macro page controls. Internal controls are only used within a few specialized templates. They only work inside these templates and cannot be created manually.</p>
<h2 id="properties-13"><a class="header" href="#properties-13">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>View</strong></td><td style="text-align: left">Used for HALion-specific purposes. The set strings must remain unchanged to ensure the functionality of the control.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="knob"><a class="header" href="#knob">Knob</a></h1>
<p><span class="version-text">(SVG support since HALion 7.0)</span></p>
<h2 id="description-325"><a class="header" href="#description-325">Description</a></h2>
<p>The Knob control allows to create potentiometers by using a <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource, a <a href="HALion-Macro-Page/pages/./Section.html">Section</a> resource with frames, or a SVG resource. These frames are played as an animation when turning the knob. You can specify whether the Knob control reacts on its entire area or only on those parts where the alpha channel of the bitmap is bigger than 0 (Shaped). Furthermore, the movement of the Knob control can be inverted and set to be Scalable, which allows resizing of the bitmap. The Slider option can be used to display a pop-up slider when using the knob, which can be helpful when working with rather small Knob controls.</p>
<h2 id="properties-14"><a class="header" href="#properties-14">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Show Value</strong></td><td style="text-align: left">Activate this if you want to display a tooltip with the current parameter value when using the control. This option can be exported to the template level. The exported parameter can then be activated by setting it to <code>true</code> (the default is <code>false</code>).</td></tr>
<tr><td style="text-align: left"><strong>Bitmap</strong></td><td style="text-align: left">Bitmap refers to:<ul><li>An individual bitmap file in png or bmp format defined as resource.</li><li>A section, specifying a region within a larger source bitmap.</li><li>A SVG file defined as resource.</li></ul>You can either select an existing resource or drop an image file onto the text field. In this case, the corresponding resource is created and set as reference.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Invert:</strong> Inverts the knob animation.</li><li><strong>Shaped:</strong> If this is activated, the control only reacts on filled pixels, transparent pixels with an alpha channel value of 0 are unresponsive.</li><li><strong>Rectangle:</strong> By default, the Knob control's reaction area is a circular area with a diameter of the shorter side of the the bounding rectangle of the Knob control, which is then centred along the axis of the longer side of the bounding rectangle. Activate this option if you want the knob to respond to mouse clicks in the entire bounding rectangle. <span class="version-text">(Since HALion 7.0)</span><p><img src="HALion-Macro-Page/pages/../images/Bounding-Rectangle.png" alt="Bounding Rectangle" /></p></li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource. The margin splitters are defined as for simple bitmaps, but the lower splitter must be set in the lowest subframe. On round knobs, leave margins on 0 and set the Scale Mode to stretch for the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource. This way, the Knob control is resized as a whole.</li><li><strong>Slider:</strong> Activate this option if you want to use a pop-up slider when adjusting the knob.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="label"><a class="header" href="#label">Label</a></h1>
<h2 id="description-326"><a class="header" href="#description-326">Description</a></h2>
<p>Labels are intended to display text that names elements such as <a href="HALion-Macro-Page/pages/Knob.html">Knobs</a>, <a href="HALion-Macro-Page/pages/Text.html">Text fields</a>, etc. A Label can either use one of the available system fonts or a custom font for more decorative text styles, depending on the selected font resource.</p>
<h2 id="properties-15"><a class="header" href="#properties-15">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Font</strong></td><td style="text-align: left">Allows you to select which <a href="HALion-Macro-Page/pages/./Font.html">Font</a> resource to be used to display the text.</td></tr>
<tr><td style="text-align: left"><strong>Alignment</strong></td><td style="text-align: left">Defines how the text is aligned. You can choose from the following settings:<ul><li><strong>Align Left:</strong> Aligns the text to the left side.</li><li><strong>Align Center (Horizontal):</strong> Aligns the text to the horizontal center.</li><li><strong>Align Right:</strong> Aligns the text to the right side.</li><li><strong>Align Top:</strong> Aligns the text to the top.</li><li><strong>Align Center (Vertical):</strong> Aligns the text to the vertical center.</li><li><strong>Align Bottom:</strong> Aligns the text to the bottom.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="live-data-view"><a class="header" href="#live-data-view">Live Data View</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<h2 id="description-327"><a class="header" href="#description-327">Description</a></h2>
<p>The Live Data View control allows you to visualize the output signal of sources with a LiveViewData parameter, such as LFOs, the Step Modulator, envelopes, etc. You can connect these sources directly to the Data Input of the view. Furthermore, you can configure the appearance of the line.</p>
<h2 id="properties-16"><a class="header" href="#properties-16">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Data Input</strong></td><td style="text-align: left">Allows you to connect the LiveViewData parameter of a source module.</td></tr>
<tr><td style="text-align: left"><strong>Direction</strong></td><td style="text-align: left">Defines how the data scrolls through the display:<ul><li>Left: Left to right.</li><li>Right: Right to left.</li><li>Up: Bottom to top.</li><li>Down: Top to bottom.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Time Window</strong></td><td style="text-align: left">Defines the overall time that is dislayed in the view in ms.</td></tr>
<tr><td style="text-align: left"><strong>Start Values</strong></td><td style="text-align: left">Allows you to specify a number of pixels that will use a secondary color.</td></tr>
<tr><td style="text-align: left"><strong>Line Width</strong></td><td style="text-align: left">Adjusts the strength of the waveform line from 1 to 3 pixels.</td></tr>
<tr><td style="text-align: left"><strong>Background</strong></td><td style="text-align: left">Defines the background bitmap that is drawn behind the curve. If this is used, the background color setting is ignored.</td></tr>
</tbody></table>
</div>
<h2 id="colors"><a class="header" href="#colors">Colors</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Line</strong></td><td style="text-align: left">The primary color of the line.</td></tr>
<tr><td style="text-align: left"><strong>Line Start</strong></td><td style="text-align: left">The secondary color used for the start values.</td></tr>
<tr><td style="text-align: left"><strong>Backgound</strong></td><td style="text-align: left">The background color of the view.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="menu"><a class="header" href="#menu">Menu</a></h1>
<h2 id="description-328"><a class="header" href="#description-328">Description</a></h2>
<p>The Menu control allows you to create special switches that open a menu. This menu is filled with the available values delivered by the connected parameter. You can choose to open a tree menu control instead of the standard menu, which is helpful when the number of available options increases. The menu itself can show a <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> for its off state and the hover state, but it can also work without any bitmaps. Often, it is used in combination with a dedicated background image and a <a href="HALion-Macro-Page/pages/Text.html">Text</a> control that shows the selected value. Menu and <a href="HALion-Macro-Page/pages/Text.html">Text</a> controls are connected to the same parameter.</p>
<h2 id="properties-17"><a class="header" href="#properties-17">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Popup:</strong> If this option is activated, a tree menu is displayed instead of the standard menu.</li><li><strong>Hover:</strong> Shows a dedicated bitmap when hovering over the menu.</li><li><strong>Shaped:</strong> The control only reacts when you click the visible pixels, i.e., the pixels with an alpha value &gt; 0.</li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource.</li><li><strong>Checkable:</strong> Activate this to show a check mark for the selected menu item. Deactivate this option if you want to be able to use a menu entry, e.g., to call a script function. In this case, no check mark is wanted, and the same menu item can be clicked repeatedly.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Background:</strong> Allows you to assign the <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> that is used for the off state.</li><li><strong>Hover:</strong> Allows you to assign the <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> that is used when the mouse is hovering over the control.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="meter"><a class="header" href="#meter">Meter</a></h1>
<h2 id="description-329"><a class="header" href="#description-329">Description</a></h2>
<p>The Meter control allows you to display incoming values as a meter bar. It displays a background image and a <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> for the lit state of the meter to be drawn. The <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> for the lit state is drawn clipped on top of the background image. The size of the clipped region depends on the current value. The Meter control can either be drawn horizontally or vertically. The Meter control can be directly connected to parameter outputs of script modules, for example.</p>
<blockquote>
<p>❕ For optimal drawing, the Meter control must be placed on the topmost level on the macro page, no other objects must be layered on top.</p>
</blockquote>
<p>To display the meter and peak outputs of HALion's busses, a special vu meter template is required that contains two meters and a special logic that allows for the template to be directly connected to any bus. Please use one of these preconfigured meter templates that are part of the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library and set the bus parameter to the desired bus, e.g., <code>@bus:0</code> for the first bus in the program. The graphical resources and sizes can be customized by modifying these templates.</p>
<h2 id="properties-18"><a class="header" href="#properties-18">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Peak Value</strong></td><td style="text-align: left">Allows you to connect a parameter that delivers a peak hold value.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Vertical:</strong> Activate this option if you want to display a vertical meter instead of the standard horizontal meter.</li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Meter:</strong> Allows you to assign the <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> that is used for the lit meter.</li><li><strong>Background:</strong> Allows you to assign the <a href="HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> that is used as background for the meter (e.g., a dimmed version of the lit meter bitmap).</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="range-slider"><a class="header" href="#range-slider">Range Slider</a></h1>
<h2 id="description-330"><a class="header" href="#description-330">Description</a></h2>
<p>The Range Slider allows you to control two parameters with one control. You can drag the slider handle at both its ends, each representing one parameter. A typical example for the use of such a slider is a control for velocity or key ranges. The Range Slider can also be used as a scroll bar when it is connected to a scroll view or envelope. In this case, the "No Resize" option allows you to deactivate any modification to the ends of the slider handle. The size of the handle is then determined by the zoom level of the scroll view. You can choose between horizontal and vertical range sliders, decide whether the slider should jump to the click position or always move relatively, and you can invert the slider behavior. The Range Slider can also be resized with its Handle and Track bitmaps, according to the Scale Modes that are defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources. The slider can also be used with a Track bitmap which is drawn in the area that is not covered by the Handle bitmap.</p>
<h2 id="properties-19"><a class="header" href="#properties-19">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Low Value</strong></td><td style="text-align: left">Allows you to connect the first parameter, e.g., Velocity Low of a layer.</td></tr>
<tr><td style="text-align: left"><strong>High Value</strong></td><td style="text-align: left">Allows you to connect the second parameter, e.g., Velocity High of a layer.</td></tr>
<tr><td style="text-align: left"><strong>Show Value</strong></td><td style="text-align: left">Activate this option if you want to display a tooltip with the current parameter value when using the control. This option can be exported to the template level. The exported parameter can then be activated by setting it to <code>true</code> (the default is <code>false</code>).</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Vertical:</strong> Creates a vertical range slider. The default setting is horizontal.</li><li><strong>Jump:</strong> The entire slider handle jumps to the click position. By default, only one of the handle ends (lower/upper or right/left) jumps to the click position.</li><li><strong>Invert:</strong> Inverts the slider behavior.</li><li><strong>No Resize:</strong> By default, the slider handle can be adjusted on both ends. If you activate this option, the slider handle ends cannot be dragged to another position. This can be used to create scroll bar controls, where the size of the Range Slider changes depending on the zoom level and only the position can be changed.</li><li><strong>Read-Only:</strong> Activate this option if you want to use the Range Slider as a display-only parameter which cannot be edited. <span class="version-text">(Since HALion 6.1)</span></li><li><strong>Push:</strong> Activate this option if you want the upper slider to follow if you raise the value of the lower slider above the value of the upper slider. Moving the lower slider back below the upper slider will also move the upper slider until it reaches its original value. This behavior also applies if you lower the value for the upper slider below the value of the lower slider. <span class="version-text">(Since HALion 6.2)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Handle:</strong> Specifies the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> to be used as slider handle.</li><li><strong>Track:</strong> Specifies the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> to be used for the area that is not covered by the handle.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="slider"><a class="header" href="#slider">Slider</a></h1>
<p><span class="version-text">(SVG support since HALion 7.0)</span></p>
<h2 id="description-331"><a class="header" href="#description-331">Description</a></h2>
<p>The Slider control allows to create a variety of different slider types. You can choose between horizontal and vertical sliders, decide whether the slider should jump to the click position or move relatively to it. Furthermore, it can also be inverted in its behavior. The Slider can be resized with all its bitmaps according to the Scale Modes that are defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources. The Slider can use a Background bitmap which can also be an animated bitmap with frames. This allows you to build animated sliders that only display an animation. The Slider can use Pre-Handle and Post-Handle bitmaps, which are drawn from the left edge to the handle position and from the handle position to the right edge (Bottom → Handle → Top, for vertical sliders). When moving the slider, both bitmaps are clipped at the handle position. Alternatively, you can also stretch both bitmaps towards the handle position. The Slider can display a Handle bitmap, which is drawn on top oft the Background, Pre-Handle and Post-Handle bitmaps.</p>
<h2 id="properties-20"><a class="header" href="#properties-20">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Show Value</strong></td><td style="text-align: left">Activate this if you want to display a tooltip with the current parameter value when using the control. This option can be exported to the template level. The exported parameter can then be activated by setting it to <code>true</code> (the default is <code>false</code>).</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Vertical:</strong> Creates a vertical slider. The default setting is horizontal.</li><li><strong>Jump:</strong> The slider jumps to the click position. By default, it moves relatively to the click position.</li><li><strong>Invert:</strong> Inverts the slider movement.</li><li><strong>Split:</strong> Use the Pre-Handle and Post-Handle bitmaps for drawing. The background bitmap is disabled in this mode. By default, the slider is created with Split off. In this case, the Background and Handle bitmaps are used.</li><li><strong>Stretch:</strong> Pre-Handle and Post-Handle bitmaps are stretched to fill the area between edge and handle. By default, the bitmaps are clipped at the handle position.</li><strong>Scalable:</strong> The slider can be resized, and all <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are scaled with their defined Scaled Mode.</li><li><strong>Read-Only:</strong> Activate this option if you want to use the slider as a display-only parameter which cannot be edited. <span class="version-text">(Since HALion 6.1)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Background:</strong> Specifies the  bitmap to be used as background. It will be animated if the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource provides multiple frames. Alternatively, you can use a <a href="HALion-Macro-Page/pages/./SVG.html">SVG</a> resource which can also be animated. <span class="version-text">(SVG support since HALion 7.0)</span></li><li><strong>Pre-Handle:</strong> Specifies the bitmap to be used for the area from the start to the handle position.</li><li><strong>Post-Handle:</strong> Specifies the bitmap to be used for the area from the handle position to the end.</li><li><strong>Handle:</strong> Specifies the bitmap to be used as slider handle. Alternatively, you can use a <a href="HALion-Macro-Page/pages/./SVG.html">SVG</a> resource which can also be animated. <span class="version-text">(SVG support since HALion 7.0)</span></li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="stack"><a class="header" href="#stack">Stack</a></h1>
<h2 id="description-332"><a class="header" href="#description-332">Description</a></h2>
<p>A Stack allows you to create switchable subpages or views. Each child of the stack is considered as a view that is shown exclusively, depending on the value of the stack. Most of the time, stacks are controlled by radio switches, providing one switch per stack view. If you activate the Fade option, you can add a blending effect when switching between views. If you want to connect the stack value only to a radio switch group to change the visibility of pages on the UI, without connecting the value to an engine or script module parameter, you can define an integer variable, e.g., Var_Pages. Then set the value property of the stack to Var_Pages and do the same for the radio group switches.</p>
<h2 id="properties-21"><a class="header" href="#properties-21">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><strong>Fade:</strong> Activate this option if you want to blend views when switching.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="step-modulator"><a class="header" href="#step-modulator">Step Modulator</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Step-Modulator.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator.html#colors">Colors</a></li>
</ul>
<hr />
<h2 id="description-333"><a class="header" href="#description-333">Description</a></h2>
<p>The Step Modulator is intended to control HALion's step modulator. It provides all necessary properties to be connected to the engine parameters. Furthermore, there are properties for index, level, and level12 of the selected node and a snap option, which only affect the GUI parameters and not the engine parameters. These properties can be connected using UI variables.</p>
<h2 id="properties-22"><a class="header" href="#properties-22">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Steps</strong></td><td style="text-align: left">The number of steps. This property must be connected to the engine parameter Steps and further display controls.</td></tr>
<tr><td style="text-align: left"><strong>Slope</strong></td><td style="text-align: left">The Slope Mode. This property must be connected to the engine parameter Slope to show the slope. Connect additional controls, e.g., a menu, to set the slope mode.</td></tr>
<tr><td style="text-align: left"><strong>Slope Amnt</strong></td><td style="text-align: left">This property must be connected to the engine parameter SlopeAmount to show the slope. Connect additional controls, e.g., a knob, to set the slope.</td></tr>
<tr><td style="text-align: left"><strong>Show All</strong></td><td style="text-align: left">Activate this option to show all steps with a fixed width. When dectivated, the width of the individual steps scales with the number of steps as set in <strong>Steps</strong>, to fill the full size of the control.</td></tr>
<tr><td style="text-align: left"><strong>Advanced Editing</strong> <span class="version-text">(Since HALion 6.4.0)</span></td><td style="text-align: left">Activate this option to provide additional editing possibillities. These are either available as context menu entries or as line editing functions using modifier keys (Shift, Alt). These editing functions were originally made to work best inside HALion's Stepmodulator and Flexphraser. In case the control is used to control other custom script modules, where these functions are not needed or need to work differently, they can be deactivated.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong> <span class="version-text">(Since HALion 7.1.0)</span></td><td style="text-align: left">Activate this option to show the current playback position on the curve.</td></tr>
<tr><td style="text-align: left"><strong>Height</strong> <span class="version-text">(Since HALion 6.4.10)</span></td><td style="text-align: left">Defines how the indivdual step values are displayed.<ul><li>  0 = Standard look, with bars starting at 0 and going up to the adjusted value.</li><li>&gt;0 = Bars with a defined heigth in pixels for continous parameters.</li><li>  1 = Bars with a an automatic height or stepped parameters. The height of a bar correponds to 1/number of steps.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Step 1-32</strong></td><td style="text-align: left">The Step levels. This property can be connected to the engine stepmodulator parameters Step1-32.</td></tr>
<tr><td style="text-align: left"><strong>Length</strong> <span class="version-text">(Since HALion 6.4.0)</span></td><td style="text-align: left">If the step modulator is used to control a custom script module, the Length parameter can be used to adjust the length of each step.</td></tr>
<tr><td style="text-align: left"><strong>Enable</strong> <span class="version-text">(Since HALion 6.4.0)</span></td><td style="text-align: left">If the step modulator is used to control a custom script module, the Enable parameter can be used to turn individual steps on and off.</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Step-Modulator.html#step-modulator">Jump to Top </a></p>
<h2 id="ui-variables"><a class="header" href="#ui-variables">UI Variables</a></h2>
<p>Create variables to connect the Step Modulator properties with the engine and further controls.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: center">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Index</strong></td><td style="text-align: left">index</td><td style="text-align: left">The index of the selected node.</td><td style="text-align: left">integer</td><td style="text-align: center">1 to 32</td></tr>
<tr><td style="text-align: left"><strong>Level</strong></td><td style="text-align: left">level</td><td style="text-align: left">The level of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">-100 to 100</td></tr>
<tr><td style="text-align: left"><strong>Level 12</strong></td><td style="text-align: left">level12</td><td style="text-align: left">The level in fractions of 12 (used when Snap is active).</td><td style="text-align: left">float</td><td style="text-align: center">-12 to 12</td></tr>
<tr><td style="text-align: left"><strong>Snap</strong></td><td style="text-align: left">snap</td><td style="text-align: left">Activates the snap line.</td><td style="text-align: left">integer</td><td style="text-align: center">0, 1</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Step-Modulator.html#step-modulator">Jump to Top </a></p>
<h2 id="colors-1"><a class="header" href="#colors-1">Colors</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Step0</strong></td><td style="text-align: left">Fill color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Step1</strong></td><td style="text-align: left">Fill color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Back0</strong></td><td style="text-align: left">Background color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Back1</strong></td><td style="text-align: left">Background color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Hover0</strong></td><td style="text-align: left">Hover fill color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Hover1</strong></td><td style="text-align: left">Hover fill color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Line Hov0</strong></td><td style="text-align: left">Line hover color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Line Hov1</strong></td><td style="text-align: left">Line hover color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Line Drag0</strong></td><td style="text-align: left">Line drag color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Line Drag1</strong></td><td style="text-align: left">Line drag color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Line Sel0</strong></td><td style="text-align: left">Line selection color of all even steps with index 0, 2, 4, ..., 32.</td></tr>
<tr><td style="text-align: left"><strong>Line Sel1</strong></td><td style="text-align: left">Line selection color of all odd steps with index 1, 3, 5, ..., 31.</td></tr>
<tr><td style="text-align: left"><strong>Middle Line</strong></td><td style="text-align: left">Middle grid line color.</td></tr>
<tr><td style="text-align: left"><strong>Snap Line 0</strong></td><td style="text-align: left">Primary snap line color.</td></tr>
<tr><td style="text-align: left"><strong>Snap Line 1</strong></td><td style="text-align: left">Secondary snap line color.</td></tr>
<tr><td style="text-align: left"><strong>Line Draw</strong></td><td style="text-align: left">Line draw color.</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Step-Modulator.html#step-modulator">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="switch"><a class="header" href="#switch">Switch</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Switch.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Switch.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Switch.html#examples">Examples</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Switch.html#radio-buttons">Radio buttons</a></li>
<li><a href="HALion-Macro-Page/pages/Switch.html#hover-mode-switch">Hover Mode Switch</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="description-334"><a class="header" href="#description-334">Description</a></h2>
<p>The Switch control allows you to create different types of switches. It can be configured as an on/off switch with two states or as a multi-state switch with an arbitrary number of states. Furthermore, it can be set to Increment or Decrement, to edit values stepwise. To realize exclusive switches that can act as a radio group, Exclusive mode can be selected. In this mode, each switch can be configured to send a dedicated value and all related switches are connected to the same parameter. The Switch control requires several bitmaps, depending on the specified mode and it can be set to scalable, which allows for resizing of the switch. The used bitmaps are resized according to the Scale Modes that are defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources.</p>
<h2 id="properties-23"><a class="header" href="#properties-23">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Mode</strong></td><td style="text-align: left"><ul><li><strong>Push:</strong> Sends a value of 1 and returns to 0. This mode requires bitmaps for Off and Down. If Hover is active, an additional bitmap Hover is required.</li><li><strong>OnOff:</strong> Sets a value of 1 when pressed, 0 when pressed again. This mode requires bitmaps for Off, Off Down, On and On Down. If Hover is active, the additional bitmaps Off Hover and On Hover are required.</li><li><strong>Multiple:</strong> In this mode, the switch can step through multiple states each time that it is clicked. For each state, the bitmaps must refer to bitmap resources or sections that contain a vertically aligned subframe per state, comparable to an animation sequence, such as the one that is used in knob controls, for example.</li><li><strong>Increment:</strong> This mode allows you to increment the connected parameter value each time that the switch is clicked.</li><li><strong>Decrement:</strong> This mode allows you to decrement the connected parameter value each time that the switch is clicked.</li><li><strong>Exclusive:</strong> This mode allows you to use multiple switches as a radio group where only one switch is active at a time. An additional property allows you to define the value that is sent when the switch is on. To configure a radio group, connect all participating switches to the same parameter and define the Onvalue for each switch.</li><li><strong>Hover:</strong> This mode allows you to switch directly from 0 to max (depending on the connected parameter) when hovering the switch without needing to click it.</li><li><strong>Hover Exclusive:</strong> This mode allows you to use multiple hover switches as a radio group where only one switch is active at a time. An additional property allows you to define the value that is sent when the switch is on. To configure a radio group, connect all participating switches to the same parameter and define the Onvalue for each switch. <span class="version-text">(Since HALion 6.3)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Immediate:</strong> By default, switches change their state when the mouse button is released. Activate this option if you want the state of the switch to change immediately when clicking the mouse. <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Hover:</strong> Shows a dedicated bitmap when hovering the switch. A hover bitmap resource must be assigned.</li><li><strong>Shaped:</strong> The switch only reacts when you click the visible pixels, i.e., the pixels with an alpha value &gt; 0.</li><li><strong>Invert:</strong> Inverts the displayed bitmaps.</li><li><strong>Scalable:</strong> Activate this if you want to be able to resize the element. The assigned <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources are resized according to the Scale Mode that is defined for the respective <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource. This also works if the switch is set to Multiple. In this case, the margin splitters are defined as for simple bitmaps, but the lower splitter must be set in the lowest subframe.</li><li><strong>Popup:</strong> This mode allows you to use a switch to open a template as a popup. <span class="version-text">(Since HALion 6.3)</span></li><li><strong>Clickthrough:</strong> Activate this option if you want the mouse click to be used by the switch but also to be forwarded to an underlying control. <span class="version-text">(Since HALion 6.4.0)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Bitmaps</strong></td><td style="text-align: left"><ul><li><strong>Off:</strong> Allows you to assign the bitmap that is used for the off state.</li><li><strong>Off Down:</strong> Allows you to assign the bitmap that is used for the off state with mouse button held down.</li><li><strong>Off Hover:</strong> Allows you to assign the bitmap that is used for the off state when the mouse is hovering over the switch.</li><li><strong>On:</strong> Allows you to assign the bitmap that is used for the on state.</li><li><strong>On Down:</strong> Allows you to assign the bitmap that is used for the on state with the mouse button pressed.</li><li><strong>On Hover:</strong> Allows you to assign the bitmap that is used for the on state when the mouse is hovering over the switch.</li><li><strong>State:</strong> Allows you to assign a multi-frame bitmap that is used for the different states.  <span class="version-text">(Since HALion 6.1)</span></li><li><strong>State Down:</strong> Allows you to assign a multi-frame bitmap that is used for the different states with the mouse button pressed.  <span class="version-text">(Since HALion 6.1)</span></li><li><strong>State Hover:</strong> Allows you to assign a multi-frame bitmap that is used for the different states when the mouse is hovering over the switch.  <span class="version-text">(Since HALion 6.1)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Onvalue</strong></td><td style="text-align: left">Allows you to define the value that is sent when the switch is turned on. This option is only available in Exclusive mode. <p>If you want to create a switch template that allows you to specify the Onvalue on the instance level of the template, you must export this property.<ul><li>Click the Export button on the right of the Onvalue field.</li></ul>Now, the switch template shows the additional Onvalue as a template parameter and you can use the switch template several times and configure each instance of the template individually.</p></td></tr>
<tr><td style="text-align: left"><strong>Popup</strong></td><td style="text-align: left">The following settings are only available for the Popup style.<ul><li><strong>Template:</strong> Here, you can specify the template that is shown when the switch is clicked.  <span class="version-text">(Since HALion 6.3)</span></li><li><strong>Close on Click:</strong> <ul><li><strong>Inside:</strong> Activate this option if you want the Popup to close when a click inside the template is performed. This can be used to create menu popups where the popup closes when a menu entry is selected, for example.</li><li><strong>Outside:</strong> Activate this option if you want the Popup to close when a click outside the template is performed (but within the area of the macro page). This can be used to close menu popups without the need to select one of the items, for example. If this option is deactivated, it can be used to create popups that remain visible until they are closed, e.g., using a close switch on the popup.  <span class="version-text">(Since HALion 6.3)</span></li></ul></li><li><strong>Mode:</strong> Specifies how the popup template is opened.<ul><li><strong>Inherit:</strong> Uses the popup mode of the switch that opens the popup.</li><li><strong>Overlay:</strong> Opens the popup as a layer over the macro page. This means that the popup is restricted to the dimensions of the macro page.</li><li><strong>Window:</strong> Opens the popup as an individual window. This allows you to display popup templates that are too large to remain within the boundaries of the macro page. In this mode, Close on Click is set to Outside and cannot be deactivated. This is to prevent popup windows from moving behind the plug-in window.  <span class="version-text">(Since HALion 7.0)</span></li></ul></li><li><strong>Placement:</strong> Here, you can specify where on the macro page the popup is shown. The options define the postion of the popup in relation to the switch.  <span class="version-text">(Since HALion 6.3)</span><ul><li><strong>Place Left:</strong> The popup opens on the left side of the switch.</li><li><strong>Place Right:</strong> The popup opens on the right side of the switch.</li><li><strong>Place Left+Right:</strong> The popup opens horizontally centered.</li><li><strong>Place Above:</strong> The popup opens above the switch.</li><li><strong>Place Below:</strong> The popup opens below the switch.</li><li><strong>Place Above+Below:</strong> The popup opens vertically centered.</li></ul></li><li><strong>Template Parameter:</strong> All exported properties of the assigned template are listed here. Only available if a template is assigned.  <span class="version-text">(Since HALion 7.0)</span></li></ul></td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Switch.html#switch">Jump to Top </a></p>
<h2 id="examples-1"><a class="header" href="#examples-1">Examples</a></h2>
<h3 id="radio-buttons"><a class="header" href="#radio-buttons">Radio buttons</a></h3>
<p>A radio switch group can be realized by connecting several switches, all set to Exclusive mode, to the same parameter. For each switch, the Onvalue must be specified.</p>
<p><strong>Switching pages:</strong></p>
<ol>
<li>Create an integer variable, name it "Pages", e.g., and specify a range of 0-2.</li>
<li>Add three exclusive switches and set their Values to the variable "Pages".</li>
<li>Set the Onvalues of the switches to 0,1, and 2.</li>
<li>Add a Stack with three child views and set the stack Value to the variable "Pages", too.</li>
<li>The switches now allow you to switch between the three views.</li>
</ol>
<h3 id="hover-mode-switch"><a class="header" href="#hover-mode-switch">Hover Mode Switch</a></h3>
<p>The Hover mode can be used to switch between stack views when hovering over a switch control. Since the switch can also be used invisible, i.e., without any bitmap assigned, it can be layered under a knob control and control a stack view switching between the parameter label and a text view displaying the current parameter value. To see how this can be set up, load one of the knobs from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#additional-controls">Additional Controls</a> library.</p>
<p><a href="HALion-Macro-Page/pages/Switch.html#switch">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="template"><a class="header" href="#template">Template</a></h1>
<h2 id="description-335"><a class="header" href="#description-335">Description</a></h2>
<p>A Template control represents an instance of a template. The number of available template parameters depends on the contents and setup of the template, i.e., the number of controls that are used in it and the number of control parameters that are exported. If a Template has an attached UI script, additional script parameters can be exported.</p>
<h2 id="properties-24"><a class="header" href="#properties-24">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
<tr><td style="text-align: left"><strong>Template Parameter</strong></td><td style="text-align: left">In this section, all parameters that are exported by controls and templates from inside the template are displayed. When using a template, these exported parameters can be set or connected like standard properties.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="template-list"><a class="header" href="#template-list">Template List</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Template-List.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#template-list-callbacks">Template List Callbacks</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistviewdrop">onTemplateListViewDrop</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistgetdraginfo">onTemplateListGetDragInfo</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropfeedback">onTemplateListDropFeedback</a></li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropdone">onTemplateListDropDone</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/Template-List.html#example">Example</a></li>
</ul>
<hr />
<h2 id="description-336"><a class="header" href="#description-336">Description</a></h2>
<p>A Template List can be used to create child templates from a single referenced template, where each instance of the referenced template can be used to control different parameter scopes, for example. The look of the Template List rows and columns is determined by the referenced template which you can choose in the Template property. Depending on the Layout property, the templates are arranged in a row, a column, or in a grid. The templates are arranged without spacing or graphic separators. If spacing or graphic separators are desired, they must be part of the referenced template.</p>
<blockquote>
<p>❕ For a better understanding of template lists, read the tutorial <a href="HALion-Macro-Page/pages/../../HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html">Creating a Template List</a>.</p>
</blockquote>
<h2 id="properties-25"><a class="header" href="#properties-25">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree and it serves as 'viewname' argument in the <a href="HALion-Macro-Page/pages/Template-List.html#template-list-callbacks">Template List Callbacks</a>.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Layout</strong>  <span class="version-text">(Since HALion 6.1)</span></td><td style="text-align: left"><ul><li><strong>Horizontal:</strong> Activate this option to arrange the child templates horizontally in a row.</li><li><strong>Vertical:</strong> Activate this option to arrange the child templates vertically in a column.</li><li><strong>Grid:</strong> Activate this option to arrange the child templates in a two-dimensional grid.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Alignment</strong>  <span class="version-text">(Since HALion 6.1)</span></td><td style="text-align: left">Here you can set how the child templates are positioned in the Template List area.<ul><li><strong>Center:</strong> The child templates are added to the list in their original size. The row, column, or grid is then centered inside the Template List area.</li><li><strong>Left:</strong> The child templates are added to the list in their original size. The row, column, or grid is then positioned to the left of the Template List area.</li><li><strong>Right:</strong> The child templates are added to the list in their original size. The row, column, or grid is then positioned to the right of the Template List area.</li><li><strong>Fill Height:</strong> The child templates are resized to fill the Template List area vertically.  <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Fill Width:</strong> The child templates are resized to fill the Template List area horizontally.  <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Fill:</strong> All cells in the list are resized equally horizontally and vertically to match the Template List area. The content of the child templates is then positioned and resized according to the Scale and Attachment settings of the contained controls.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Allows you to read the index of the focused child template. This is useful to synchronize the selection focus across several lists, for example.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>H-Scroll:</strong> Shows a horizontal scrollbar. This setting is not available with Alignment set to Fill or Fill Height.</li><li><strong>V-Scroll:</strong> Shows a vertical scrollbar. This setting is not available with Alignment set to Fill or Fill Width.</li><li><strong>Order:</strong> Set this option if you want to be able to change the order of the child templates via drag and drop. This option activates only the graphic reordering and only if at least the Template List callback <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistviewdrop">onTemplateListViewDrop</a> has been implemented. If you want the change of the graphical order to affect the program, e.g., if you want to change the order of alternating layers, this functionality must be programmed in a script. For more information about the available callbacks, see <a href="HALion-Macro-Page/pages/Template-List.html#template-list-callbacks">Template List Callbacks</a>.</li><li><strong>Custom SB:</strong> Set this option if you want to use custom scrollbars. For custom scrollbars, you must assign corresponding bitmap resources in the Scrollbars section. The height of the horizontal scrollbar and the width of the vertical scrollbar depend on the maximum width/height in pixels of the Hor Back and Ver Back bitmaps. For example, if Hor Back is set to a height of 30 pixels and Ver Back to 36 pixels, both will use 36 pixels.<ul><li><strong>Note:</strong> Scrollbars can only be scaled in their original orientation, i.e., vertical scrollbars scale only vertically and horizontal scrollbars only horizontally.</li></ul></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Focus Var</strong></td><td style="text-align: left">Allows you to specify a variable name, e.g., <code>MyFocusVariable</code>, that can be used inside the referenced template, e.g., to switch the focus of a <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> or an <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control. You can access this variable inside the referenced template with <code>@MyFocusVariable</code>. It is set to 1, if the element has the focus, 0 otherwise.</td></tr>
<tr><td style="text-align: left"><strong>Index Var</strong></td><td style="text-align: left">Allows you to specify a variable name, e.g., <code>MyIndexVariable</code>, that can be used inside the referenced template to display the index of the list entry. You can access this variable inside the referenced template with <code>@MyIndexVariable</code>. It is set to the index of the element in the list.</td></tr>
<tr><td style="text-align: left"><strong>Scrollbars</strong></td><td style="text-align: left">Allows you to assign the <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resources that are required to draw the custom scrollbars.<ul><li><strong>Up:</strong> Up button..</li><li><strong>Up Press:</strong> Up button Pressed.</li><li><strong>Down:</strong> Down button.</li><li><strong>Down Press:</strong> Down button Pressed.</li><li><strong>Ver Back:</strong> Vertical scrollbar background.</li><li><strong>Ver Handle:</strong> Vertical scrollbar handle.</li><li><strong>Handle Top:</strong> Top section of the vertical handle.</li><li><strong>Handle Bot:</strong> Bottom section of the vertical handle.</li><li><strong>Left:</strong> Left button.</li><li><strong>Left Press:</strong> Left button Pressed.</li><li><strong>Right:</strong> Right button.</li><li><strong>Right Press:</strong> Right button Pressed.</li><li><strong>Hor Back:</strong> Vertical scrollbar background.</li><li><strong>Hor Handle:</strong> Vertical scrollbar handle.</li><li><strong>Handle Left:</strong> Left section of the horizontal handle.</li><li><strong>Handle Right:</strong> Right section of the horizontal handle.</li></ul></td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<h2 id="template-list-callbacks"><a class="header" href="#template-list-callbacks">Template List Callbacks</a></h2>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<p>To enable the graphic reordering, the Order option must be active and either <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistviewdrop">onTemplateListViewDrop</a> or <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a> must be implemented in a UI script.</p>
<blockquote>
<p>❕  In order for the <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a> function to be called, the Drag Info property of the template referenced in the Template List must be set.</p>
</blockquote>
<h3 id="ontemplatelistviewdrop"><a class="header" href="#ontemplatelistviewdrop">onTemplateListViewDrop</a></h3>
<p>This callback is called when the drop is done. If you need more advanced control over the drag and drop operation, you can use the callbacks described below as an alternative.</p>
<blockquote>
<p><strong>onTemplateListViewDrop(viewname, fromindex, toindex)</strong></p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the Template List. Evaluate this to distinguish between different lists.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>fromindex</strong></td><td style="text-align: left">Index of the dragged element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>toindex</strong></td><td style="text-align: left">New index of the dropped element.</td><td style="text-align: left">integer</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<blockquote>
<p>❕ The callback <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistviewdrop">onTemplateListViewDrop</a> is a simplified callback that replaces the callbacks <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropfeedback">onTemplateListDropFeedback</a>, <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a> and <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropdone">onTemplateListDropDone</a> from below. The callback <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistviewdrop">onTemplateListViewDrop</a> cannot be combined with the callbacks just mentioned.</p>
</blockquote>
<h3 id="ontemplatelistgetdraginfo"><a class="header" href="#ontemplatelistgetdraginfo">onTemplateListGetDragInfo</a></h3>
<blockquote>
<p><strong>onTemplateListGetDragInfo(viewname, draginfo, index)</strong></p>
</blockquote>
<h4 id="description-337"><a class="header" href="#description-337">Description</a></h4>
<p>Callback for the source of the drag operation when the operation starts. The string in <code>draginfo</code> is taken from the Drag Info property of the template referenced in the Template List. The Drag Info property must be set inside the referenced template. To enable the graphic reordering of the elements, the Order option must be active and at least the <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a> callback must be implemented in a UI script. The <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a> callback can be omitted if no graphic reordering is required.</p>
<h4 id="arguments-228"><a class="header" href="#arguments-228">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the Template List that started the drag operation. Evaluate this to distinguish between different lists.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">The string specified by the Drag Info property of the template referenced in the Template List.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the dragged element.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<h4 id="return-values-160"><a class="header" href="#return-values-160">Return Values</a></h4>
<p>The function can return a table with the following keys:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Return Value</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Set this to <code>true</code> if copying is allowed, <code>false</code> if not. If 'copy' is <code>false</code> the <strong>Alt/Cmd</strong>-key for copying cannot be used. The default for 'copy' is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>move</strong></td><td style="text-align: left">Set this to <code>true</code> if moving is allowed, <code>false</code> if not. If 'move' is <code>false</code> the elements in the list will not be reordered when dragging. The default for 'move' is <code>true</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>info</strong></td><td style="text-align: left">The draginfo argument of the subsequent callbacks is determined by this return value. By default, 'info' returns the string specified by the Drag Info property of the template referenced in the Template List. By modifying the 'info' return value you can control the response of the subsequent callbacks.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>files</strong></td><td style="text-align: left">A table with file paths for evaluation by external software when the drop operation is executed there.</td><td style="text-align: left">table with file paths as strings</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ If both of the 'copy' and 'move' return values are set to <code>true</code>, the 'copy' argument in the callbacks <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdrop">onTemplateListDrop</a>, <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropfeedback">onTemplateListDropFeedback</a>, and <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistdropdone">onTemplateListDropDone</a> will depend upon whether the <strong>Alt/Cmd</strong>-key was utilized during the drag operation. The 'copy' argument in these callbacks will be <code>true</code> if the <strong>Alt/Cmd</strong>-key was used and <code>false</code> if it was not. If one or both of the 'copy' and 'move' return values are <code>false</code>, the use of the <strong>Alt/Cmd</strong>-key has no effect, and the 'copy' argument in the mentioned callbacks will depend solely on the 'copy' return value.</p>
</blockquote>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<h3 id="ontemplatelistdrop"><a class="header" href="#ontemplatelistdrop">onTemplateListDrop</a></h3>
<blockquote>
<p><strong>onTemplateListDrop(viewname, draginfo, toindex, offset, copy)</strong></p>
</blockquote>
<h4 id="description-338"><a class="header" href="#description-338">Description</a></h4>
<p>Callback for the target of the drag operation when the drop is executed. In order for the function to be called, the Drag Info property of the template referenced in the Template List must be set. Otherwise, the reordering will not work, even if the Order option of the Template List is active.</p>
<h4 id="arguments-229"><a class="header" href="#arguments-229">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the targeted Template List. Evaluate this to distinguish between different lists.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistgetdraginfo">onTemplateListGetDragInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>toindex</strong></td><td style="text-align: left">Index of the targeted element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>offset</strong></td><td style="text-align: left">The value -1, 0, or 1 indicates if the drop is before, on, or behind the targeted element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if the drag is a copy operation.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<h3 id="ontemplatelistdropfeedback"><a class="header" href="#ontemplatelistdropfeedback">onTemplateListDropFeedback</a></h3>
<blockquote>
<p><strong>onTemplateListDropFeedback(viewname, draginfo, toindex, offset, copy)</strong></p>
</blockquote>
<h4 id="description-339"><a class="header" href="#description-339">Description</a></h4>
<p>Callback for the target of the drag operation when an element is held over it. If implemented it can control the graphical feedback for the potential drop operation by returning a template to indicate the drop destination or reject dropping the element.</p>
<h4 id="arguments-230"><a class="header" href="#arguments-230">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the targeted Template List. Evaluate this to distinguish between different lists.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistgetdraginfo">onTemplateListGetDragInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>toindex</strong></td><td style="text-align: left">The index of the targeted element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>offset</strong></td><td style="text-align: left">The value -1, 0, or 1 indicates if the drop is before, on, or behind the targeted element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if drag is a copy operation.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<h4 id="return-values-161"><a class="header" href="#return-values-161">Return Values</a></h4>
<p>The function can return a table with the following keys:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Return Value</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>accept</strong></td><td style="text-align: left">Set this to <code>true</code> to allow or <code>false</code> to reject the drop operation. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>template</strong></td><td style="text-align: left">Name of a template that will be displayed as 'indicator' for the drop operation. The default is <code>""</code>.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">Index of the targeted element, where the 'indicator' should be displayed.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>insert</strong></td><td style="text-align: left">Set this to <code>true</code> if the 'indicator' should be placed before instead of on the element. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
<tr><td style="text-align: left"><strong>resize</strong></td><td style="text-align: left">Set this to <code>true</code> if the 'indicator' should be resized to the size of the targeted element. The default is <code>false</code>.</td><td style="text-align: left">boolean</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ When using onTemplateListDropFeedback: Since the default of <code>accept</code> is <code>false</code>, you must at least return <code>accept=true</code>.</p>
</blockquote>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<h3 id="ontemplatelistdropdone"><a class="header" href="#ontemplatelistdropdone">onTemplateListDropDone</a></h3>
<blockquote>
<p><strong>onTemplateListDropDone(viewname, draginfo, index, copy)</strong></p>
</blockquote>
<p>This callback is called when the drop operation is complete. Since the arguments of the callback refer to the source of the drag operation, it can be used to make modifications to the corresponding source Template List using additional functions.</p>
<h4 id="arguments-231"><a class="header" href="#arguments-231">Arguments</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Argument</th><th style="text-align: left">Description</th><th style="text-align: left">Value Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>viewname</strong></td><td style="text-align: left">The name of the Template List that started the drag operation.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>draginfo</strong></td><td style="text-align: left">This string is specified by the 'info' return value of the <a href="HALion-Macro-Page/pages/Template-List.html#ontemplatelistgetdraginfo">onTemplateListGetDragInfo</a> callback when the drag operation starts.</td><td style="text-align: left">string</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">Index of the dragged element.</td><td style="text-align: left">integer</td></tr>
<tr><td style="text-align: left"><strong>copy</strong></td><td style="text-align: left">Indicates if the drag was a copy operation.</td><td style="text-align: left">string</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Template-List.html#template-list">Jump to Top </a></p>
<blockquote>
<p>❕ If you want the change of the order of graphical elements to affect the program structure, e.g. the order of alternating layers or the order of effects within a bus, this must be implemented separately with dedicated functions.</p>
</blockquote>
<h2 id="example-307"><a class="header" href="#example-307">Example</a></h2>
<p>The subsequent example is presented as illustrative guide to kickstart your own solution-building process.</p>
<p><img src="HALion-Macro-Page/pages/../images/TemplateList-Example.png" alt="Template List Example" /></p>
<p><strong>To explore the example:</strong></p>
<ol>
<li>Load <a href="HALion-Macro-Page/pages/../vstpresets/Template%20List.vstpreset">Template List.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, activate <strong>Show/Hide Script Output Messages</strong> <img src="HALion-Macro-Page/pages/../images/ShowHideScriptOutputMessages.png" alt="Show/Hide Script Output Messages" />.</li>
<li>Click <strong>Test Macro Page</strong> <img src="HALion-Macro-Page/pages/../images/TestMacroPage-Off.PNG" alt="Test Macro Page" />, then drag and drop elements from the left to the right Template List and vice versa.</li>
<li>Use the <strong>Alt/Cmd</strong>-key to copy elements.</li>
<li>Read the output messages of the script.</li>
</ol>
<p>Reading the output messages of the script should help to understand how the callbacks work and how to use them.</p>
<pre><code class="language-lua">-- Create row names through a parameter.
rowNames = {}
 
for i = 1, 5 do 
 rowNames[i] = "Row "..tostring(i) 
end 
 
defineParameter{name="RowNames", strings=rowNames,}

currentViewname = ""

-- The following example accepts dropping of elements only from other template lists.

function onTemplateListGetDragInfo(viewname, draginfo, index)
	print("onTemplateListGetDragInfo:", "viewname = "..viewname, "draginfo = "..draginfo, "index = "..index)
	currentViewname = viewname
	return{info = index, copy=true, move=true}
end

function onTemplateListDropFeedback(viewname, draginfo, toindex, offset, copy)
	print("onTemplateListDropFeedback:", "viewname = "..viewname, "draginfo = "..draginfo, "toindex = "..toindex, "offset = "..offset, "copy = "..tostring(copy))
	local acceptDrop = false
	if viewname ~= currentViewname then
	acceptDrop = true
	end
	return{accept=acceptDrop, insert=false, template="DropFrame", resize=true,}
end

function onTemplateListDrop(viewname, draginfo, toindex, offset, copy)
	print("onTemplateListDrop:", "viewname = "..viewname, "draginfo = "..draginfo, "toindex = "..toindex, "offset = "..offset, "copy = "..tostring(copy))
	if viewname ~= currentViewname then
		local fromindex = tonumber(draginfo)
		if copy then
			rowNames[toindex] = rowNames[fromindex]
		else
			local rowName = table.remove(rowNames, fromindex)
			table.insert(rowNames, toindex, rowName)
		end
		defineParameter{name="RowNames", strings=rowNames,}
	end
end

function onTemplateListDropDone(viewname, draginfo, index, copy)
	print("onTemplateListDropDone:", "viewname = "..viewname, "draginfo = "..draginfo, "index = "..index, "copy = "..tostring(copy))
end
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="text"><a class="header" href="#text">Text</a></h1>
<h2 id="description-340"><a class="header" href="#description-340">Description</a></h2>
<p>The Text control can be used to edit either strings or values, depending on the type of parameter that it is connected to. If a parameter is defined as a value, you can increase and decrease the value by clicking on the text control and dragging up and down. For string parameters, you can enter the string. The Fit String and Fit Path options automatically shorten a string if it is getting too long to be displayed completely. For value parameters, you can add a unit that is displayed behind the value. If you want increment and decrement buttons, you can use the "ValueBox Black Flat" template from the Basic Controls library (in the "Flat" folder found in the "Text and Value" folder). This template contains a text control with up and down buttons.</p>
<h2 id="properties-26"><a class="header" href="#properties-26">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Fit Strings:</strong> Activate this option if you want a string to be shortened automatically if it cannot be fully displayed in the edit field. This method first removes spaces, then vowels.</li><li><strong>Fit Path:</strong> Activate this option if you want a path string to be shortened automatically if it cannot be fully displayed in the edit field. This method keeps the first and last characters of the string and puts "..." in between to indicate that letters were omitted.</li><li><strong>Wordwrap:</strong> Activate this option if you want to write text in more than one line. The text continues on the next line as soon as it does not fit into the current line.</li><li><strong>Read-Only:</strong> Activate this option if you want to use the text as a display-only parameter which cannot be edited.  <span class="version-text">(Since HALion 6.1)</span></li><li><strong>Val Meter:</strong> Activate this option if you want to display a value meter popup display when dragging the text control.  <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Single Click:</strong> Activate this option if you want to enter edit mode with a single click.  <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Immediate:</strong> Activate this option if you want to update values immediately while typing. <span class="version-text">(Since HALion 7.0)</span></li></ul></td></tr>
<tr><td style="text-align: left"><strong>Font</strong></td><td style="text-align: left">Allows you to select which <a href="HALion-Macro-Page/pages/./Font.html">Font</a> resource to be used to display the text.</td></tr>
<tr><td style="text-align: left"><strong>Units</strong></td><td style="text-align: left">A unit, such as milliseconds (ms) or decibel (dB), can be displayed with the value. Any string can be used. The value must be displayed in the correct value format to match the selected unit.</td></tr>
<tr><td style="text-align: left"><strong>Alignment</strong></td><td style="text-align: left">Defines how the text is aligned. You can choose from the following settings:<ul><li><strong>Align Left:</strong> Aligns the text to the left side.</li><li><strong>Align Center (Horizontal):</strong> Aligns the text to the horizontal center.</li><li><strong>Align Right:</strong> Aligns the text to the right side.</li><li><strong>Align Top:</strong> Aligns the text to the top.</li><li><strong>Align Center (Vertical):</strong> Aligns the text to the vertical center.</li><li><strong>Align Bottom:</strong> Aligns the text to the bottom.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Val Meter</strong></td><td style="text-align: left">The following properties are only accessible if the Val Meter style has been activated.<ul><li><strong>Template:</strong> Here you can select a template that is shown as value meter when dragging the text control. The template must contain an indicating control like a slider or an animation with an exported Value property. This value appears under Template Parameters and can then be connected to the same parameter as the text control. With no template specified, the HALion value meter popup display is used. <span class="version-text">(Since HALion 7.0)</span></li><li><strong>Placement:</strong> Here you can define the relative position in relation to the text control where the Val Meter should be shown.</li><li><strong>Template Parameter:</strong> All exported properties of the selected template will be listed here. However, only the Value property needs to be exported for the value meter functionality. Since the Template Parameters can also be exported, the Value property of the Val Meter template and the Value property of the text control can be combined to be used as a single common template parameter, e.g., on a text control template. <span class="version-text">(Since HALion 7.0)</span></li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="waveform"><a class="header" href="#waveform">Waveform</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Waveform.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Waveform.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Waveform.html#osc-parameters">Osc Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Waveform.html#colors">Colors</a></li>
<li><a href="HALion-Macro-Page/pages/Waveform.html#spectral">Spectral</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Waveform.html#fft-sizes">FFT Sizes</a></li>
<li><a href="HALion-Macro-Page/pages/Waveform.html#overlap-factors">Overlap Factors</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="description-341"><a class="header" href="#description-341">Description</a></h2>
<p>The Waveform control allows you to display the sample data of a connected sample file. For simple sample playback, a locator will be shown for the last played note. If you are using the Grain zone instead, the grain locators will be displayed. To display the part of the sample file that is effectively used and not the entire file, you can connect Sample Start/End and Trim Start/End. Furthermore, you can connect the Loop Start/End parameters to display the looped regions with a color overlay. Start Range and Release Start can also be connected to the sample oscillator to display the corresponding markers. In addition, the Waveform control can also display a spectrogram that can be drawn with an adjustable color scheme and opacity. <span class="version-text">(Since HALion 7.0)</span></p>
<blockquote>
<p>❕ The waveform display does not take into account which loop (A or B) is used or whether the loop is active or not. It will always display markers and regions, as soon as valid connections are made. If you want a waveform display that also reflects the loop states, you can use the <a href="HALion-Macro-Page/pages/./Sample-Display.html">Sample Display</a> template instead, because it contains a UI script that manages these states.</p>
</blockquote>
<h2 id="properties-27"><a class="header" href="#properties-27">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Normalize</strong></td><td style="text-align: left">Activate this to normalize the sample level. This can be useful to better visualize samples with low level.</td></tr>
<tr><td style="text-align: left"><strong>Loop Marker</strong></td><td style="text-align: left">Activate this option to show loop markers as flags instead of overlay rectangles. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Editable</strong></td><td style="text-align: left">Activate this option to make markers editable. The responsive editing area for markers depends on whether the Grain Pos parameter is connected. I Grain Pos is enabled, you can drag only the bottom of the marker (20 pixels). This is to avoid conflicts with the Grain Position marker which uses the rest of the display. Otherwise, markers can be dragged along their entire length. <span class="version-text">(Since HALion 7.0)</span></td></tr>
</tbody></table>
</div>
<h2 id="osc-parameters"><a class="header" href="#osc-parameters">Osc Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Filename</strong></td><td style="text-align: left">Allows you to connect the Filename parameter of the sample oscillator.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Allows you to connect the PlayPos parameter of the sample oscillator. This will display a locator for the sample playback. If you are using a Grain or Spectral zone, you must connect this to the PlayData parameter of the grain or spectral oscillator <span class="version-text">(Since HALion 7.0)</span> instead. This will display a locator for each playing grain or each spectral multi-voice.</td></tr>
<tr><td style="text-align: left"><strong>Grain Pos</strong></td><td style="text-align: left">Allows you to connect the Position parameter of the grain or spectral oscillator <span class="version-text">(Since HALion 7.0)</span>. This will display a locator for each playing grain or each spectral multi-voice. The locators only work if PlayPos is connected, too.</td></tr>
<tr><td style="text-align: left"><strong>Sample Start</strong></td><td style="text-align: left">Allows you to connect the Sample End parameter of the sample oscillator. This is required to display the correct sample region, otherwise the whole sample file is shown.</td></tr>
<tr><td style="text-align: left"><strong>Sample End</strong></td><td style="text-align: left">Allows you to connect the Sample End parameter of the sample oscillator. This is required to display the correct sample region, otherwise the whole sample file is shown.</td></tr>
<tr><td style="text-align: left"><strong>Trim Start</strong></td><td style="text-align: left">Allows you to connect the Trim Start parameter of the sample oscillator. This is required to display the correct sample region if the sample was trimmed in the Sample Editor.</td></tr>
<tr><td style="text-align: left"><strong>Trim End</strong></td><td style="text-align: left">Allows you to connect the Trim End parameter of the sample oscillator. This is required to display the correct sample region if the sample was trimmed in the Sample Editor.</td></tr>
<tr><td style="text-align: left"><strong>SLoop Start</strong></td><td style="text-align: left">Allows you to connect the SustainLoopStart (A or B) parameter of the sample oscillator. This is required if you want to display the sustain loop region.</td></tr>
<tr><td style="text-align: left"><strong>SLoop End</strong></td><td style="text-align: left">Allows you to connect the SustainLoopEnd (A or B) parameter of the sample oscillator. This is required if you want to display the sustain loop region.</td></tr>
<tr><td style="text-align: left"><strong>RLoop Start</strong></td><td style="text-align: left">Allows you to connect the ReleaseLoopStart (A or B) parameter of the sample oscillator. This is required if you want to display the release loop region.</td></tr>
<tr><td style="text-align: left"><strong>RLoop End</strong></td><td style="text-align: left">Allows you to connect the ReleaseLoopEnd (A or B) parameter of the sample oscillator. This is required if you want to display the release loop region.</td></tr>
<tr><td style="text-align: left"><strong>Start Range</strong></td><td style="text-align: left">Allows you to connect the SampleStartRange parameter of the sample oscillator to show the sample start range marker.</td></tr>
<tr><td style="text-align: left"><strong>Rel Start</strong></td><td style="text-align: left">Allows you to connect the ReleaseStart parameter of the sample oscillator to show the release start marker.</td></tr>
<tr><td style="text-align: left"><strong>Fade In L</strong></td><td style="text-align: left">Allows you to connect the FadeInLength parameter of the sample oscillator. This is required if you want to display the influence of a fade in. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Fade In C</strong></td><td style="text-align: left">Allows you to connect the FadeInCurve parameter of the sample oscillator. This is required if you want to display the influence of a fade in. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Fade Out L</strong></td><td style="text-align: left">Allows you to connect the FadeOutLength parameter of the sample oscillator. This is required if you want to display the influence of a fade out. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Fade Out C</strong></td><td style="text-align: left">Allows you to connect the FadeOutCurve parameter of the sample oscillator. This is required if you want to display the influence of a fade out. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Play Mode</strong></td><td style="text-align: left">Allows you to connect the PlaybackMode parameter of the sample oscillator. This is required if you want to display the influence of the playback mode. Otherwise, the sample will never be shown reversed. <span class="version-text">(Since HALion 7.0)</span></td></tr>
<tr><td style="text-align: left"><strong>Level Env</strong></td><td style="text-align: left">Allows you to connect the LevelEnvelope parameter of the sample oscillator. This is required if you want to display the influence of a level envelope. <span class="version-text">(Since HALion 7.0)</span></td></tr>
</tbody></table>
</div>
<h2 id="colors-2"><a class="header" href="#colors-2">Colors</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Waveform</strong></td><td style="text-align: left">The color of the waveform.</td></tr>
<tr><td style="text-align: left"><strong>PlayPos</strong></td><td style="text-align: left">The color of the playback locators.</td></tr>
<tr><td style="text-align: left"><strong>SusLoop</strong></td><td style="text-align: left">The color of the sustain loop region.</td></tr>
<tr><td style="text-align: left"><strong>RelLoop</strong></td><td style="text-align: left">The color of the release loop region.</td></tr>
<tr><td style="text-align: left"><strong>StartRange</strong></td><td style="text-align: left">The color of the start range marker.</td></tr>
<tr><td style="text-align: left"><strong>RelStart</strong></td><td style="text-align: left">The color of the release start marker. <span class="version-text">(Since HALion 7.0)</span></td></tr>
</tbody></table>
</div>
<h2 id="spectral"><a class="header" href="#spectral">Spectral</a></h2>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scheme</strong></td><td style="text-align: left">Selects the color scheme to be used in the display.</td></tr>
<tr><td style="text-align: left"><strong>FFT Size</strong></td><td style="text-align: left">Connect a control using an integer variable or a script parameter to select the FFT size of the window that is used for the analysis of the signal. This allows you to adjust the trade-off between temporal resolution and frequency resolution. Larger FFT sizes analyze more frequencies but with less accuracy in the time domain. See <a href="HALion-Macro-Page/pages/Waveform.html#fft-sizes">FFT Sizes</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Overlap</strong></td><td style="text-align: left">Connect a control using an integer variable or a script parameter to select the number of overlapping FFT windows. Increasing the overlap can reduce artifacts, e.g., loosing details such as transients. See <a href="HALion-Macro-Page/pages/Waveform.html#overlap-factors">Overlap Factors</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Min Level</strong></td><td style="text-align: left">Connect a control using a float variable or a script parameter to set the minimum value of the scale (-240 to +20 dB).</td></tr>
<tr><td style="text-align: left"><strong>Max Level</strong></td><td style="text-align: left">Connect a control using a float variable or a script parameter to set the maximum value of the scale (-220 to +20 dB).</td></tr>
<tr><td style="text-align: left"><strong>Opacity</strong></td><td style="text-align: left">Connect a control using a float variable or a script parameter to blend between sample and FFT display (-100 to +100) .</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ For the FFT display settings to be saved and restored with Programs, they must be connected using script parameters.</p>
</blockquote>
<h3 id="fft-sizes"><a class="header" href="#fft-sizes">FFT Sizes</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Value</th><th style="text-align: left">FFT Size in Samples</th></tr></thead><tbody>
<tr><td style="text-align: left">-1</td><td style="text-align: left">Selects the FFT size automatically depending on the length of the sample.</td></tr>
<tr><td style="text-align: left">0</td><td style="text-align: left">32</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">64</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">128</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">256</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">512</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">1024</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">2048</td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">4096</td></tr>
<tr><td style="text-align: left">8</td><td style="text-align: left">81912</td></tr>
<tr><td style="text-align: left">9</td><td style="text-align: left">16384</td></tr>
<tr><td style="text-align: left">10</td><td style="text-align: left">32768</td></tr>
<tr><td style="text-align: left">11</td><td style="text-align: left">65536</td></tr>
</tbody></table>
</div>
<h3 id="overlap-factors"><a class="header" href="#overlap-factors">Overlap Factors</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Value</th><th style="text-align: left">Overlap Factor</th></tr></thead><tbody>
<tr><td style="text-align: left">0</td><td style="text-align: left">No overlap.</td></tr>
<tr><td style="text-align: left">1</td><td style="text-align: left">2 x</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left">4 x</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left">8 x</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left">16 x</td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left">32 x</td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left">64 x</td></tr>
<tr><td style="text-align: left">7</td><td style="text-align: left">128 x</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="wavetable"><a class="header" href="#wavetable">Wavetable</a></h1>
<h2 id="description-342"><a class="header" href="#description-342">Description</a></h2>
<p>The Wavetable control allows you to display the resulting wave of the wavetable oscillator in real-time. You can connect it directly to the oscillator and configure the line width and colors.</p>
<h2 id="properties-28"><a class="header" href="#properties-28">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Play Data</strong></td><td style="text-align: left">Allows you to connect the Play Data parameter of the wavetable oscillator.</td></tr>
<tr><td style="text-align: left"><strong>Line Width</strong></td><td style="text-align: left">Adjusts the width of the waveform line from 1 to 3 pixels.</td></tr>
</tbody></table>
</div>
<h2 id="colors-3"><a class="header" href="#colors-3">Colors</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Line 1-8</strong></td><td style="text-align: left">The color of the wavetable display. The first color defines the main wave, 2 to 7 can be used to specify different colors for the additional waves of the unison voices.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="wavetable-3d"><a class="header" href="#wavetable-3d">Wavetable 3D</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-3D.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-3D.html#properties">Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-3D.html#colors">Colors</a></li>
</ul>
<hr />
<h2 id="description-343"><a class="header" href="#description-343">Description</a></h2>
<p>The Wavetable 3D control can be connected directly to the oscillator and display a three-dimensional representation of the wavetable in real time. You can configure the appearance of the representation – that is, the shininess of its surface, its brightness, the scaling factors, view angles, lines and colors, etc. – using the available parameters of the control.</p>
<h2 id="properties-29"><a class="header" href="#properties-29">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Play Data</strong></td><td style="text-align: left">Allows you to connect the Play Data parameter of the wavetable oscillator.</td></tr>
<tr><td style="text-align: left"><strong>ScaleX</strong></td><td style="text-align: left">Specifies the scaling factor of the width of the 3D representation.</td></tr>
<tr><td style="text-align: left"><strong>ScaleY</strong></td><td style="text-align: left">Specifies the scaling factor of the height of the 3D representation.</td></tr>
<tr><td style="text-align: left"><strong>ScaleZ</strong></td><td style="text-align: left">Specifies the scaling factor of the depth of the 3D representation.</td></tr>
<tr><td style="text-align: left"><strong>Observe A</strong></td><td style="text-align: left">Rotates the 3D representation horizontally. This property can be cotrolled by dragging the display with the mouse and/or with a connected control.</td></tr>
<tr><td style="text-align: left"><strong>Observe H</strong></td><td style="text-align: left">Rotates the 3D representation vertically. This property can be cotrolled by dragging the display with the mouse and/or with a connected control.</td></tr>
<tr><td style="text-align: left"><strong>Ambient</strong></td><td style="text-align: left">Specifies the amount of ambient light.</td></tr>
<tr><td style="text-align: left"><strong>Diffuse</strong></td><td style="text-align: left">Specifies the general brighteness of the material.</td></tr>
<tr><td style="text-align: left"><strong>Specular</strong></td><td style="text-align: left">Specifies the intensity of specular highlights of the material.</td></tr>
<tr><td style="text-align: left"><strong>Shininess</strong></td><td style="text-align: left">Specifies the size of specular highlight areas of the material.</td></tr>
<tr><td style="text-align: left"><strong>Lines</strong></td><td style="text-align: left">Can be activated to draw a line for each wave of the wavetable.</td></tr>
<tr><td style="text-align: left"><strong>Line Width</strong></td><td style="text-align: left">Adjusts the width of the lines from 1 to 3 pixels.</td></tr>
<tr><td style="text-align: left"><strong>Loop</strong></td><td style="text-align: left">Can be activated to draw a line for the loop start and end markers.</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Wavetable-3D.html#wavetable-3d">Jump to Top </a></p>
<h2 id="colors-4"><a class="header" href="#colors-4">Colors</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Focus</strong></td><td style="text-align: left">The color of the wave line that has the focus in the wavetable editor.</td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">The color of the display background.</td></tr>
<tr><td style="text-align: left"><strong>Line</strong></td><td style="text-align: left">The color of the wave lines.</td></tr>
<tr><td style="text-align: left"><strong>Play</strong></td><td style="text-align: left">The color of the wave line at the current playback position.</td></tr>
<tr><td style="text-align: left"><strong>Min</strong></td><td style="text-align: left">The color for the lowest amplitude value of the waveform.</td></tr>
<tr><td style="text-align: left"><strong>Max</strong></td><td style="text-align: left">The color for the highest amplitude value of the waveform.</td></tr>
<tr><td style="text-align: left"><strong>Loop</strong></td><td style="text-align: left">The color of the loop lines.</td></tr>
</tbody></table>
</div>
<p><a href="HALion-Macro-Page/pages/Wavetable-3D.html#wavetable-3d">Jump to Top </a></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Controls.html">Controls</a> /</p>
<h1 id="xy"><a class="header" href="#xy">XY</a></h1>
<h2 id="description-344"><a class="header" href="#description-344">Description</a></h2>
<p>The XY control allows you to control two parameters with one two-dimensional control. You can connect a parameter to the X Value, which is then controlled by horizontal movements of the handle and a parameter to the Y Value which is controlled by the vertical movements of the handle. A bitmap can be assigned to the Handle property. The XY control is transparent, which means that only the handle is drawn on the macro page. If you need a background to indicate the area that is used by the control, you can either put an image behind it or create a template and add a background image to it.</p>
<h2 id="properties-30"><a class="header" href="#properties-30">Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>X Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Y Value</strong></td><td style="text-align: left">Drag and drop a parameter from the Parameter List to this text field to establish a connection. The assigned parameter will be displayed. Alternatively, you can export the property, which can then be used as a template parameter on a template instance.</td></tr>
<tr><td style="text-align: left"><strong>Click Value</strong></td><td style="text-align: left">Allows you to transmit the information that the XY control has been clicked. The value changes from 0 to 1. The main purpose is to connect it to a UI script that needs to react to mouse clicks. It is not intended to be connected to HALion engine parameters.</td></tr>
<tr><td style="text-align: left"><strong>Hover</strong> <span class="version-text">(Since HALion 7.0)</span></td><td style="text-align: left">Enable this option to send the X/Y values when moving the mouse cursor above the X/Y control. This mode should be used with X/Y values that are connected to a UI script. Otherwise, when connected to engine parameters, this will result in a large amount of undo entries. For example, the X/Y control could be used to control a SVG animation that changes two properties over X and Y. The X/Y values that are sent to engine parameters could only be evaluated when the mouse is clicked.</td></tr>
<tr><td style="text-align: left"><strong>Handle</strong></td><td style="text-align: left">Allows you to assign a <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> that is used as a handle.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a></p>
<h1 id="templates"><a class="header" href="#templates">Templates</a></h1>
<p>A template is a group of control elements that is created to be used multiple times on a macro page, each time with different property values. The <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library comes with a large number of templates. Most of the templates are generic, such as knobs, sliders, and switches, and do not need any further documentation. However, there are also more complex templates, prepared for specific tasks, like controlling a MIDI Player module or a Step Modulator. For such templates, you will find further information in this documentation.</p>
<p>All templates described in this section can be found in the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library. Additional templates for knobs, sliders, switches etc. can be found in the <a href="HALion-Macro-Page/pages/Exploring-Templates.html#additional-and-vector-controls">Additional Controls</a> and the <a href="HALion-Macro-Page/pages/Exploring-Templates.html#additional-and-vector-controls">Vector Controls</a> library. See <a href="HALion-Macro-Page/pages/./Exploring-Templates.html">Exploring Templates</a> for information on how to access templates.</p>
<ul>
<li><a href="HALion-Macro-Page/pages/./About-Box.html">About Box</a></li>
<li><a href="HALion-Macro-Page/pages/./Animation-Script.html">Animation Script</a></li>
<li><a href="HALion-Macro-Page/pages/./Curve-Editor.html">Curve Editor</a></li>
<li><a href="HALion-Macro-Page/pages/./Envelope.html">Envelope</a></li>
<li><a href="HALion-Macro-Page/pages/./Envelope-Shaper.html">Envelope Shaper</a></li>
<li><a href="HALion-Macro-Page/pages/./FlexPhraser.html">FlexPhraser</a></li>
<li><a href="HALion-Macro-Page/pages/./FlexPhraserStepSeq.html">FlexPhraserStepSeq</a></li>
<li><a href="HALion-Macro-Page/pages/./FX-Meter.html">FX Meter</a></li>
<li><a href="HALion-Macro-Page/pages/./MIDI-Player.html">MIDI Player</a></li>
<li><a href="HALion-Macro-Page/pages/./Mixer-Channel.html">Mixer Channel</a></li>
<li><a href="HALion-Macro-Page/pages/./Path-Browser.html">Path Browser</a></li>
<li><a href="HALion-Macro-Page/pages/./Preset-Browser.html">Preset Browser</a></li>
<li><a href="HALion-Macro-Page/pages/./Preset-Browser-Custom.html">Preset Browser Custom</a></li>
<li><a href="HALion-Macro-Page/pages/./Sample-Display.html">Sample Display</a></li>
<li><a href="HALion-Macro-Page/pages/./Step-Modulator-Template.html">Step Modulator (Template)</a></li>
<li><a href="HALion-Macro-Page/pages/./Studio-EQ-Meter.html">Studio EQ Meter</a></li>
<li><a href="HALion-Macro-Page/pages/./Wavetable-Noise-Selector.html">Wavetable Noise Selector</a></li>
<li><a href="HALion-Macro-Page/pages/./Wavetable-Selector.html">Wavetable Selector</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="about-box"><a class="header" href="#about-box">About Box</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/About-Box.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/About-Box.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/About-Box.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/About-Box.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/About-Box-Page.png" alt="About Box" /></p>
<h2 id="description-345"><a class="header" href="#description-345">Description</a></h2>
<p>You can use the Aboutbox template to display information about the library manufacturer and the developers, for example. Its default size matches the standard size of a HALion Sonic macro page and it contains several control elements, such as a background bitmap, several example labels, two switches, and a menu. You can adapt these elements to your own needs.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>In the <strong>Macro Page Designer</strong>, examine the "Aboutbox" template in the Templates Tree and the "Popup Views" variable in the GUI Tree.</li>
</ol>
<p>To open an about box, a Popup List variable is required, see the "Popup Views" variable in the GUI Tree. The first entry of the Popup List variable must refer to the template name of the about box, in this example: <code>Aboutbox</code>. The page switch "Sw_About Box" in the GUI Tree is used to open the about box. The Value of "Sw_About Box" must be set to <code>@Popup Views</code> and the Onvalue must be set to <code>1</code>. The "Close switch" inside the Aboutbox template is used to close the about box. Its Value must also be set to <code>@Popup Views</code> and its Onvalue must be set to <code>0</code>. A click on the opened about box will close it.</p>
<p>In addition, the Aboutbox template contains a switch "Steinberg Website" and a menu "Weblinks" that are used to open webpages. These two controls require a UI script that is attached to the Aboutbox template. The Value of "Steinberg Website" is set to <code>@WebLink</code> and the Value of "Weblinks" is set to <code>@WebHome</code>. These values refer to the parameters that are defined in the UI script and they will open the corresponding webpages, also defined in the UI script. You can edit the UI script to change the URLs.</p>
<h4 id="ui-script"><a class="header" href="#ui-script">UI Script</a></h4>
<pre><code class="language-lua">-- define web links

links = {
				"http://www.steinberg.net/de/home.html",
				"http://www.steinberg.net/de/support.html",
			  }
			  
function onWebLinkChanged()  
  openURL (links[WebLink])
end

defineParameter{name="WebLink", default=1, strings=links, onChanged=onWebLinkChanged,writeAlways=true}



-- define single home web link

function onWebHomeChanged()  
  openURL ("http://www.steinberg.net/de/home.html")
end

defineParameter("WebHome", nil, true, onWebHomeChanged)
</code></pre>
<h2 id="template-properties"><a class="header" href="#template-properties">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the template. The first entry of the Popup List variable must refer to this name.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template"><a class="header" href="#components-inside-the-template">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/About-Box-Template.PNG" alt="About Box template" /></p>
<h3 id="controls-and-subtemplates"><a class="header" href="#controls-and-subtemplates">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Weblinks</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Menu.html">Menu</a> control to display a list of web links. The menu is connected to the UI script using <code>@WebLink</code> as Value. The UI script is attached to the Aboutbox template. Edit the script to change the suggested links.</td></tr>
<tr><td style="text-align: left"><strong>Steinberg Website</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control connected to the UI script using <code>@Webhome</code> as Value. The UI script is attached to the Aboutbox template. Edit the script to change the suggested link.</td></tr>
<tr><td style="text-align: left"><strong>Close switch</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control set to <code>exclusive</code> mode. The Value must be set to the same Popup List variable <code>@Popup Views</code> that is used to open the about box. The Onvalue must be set to <code>0</code>.</td></tr>
<tr><td style="text-align: left"><strong>Person ..., Role ...</strong></td><td style="text-align: left">Several <a href="HALion-Macro-Page/pages/./Label.html">Label</a> controls that can be used to mention developers. Alternatively, the labels could also be part of the background bitmap.</td></tr>
<tr><td style="text-align: left"><strong>Background</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control for the background bitmap.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="animation-script"><a class="header" href="#animation-script">Animation Script</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/Animation-Script.html#ui-script">UI Script</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Animation-Script-Page.png" alt="Animation Script" /></p>
<h2 id="description-346"><a class="header" href="#description-346">Description</a></h2>
<p>The Animation Script template can be added to a macro page to run timer-controlled animations. These can be turned on and off by any parameter and the integrated script can be customized to set animation properties, such as the number of frames and the duration of a frame. There are two templates included in the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library, the Animation Script template providing only the UI script and the Animation Script Example template, which includes additional components such as a play button, variables, and an example animation to show how the UI script can be connected.</p>
<p><img src="HALion-Macro-Page/pages/../images/Animation-Script-Template.png" alt="Animation-Script-Template" /></p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Animation Page".</li>
<li>Select "Animation Script Example" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-1"><a class="header" href="#template-properties-1">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-1"><a class="header" href="#components-inside-the-template-1">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Animation-Script-Example-Template.png" alt="Animation Script Example Template" /></p>
<h3 id="ui-variables-1"><a class="header" href="#ui-variables-1">UI Variables</a></h3>
<p>These variables are needed to allow the communication between the <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control, the Animation Script Template and the PLay button.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Frames</strong></td><td style="text-align: left">A float variable to connect the Out parameter of the Animation Script Template with the Value of the <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control.</td><td style="text-align: left">float</td><td style="text-align: left">0 - 1.0</td></tr>
<tr><td style="text-align: left"><strong>On</strong></td><td style="text-align: left">An integer variable to connect the On parameter of the Animation Script Template with the Play button.</td><td style="text-align: left">integer</td><td style="text-align: left">0 - 1</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-1"><a class="header" href="#controls-and-subtemplates-1">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Animation</strong></td><td style="text-align: left">A SVG of a rotating star as an example animation. It is connected to the Animation Script Template by <code>@Frames</code>.</td></tr>
<tr><td style="text-align: left"><strong>Animation Script Template</strong></td><td style="text-align: left">The template view that contains the UI script for controlling the animation. The template provides the following parameters:<ul><li><strong>On:</strong> Starts and stops the animation. Connected  to the Play button by <code>@On</code>.</li><li><strong>Out:</strong> The output of the script for controlling the animation. It is connected to the <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control by <code>@Frames</code>.</li><li><strong>Frames:</strong> The number of frames to be displayed (1 to 1000). The number is best set to the actual number of frames in the referenced animation. You can use a different number, e.g., use 50 for an animation with 100 frames, if you want to display only every second frame of the animation.</li><li><strong>Frame Duration:</strong> Here you can specify the duration for each frame to be displayed. The duration is set in milliseconds (20 to 10.000).</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Play</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to start and stop the animation. It is connected to the Animation Script Template by <code>@On</code>.</td></tr>
</tbody></table>
</div>
<h3 id="ui-script-1"><a class="header" href="#ui-script-1">UI Script</a></h3>
<pre><code class="language-lua">function animate()
 while on do
  if out + inc &lt;= 1  then
    out = out + inc
  else
	out = 0
  end
  wait(frameDuration)
 end
 
 out = 0
end

inc = 0.1
defineParameter{name = "on", default = false, onChanged = animate}
defineParameter{name = "out", default = 0, min = 0, max = 1}
defineParameter{name = "frames", default = 10, min = 1, max = 1000, type = "integer", onChanged = function() inc = 1 / frames end}
defineParameter{name = "frameDuration", default = 50, min = 20, max = 10000, type = "integer"}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="curve-editor"><a class="header" href="#curve-editor">Curve Editor</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/Curve-Editor.html#curve-editor-control">Curve Editor Control</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Curve-Editor-Page.png" alt="Curve Editor" /></p>
<h2 id="description-347"><a class="header" href="#description-347">Description</a></h2>
<p>The Curve Editor template allows you to display and edit curves, such as the custom curve of the Velocity Curve MIDI module or the modulation matrix, for example. The template contains controls to adjust the values of the selected node and the minimum and maximum of the curve. These controls must be part of the template and they must use the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variables</a> as defined in the template to connect with the <a href="HALion-Macro-Page/pages/Curve-Editor.html#curve-editor-control">Curve Editor Control</a>.</p>
<blockquote>
<p>❕ The <a href="HALion-Macro-Page/pages/Curve-Editor.html#curve-editor-control">Curve Editor Control</a> cannot be created manually in the GUI Tree. Please load the template from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library to use it. You can adapt the look and feel of the template to the requirements of your macro page with the <a href="HALion-Macro-Page/pages/Curve-Editor.html#properties">Properties</a> and <a href="HALion-Macro-Page/pages/Curve-Editor.html#colors">Colors</a> as described below. If certain controls are not required or wanted, they can be removed.</p>
</blockquote>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Curve Editor Page".</li>
<li>Select "Curve Editor" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-2"><a class="header" href="#template-properties-2">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters"><a class="header" href="#template-parameters">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Curve Data</strong></td><td style="text-align: left">Connect this to the FuncData parameter of the Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Min</strong></td><td style="text-align: left">Compresses the curve vertically from the bottom. Connect this to the Minimum parameter of a Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Max</strong></td><td style="text-align: left">Compresses the curve vertically from the top. Connect this to the Maximum parameter of a Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Allows you to connect a parameter that sends the current value on the curve, e.g., input to output velocity.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-2"><a class="header" href="#components-inside-the-template-2">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Curve-Editor-Template.PNG" alt="Curve Editor Template" /></p>
<h3 id="ui-variables-2"><a class="header" href="#ui-variables-2">UI Variables</a></h3>
<p>The following variables are needed to allow the communication between the curve editor and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: center">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">The curvature of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">-10 - 10</td></tr>
<tr><td style="text-align: left"><strong>valY</strong></td><td style="text-align: left">The y-value of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 1</td></tr>
<tr><td style="text-align: left"><strong>valX</strong></td><td style="text-align: left">The x-value of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 1</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">The index of the selected node.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 100</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-2"><a class="header" href="#controls-and-subtemplates-2">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>curveeditor</strong></td><td style="text-align: left">The Curve Editor control. The properties FuncData, Minimum, and Maximum are exported and thus are available as template parameters. The exported Minimum and Maximum properties and the exported Value property of Slider Min and Slider Max (see below) share the same name for the template parameters and therefore appear only as one template parameter, Min and Max respectively, on the instance level of the template. For more details about the configuration of the control, see <a href="HALion-Macro-Page/pages/Curve-Editor.html#curve-editor-control">Curve Editor Control</a>.</td></tr>
<tr><td style="text-align: left"><strong>Slider Max</strong></td><td style="text-align: left">A slider template. The Value property of this slider template is exported and thus available as template parameter. It shares the name <code>Max</code>with the exported Maximum property of the Curve Editor control. Therefore, both exported properties appear only as one template parameter.</td></tr>
<tr><td style="text-align: left"><strong>Slider Min</strong></td><td style="text-align: left">A slider template. The Value property of this slider template is exported and thus available as template parameter. It shares the name <code>Min</code>with the exported Minimum property of the Curve Editor control. Therefore, both exported properties appear only as one template parameter.</td></tr>
<tr><td style="text-align: left"><strong>Edit</strong></td><td style="text-align: left">A group of valuebox templates for displaying and editing the values of the selected node. The controls are connected to the Curve Editor control by the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variables</a> defined above. The respective <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variable</a> must be set as Value to establish the connection.<ul><li><strong>ValX:</strong> A valuebox template to control the x-value of the selected node. Its Value is set to <code>@valX</code>.</li><li><strong>ValY:</strong> A valuebox template to control the y-value of the selected node. Its Value  is set to <code>@valY</code>.</li><li><strong>Curve:</strong> A valuebox template to control the curvature of the selected node. Its Value is set to <code>@curve</code>.</li><li><strong>Index:</strong> A valuebox template to select the index of the node to be edited. Its Value is set to <code>@index</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>image</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Bitmap.html">Bitmap</a> resource for an embedded frame around the curve editor.</td></tr>
</tbody></table>
</div>
<h3 id="curve-editor-control"><a class="header" href="#curve-editor-control">Curve Editor Control</a></h3>
<p>The look and feel of the Curve Editor control can be configured with the following properties and colors.</p>
<h4 id="properties-31"><a class="header" href="#properties-31">Properties</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Bipolar:</strong> Activate this for bipolar curves like pitch or pan.</li><li><strong>Cross:</strong> Shows cross lines when editing a node.</li><li><strong>Grid:</strong> Shows a grid behind the curve.</li><li><strong>Play Pos:</strong> Shows the position of the current value on the curve.</li><li><strong>Nodes:</strong> Shows the nodes.</li><li><strong>Add/Rem:</strong> Allows you to add and remove nodes, otherwise a fixed number of nodes is used.</li><li><strong>Sel Node:</strong> Allows to select a node.</li><li><strong>No Margins:</strong> Activate this if you want to draw the curve using the full rectangle. ScaleX and ScaleY are clipped if No Margins is enabled. Therefore, you should deactivate them.</li><li><strong>Scale X:</strong> Shows a scale for the x-axis.</li><li><strong>Scale Y:</strong> Shows a scale for the y-axis.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>FuncData</strong></td><td style="text-align: left">Export this property to the instance level of the template and connect the corresponding template parameter to the FuncData parameter of the Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Grid</strong></td><td style="text-align: left"><ul><li><strong>MinX:</strong> Defines the minimum value of the horizontal grid.</li><li><strong>MaxX:</strong> Defines the maximum value of the horizontal grid.</li><li><strong>MinY:</strong> Defines the minimum value of the vertical grid.</li><li><strong>MaxY:</strong> Defines the maximum value of the vertical grid.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Selected Node</strong></td><td style="text-align: left"><ul><li><strong>Index:</strong> The index of the selected node. Connected to the valuebox template Index by the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variable</a> <code>@index</code>.</li><li><strong>X:</strong> The x-value of the selected node. Connected to the valuebox template ValX by the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variable</a> <code>@valX</code>.</li><li><strong>Y:</strong> The y-value of the selected node. Connected to the valuebox template ValY by the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variable</a> <code>@valY</code>.</li><li><strong>Curve:</strong> The curvature of the selected node. Connected to the valuebox template Curve by the <a href="HALion-Macro-Page/pages/Curve-Editor.html#ui-variables">UI variable</a> <code>@curve</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Minimum</strong></td><td style="text-align: left">Compresses the curve vertically from the bottom. Export this property to the instance level of the template and connect the corresponding template parameter to the Minimum parameter of the Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Maximum</strong></td><td style="text-align: left">Compresses the curve vertically from the top. Export this property to the instance level of the template and connect the corresponding template parameter to the Maximum parameter of the Velocity Curve MIDI module, for example.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Allows you to connect a parameter that sends the current value on the curve, e.g., input to output velocity. The Play Pos style must be activated to get access to this.</td></tr>
</tbody></table>
</div>
<h4 id="colors-5"><a class="header" href="#colors-5">Colors</a></h4>
<blockquote>
<p>❕ Some colors are only available if the corresponding Style options are active.</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Line</strong></td><td style="text-align: left">Line color between the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Fill</strong></td><td style="text-align: left">Fill color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>FillSelected</strong></td><td style="text-align: left">Fill color of the selected node.</td></tr>
<tr><td style="text-align: left"><strong>FrameFocus</strong></td><td style="text-align: left">Frame color of the focussed node.</td></tr>
<tr><td style="text-align: left"><strong>Frame</strong></td><td style="text-align: left">Frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Hover</strong></td><td style="text-align: left">Hover frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Crosshair</strong></td><td style="text-align: left">Node edit crosshair color.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Color of the position indicator of the current value on the curve.</td></tr>
<tr><td style="text-align: left"><strong>Border</strong></td><td style="text-align: left">Overall border color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V</strong></td><td style="text-align: left">Vertical grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V2</strong></td><td style="text-align: left">Vertical fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V3</strong></td><td style="text-align: left">Additional vertical fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H</strong></td><td style="text-align: left">Horizontal grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H2</strong></td><td style="text-align: left">Horizontal fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Scale</strong></td><td style="text-align: left">Scale font color.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="envelope"><a class="header" href="#envelope">Envelope</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Envelope.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope.html#envelope-view-control">Envelope View Control</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Envelope-Page.png" alt="Envelope" /></p>
<h2 id="description-348"><a class="header" href="#description-348">Description</a></h2>
<p>The Envelope template allows you to edit HALion's multi-stage envelopes. The template contains controls for scrolling and zooming the envelope and for setting the envelope mode or the values of the selected node, for example. The controls must be part of the template and they must use the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variables</a> as defined in the template to connect with the <a href="HALion-Macro-Page/pages/Envelope.html#envelope-view-control">Envelope View Control</a>.</p>
<blockquote>
<p>❕ The <a href="HALion-Macro-Page/pages/Envelope.html#envelope-view-control">Envelope View Control</a> cannot be created manually in the GUI Tree. Please load the template from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library to use it. You can adapt the look and feel of the template to the requirements of your macro page with the <a href="HALion-Macro-Page/pages/Envelope.html#properties">Properties</a> and <a href="HALion-Macro-Page/pages/Envelope.html#colors">Colors</a> as described below. If certain controls are not required or wanted, they can be removed.</p>
</blockquote>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Envelope Page".</li>
<li>Select "Envelope" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-3"><a class="header" href="#template-properties-3">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-1"><a class="header" href="#template-parameters-1">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Triplet</strong></td><td style="text-align: left">Connect this to the Triplet parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Mode</strong></td><td style="text-align: left">Connect this to the Mode parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Connect this to the PlaybackPos parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Loop Start</strong></td><td style="text-align: left">Connect this to the LoopStart parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Loop End</strong></td><td style="text-align: left">Connect this to the LoopEnd parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Env Points</strong></td><td style="text-align: left">Connect this to the Envelope Points parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Sync</strong></td><td style="text-align: left">Connect this to the Sync parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Connect this to the SustainIndex parameter of the envelope.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-3"><a class="header" href="#components-inside-the-template-3">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Envelope-Template.PNG" alt="Envelope Template" /></p>
<h3 id="ui-variables-3"><a class="header" href="#ui-variables-3">UI Variables</a></h3>
<p>These variables are needed to allow the communication between the Envelope View and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: center">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>beat</strong></td><td style="text-align: left">Time in beats.</td><td style="text-align: left">rational</td><td style="text-align: center">n.a.</td></tr>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">Curvature of the selected node segment.</td><td style="text-align: left">float</td><td style="text-align: center">-10 - 10</td></tr>
<tr><td style="text-align: left"><strong>level</strong></td><td style="text-align: left">Level of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 100</td></tr>
<tr><td style="text-align: left"><strong>time</strong></td><td style="text-align: left">Time of the selected note.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 30000</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">Index of the selected node.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 128</td></tr>
<tr><td style="text-align: left"><strong>fixed</strong></td><td style="text-align: left">Fixed mode of the envelope.</td><td style="text-align: left">integer</td><td style="text-align: center">0, 1</td></tr>
<tr><td style="text-align: left"><strong>syncnote</strong></td><td style="text-align: left">Specifies the note grid.</td><td style="text-align: left">stringlist</td><td style="text-align: center">1/1, 1/2, 1/4, 1/8, 1/16, 1/32, 1/64, 1/128, 1/256</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-3"><a class="header" href="#controls-and-subtemplates-3">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Edit</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls that allow you to draw shapes, adjust the selected node and further options of the envelope.<ul><li><strong>Time:</strong> A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> with two templates to either set the time of a node in ms or fractions of a beat. The Value of the <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone.<ul><li><strong>Time ms/Time Beat:</strong> The Value of the "Time ms" and the "Time Beat" templates must be set to the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variables</a> <code>@time</code> and <code>@beat</code> respectively. This way, they are connected to the corresponding properties of the Envelope View, which use the same <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variables</a>.</li></ul></li><li><strong>Mode:</strong> A menu template. Its Value is exported as <code>Mode</code> and should be connected to the Mode parameter of the corresponding envelope in the zone.</li><li><strong>Sync:</strong> A switch template. Its Value is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone.</li><li><strong>Fixed:</strong> A switch template. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@fixed</code>.</li><li><strong>Curve:</strong> A valuebox template to adjust the curvature of the selected node. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@curve</code>.</li><li><strong>Level:</strong> A valuebox template to adjust the level of the selected node. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@level</code>.</li><li><strong>Index:</strong> A valuebox template to select the index of the node to be edited. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@index</code>.</li><li><strong>SyncNote:</strong> A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view with two templates: Sync Note and Triplet. The Value of the <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone. If Sync is active, the <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view becomes active too and the contained templates can be used to set the Sync Note and Triplet parameters of the envelope.</li><ul><li><strong>Sync Note:</strong> A menu template. Its Value must be set to <code>@syncnote</code>, a stringlist <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> that defines the allowed note values. It is also connected to the corresponding property of the Envelope View, which uses the same <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a>.</li><li><strong>Triplet:</strong> A switch template. Its Value is exported as <code>Triplet</code> and should be connected to the Triplet parameter of the corresponding envelope in the zone.</li></ul></ul></td></tr>
<tr><td style="text-align: left"><strong>EnvView</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains a group with controls for scrolling and zooming the envelope and the Envelope View.<ul><li><strong>Scroll &amp; Zoom:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls that allow you to scroll and zoom the envelope.<ul><li><strong>Scrollbar:</strong> A <a href="HALion-Macro-Page/pages/./Range-Slider.html">Range Slider</a> to reach areas of the envelope that are not visible through the zoom. The Low Value of the <a href="HALion-Macro-Page/pages/./Range-Slider.html">Range Slider</a> must be set to <code>@ScrollMin</code> and the High Value must be set to <code>@ScrollMax</code>.</li><li><strong>Background:</strong> A background bitmap for the scrollbar.</li><li><strong>Zoom Out:</strong> A switch template that allows you to zoom out the envelope. Its Value must be set to <code>@ZoomOut</code>.</li><li><strong>Zoom In:</strong> A switch template that allows you to zoom in the envelope. Its Value must be set to <code>@ZoomIn</code>.</li><li><strong>Zoom Alternate:</strong> A switch template that toggles between the last zoom state or completely zoomed out. Its Value must be set to <code>@StateA.</code></li><li><strong>Zoom1:</strong> A switch template to activate zoom state 1. Its Value must be set to <code>@State1</code>.</li><li><strong>Zoom2:</strong> A switch template to activate zoom state 2. Its Value must be set to <code>@State2</code>.</li><li><strong>Zoom3:</strong> A switch template to activate zoom state 3. Its Value must be set to <code>@State3</code>.</li></ul></li><li><strong>Envelope View:</strong> The graphical envelope editor. The properties EnvValue, Mode, Sync, Triplet, Loop Start, Loop End, Sustain and Play Pos are exported and thus are available as template parameters. They should be connected to the parameters of the corresponding envelope in the zone. The Value of the properties SyncNote, Fixed, Index, Level, Time, Beat and Curve is set to the corresponding <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a>. This way, each property is connected to one of the control templates mentioned above. See <a href="HALion-Macro-Page/pages/Envelope.html#envelope-view-control">Envelope View Control</a> for further details.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Env Background</strong></td><td style="text-align: left">The background bitmap for the envelope.</td></tr>
</tbody></table>
</div>
<h3 id="envelope-view-control"><a class="header" href="#envelope-view-control">Envelope View Control</a></h3>
<h4 id="properties-32"><a class="header" href="#properties-32">Properties</a></h4>
<p>In addition to standard properties like size, position, etc., the Envelope View provides further properties and colors to customize its appearance and behavior.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Bipolar:</strong> Activate this for bipolar envelopes like pitch or pan.</li><li><strong>Scrollbar:</strong> If this is active, the view can be scrolled and zoomed.</li><li><strong>Cross:</strong> Shows crosslines when editing nodes.</li><li><strong>Grid:</strong> Shows a time grid.</li><li><strong>Play Pos:</strong> Shows the current playback position on the curve.</li><li><strong>Nodes:</strong> Shows nodes.</li><li><strong>Add/Rem:</strong> Allows adding and removing of nodes. Deactivate this option to provide an ADSR envelope with a fixed number of nodes, for example.</li><li><strong>Sel Node:</strong> Allows you to select a node.</li><li><strong>Sustain:</strong> Shows a sustain line. For this, an envelope Mode with sustain must be active.</li><li><strong>Loop:</strong> Shows an overlay for the loop region. For this, the envelope Mode must be set to Loop.</li><li><strong>Free End:</strong> Allows you to move the last node of a unipolar envelope away from the zero line.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Env Value</strong></td><td style="text-align: left">Exported as <code>Env Points</code>. See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Mode</strong></td><td style="text-align: left">Exported as <code>Mode</code> See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Sync</strong></td><td style="text-align: left">Exported as <code>Sync</code> See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Triplet</strong></td><td style="text-align: left">Exported as <code>Triplet</code> See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>SyncNote</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@syncnote</code>.</td></tr>
<tr><td style="text-align: left"><strong>Fixed</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@fixed</code>.</td></tr>
<tr><td style="text-align: left"><strong>Tool</strong></td><td style="text-align: left">Not used in this template. See <a href="HALion-Macro-Page/pages/./Envelope-Shaper.html">Envelope Shaper</a> template for details of this property.</td></tr>
<tr><td style="text-align: left"><strong>ShapeSave</strong></td><td style="text-align: left">Not used in this template. See <a href="HALion-Macro-Page/pages/./Envelope-Shaper.html">Envelope Shaper</a> template for details of this property.</td></tr>
<tr><td style="text-align: left"><strong>ShapeSelect</strong></td><td style="text-align: left">Not used in this template. See <a href="HALion-Macro-Page/pages/./Envelope-Shaper.html">Envelope Shaper</a> template for details of this property.</td></tr>
<tr><td style="text-align: left"><strong>Shape</strong></td><td style="text-align: left">Not used in this template. See <a href="HALion-Macro-Page/pages/./Envelope-Shaper.html">Envelope Shaper</a> template for details of this property.</td></tr>
<tr><td style="text-align: left"><strong>Index</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@index</code>.</td></tr>
<tr><td style="text-align: left"><strong>Level</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@level</code>.</td></tr>
<tr><td style="text-align: left"><strong>Time</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@time</code>.</td></tr>
<tr><td style="text-align: left"><strong>Beat</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@beat</code>.</td></tr>
<tr><td style="text-align: left"><strong>Curve</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope.html#ui-variables">UI variable</a> <code>@curve</code>.</td></tr>
<tr><td style="text-align: left"><strong>Loop Start</strong></td><td style="text-align: left">Exported as <code>Loop Start</code>. See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Loop End</strong></td><td style="text-align: left">Exported as <code>Loop End</code>. See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Exported as <code>Sustain</code>. See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Exported as <code>Play Pos</code>. See <a href="HALion-Macro-Page/pages/Envelope.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Min X</strong></td><td style="text-align: left">Defines the minimum value of the horizontal zoom.</td></tr>
<tr><td style="text-align: left"><strong>Max X</strong></td><td style="text-align: left">Defines the maximum value of the horizontal zoom.</td></tr>
<tr><td style="text-align: left"><strong>Min Y</strong></td><td style="text-align: left">Defines the minimum value of the vertical zoom.</td></tr>
<tr><td style="text-align: left"><strong>Max Y</strong></td><td style="text-align: left">Defines the maximum value of the vertical zoom.</td></tr>
</tbody></table>
</div>
<h4 id="colors-6"><a class="header" href="#colors-6">Colors</a></h4>
<blockquote>
<p>❕ Some colors are available only if the corresponding Style options are enabled.</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Line</strong></td><td style="text-align: left">Line color between the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Fill</strong></td><td style="text-align: left">Fill color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>FillSelected</strong></td><td style="text-align: left">Fill color of the selected nodes.</td></tr>
<tr><td style="text-align: left"><strong>FrameFocus</strong></td><td style="text-align: left">Frame color of the focussed node.</td></tr>
<tr><td style="text-align: left"><strong>Frame</strong></td><td style="text-align: left">Frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Hover</strong></td><td style="text-align: left">Hover frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Color of the Sustain node and line.</td></tr>
<tr><td style="text-align: left"><strong>Synced</strong></td><td style="text-align: left">Dot color of nodes that are aligned to the sync grid.</td></tr>
<tr><td style="text-align: left"><strong>Crosshair</strong></td><td style="text-align: left">Node edit crosshair color.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Color of the playback position indicator.</td></tr>
<tr><td style="text-align: left"><strong>Border</strong></td><td style="text-align: left">Overall border color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V</strong></td><td style="text-align: left">Vertical grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V2</strong></td><td style="text-align: left">Vertical fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V3</strong></td><td style="text-align: left">Vertical fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H</strong></td><td style="text-align: left">Horizontal grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H2</strong></td><td style="text-align: left">Horizontal fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Font</strong></td><td style="text-align: left">Timeline font color.</td></tr>
<tr><td style="text-align: left"><strong>Selector</strong></td><td style="text-align: left">Selection area fill color.</td></tr>
<tr><td style="text-align: left"><strong>SelFrame</strong></td><td style="text-align: left">Selection area frame color.</td></tr>
<tr><td style="text-align: left"><strong>Zoom</strong></td><td style="text-align: left">Zoom area fill color.</td></tr>
<tr><td style="text-align: left"><strong>ZoomFrame</strong></td><td style="text-align: left">Zoom area frame color.</td></tr>
<tr><td style="text-align: left"><strong>Loop</strong></td><td style="text-align: left">Loop area fill color.</td></tr>
<tr><td style="text-align: left"><strong>LoopFrame</strong></td><td style="text-align: left">Loop area frame color.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="envelope-shaper"><a class="header" href="#envelope-shaper">Envelope Shaper</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/Envelope-Shaper.html#envelope-view-control">Envelope View Control</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Envelope-Shaper-Page.PNG" alt="Envelope Shaper" /></p>
<h2 id="description-349"><a class="header" href="#description-349">Description</a></h2>
<p>The Envelope Shaper template allows you to edit HALion's multi-stage envelopes. The template contains controls for scrolling and zooming the envelope and for setting the envelope mode or the values of the selected node, for example. In addition, it offers tools for drawing shapes. The controls must be part of the template and they must use the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variables</a> as defined in the template to connect with the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#envelope-view-control">Envelope View Control</a>.</p>
<blockquote>
<p>❕ The <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#envelope-view-control">Envelope View Control</a> cannot be created manually in the GUI Tree. Please load the template from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library to use it. You can adapt the look and feel of the template to the requirements of your macro page with the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#properties">Properties</a> and <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#colors">Colors</a> as described below. If certain controls are not required or wanted, they can be removed.</p>
</blockquote>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Envelope Shaper Page".</li>
<li>Select "Envelope ShaperMode" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-4"><a class="header" href="#template-properties-4">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-2"><a class="header" href="#template-parameters-2">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Mode</strong></td><td style="text-align: left">Connect this to the Mode parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Connect this to the PlaybackPos parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Loop Start</strong></td><td style="text-align: left">Connect this to the LoopStart parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Loop End</strong></td><td style="text-align: left">Connect this to the LoopEnd parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Env Points</strong></td><td style="text-align: left">Connect this to the Envelope Points parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Sync</strong></td><td style="text-align: left">Connect this to the Sync parameter of the envelope.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Connect this to the SustainIndex parameter of the envelope.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-4"><a class="header" href="#components-inside-the-template-4">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Envelope-Shaper-Template.PNG" alt="Envelope Shaper Template" /></p>
<h3 id="ui-variables-4"><a class="header" href="#ui-variables-4">UI Variables</a></h3>
<p>These variables are needed to allow the communication between the Envelope View and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: center">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>beat</strong></td><td style="text-align: left">Time in beats.</td><td style="text-align: left">rational</td><td style="text-align: center">n.a.</td></tr>
<tr><td style="text-align: left"><strong>curve</strong></td><td style="text-align: left">Curvature of the selected node segment.</td><td style="text-align: left">float</td><td style="text-align: center">-10 - 10</td></tr>
<tr><td style="text-align: left"><strong>level</strong></td><td style="text-align: left">Level of the selected node.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 100</td></tr>
<tr><td style="text-align: left"><strong>time</strong></td><td style="text-align: left">Time of the selected note.</td><td style="text-align: left">float</td><td style="text-align: center">0 - 30000</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">Index of the selected node.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 128</td></tr>
<tr><td style="text-align: left"><strong>tool</strong></td><td style="text-align: left">The tool for drawing shapes.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 3</td></tr>
<tr><td style="text-align: left"><strong>shapesave</strong></td><td style="text-align: left">Used for saving shapes.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 1</td></tr>
<tr><td style="text-align: left"><strong>shapeselect</strong></td><td style="text-align: left">Used for selecting shapes.</td><td style="text-align: left">integer</td><td style="text-align: center">0 - 1</td></tr>
<tr><td style="text-align: left"><strong>fixed</strong></td><td style="text-align: left">Fixed mode of the envelope.</td><td style="text-align: left">integer</td><td style="text-align: center">0, 1</td></tr>
<tr><td style="text-align: left"><strong>Grid</strong></td><td style="text-align: left">Specifies the note grid.</td><td style="text-align: left">stringlist</td><td style="text-align: center">1/64, 1/32, 1/16T, 1/16, 1/8T, 1/16D, 1/8, 1/4T, 1/8D, 1/4, 1/2T, 1/4D, 1/2, 1/1T, 1/2D, 4/4, 5/4, 6/4, 7/4, 8/4, 16/4, 32/4, 64/4</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-4"><a class="header" href="#controls-and-subtemplates-4">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Edit</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls that allow you to adjust the selected node and further options of the envelope.<ul><li><strong>Mode:</strong> A menu template. Its Value is exported by <code>@../{Mode}</code>. It should be connected to the Mode parameter of the corresponding envelope in the zone.</li><li><strong>Toolbar:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains switches for selecting the Edit, Erase, Draw, or Paint tool of the envelope.<ul><li><strong>Edit_1/Erase/Draw/Paint:</strong> All switches must use the exclusive mode and be connected to <code>@tool</code>.</li><li><strong>ToolBarBack:</strong> A <a href="HALion-Macro-Page/pages/./Decor-Resource.html">Decor</a> used as background.</li></ul></li><li><strong>Shape:</strong> A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> of controls that allow to select and save the shapes for the Draw and Paint tools.<ul><li><strong>SaveShape:</strong> A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> group for the save button. Its Value must be set to <code>@tool</code>, so that saving is only possibe if the Edit tool is active.</li><ul><li><strong>SaveShape_1:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> for saving a shape. Its Value must be set to <code>@shapesave</code>.</li></ul><li><strong>SelectShape:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> for opening the shape selector. Its Value must be set to <code>@shapeselect</code>.</li><li><strong>Shape Preview:</strong> A <a href="HALion-Macro-Page/pages/./Curve-Editor.html">Curve Editor</a> for displaying the selected shape. Its Value must be set to <code>@shape</code>.</li><li><strong>ToolBarBack_1:</strong> A <a href="HALion-Macro-Page/pages/./Decor-Resource.html">Decor</a> used as background.</li></ul><li><strong>Sync:</strong> A switch template. Its Value is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone.</li><li><strong>SyncNote:</strong> A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view with a Sync Note template. The Value of the <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone. If Sync is active, the <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> view becomes active too and the contained template can be used to set Sync Note.</li><ul><li><strong>Sync Note:</strong> A menu template. Its Value must be set to <code>@Grid</code>, a stringlist <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> that defines the allowed note values. It is also connected to the corresponding property of the Envelope View, which uses the same <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a>.</li></ul><li><strong>Fixed:</strong> A switch template. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@fixed</code>.</li><li><strong>Node:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls for adjusting the selected node.</li><ul><li><strong>Index:</strong> A valuebox template to select the index of the node to be edited. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@index</code>.</li><li><strong>Level:</strong> A valuebox template to adjust the level of the selected node. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@level</code>.</li><li><strong>Time:</strong> A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> with two templates to either set the time of a node in ms or fractions of a beat. The Value of the <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> is exported as <code>Sync</code> and should be connected to the Sync parameter of the corresponding envelope in the zone.<ul><li><strong>Time ms/Time Beat:</strong> The Value of the "Time ms" and the "Time Beat" templates must be set to the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variables</a> <code>@time</code> and <code>@beat</code> respectively. This way, they are connected to the corresponding properties of the Envelope View, which use the same <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variables</a>.</li></ul></li><li><strong>Curve:</strong> A valuebox template to adjust the curvature of the selected node. Its Value is connected to the corresponding property of the Envelope View by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@curve</code>.</li></ul><li><strong>EnableShaperMode:</strong> A special invisible <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control which is only used to transfer the information about the selected envelope mode into the template. Its Value is exported using <code>{Mode}</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>EnvView</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains a group with controls for scrolling and zooming the envelope and the Envelope View. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#envelope-view-control">Envelope View Control</a> for further details.<ul><li><strong>Scroll &amp; Zoom:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls that allow you to scroll and zoom the envelope.<ul><li><strong>Scrollbar:</strong> A <a href="HALion-Macro-Page/pages/./Range-Slider.html">Range Slider</a> to reach areas of the envelope that are not visible through the zoom. The Low Value of the <a href="HALion-Macro-Page/pages/./Range-Slider.html">Range Slider</a> must be set to <code>@ScrollMin</code> and the High Value must be set to <code>@ScrollMax</code>.</li><li><strong>Background:</strong> A background bitmap for the scrollbar.</li><li><strong>Zoom Out:</strong> A switch template that allows you to zoom out the envelope. Its Value must be set to <code>@ZoomOut</code>.</li><li><strong>Zoom In:</strong> A switch template that allows you to zoom in the envelope. Its Value must be set to <code>@ZoomIn</code>.</li><li><strong>Zoom Alternate:</strong> A switch template that toggles between the last zoom state or completely zoomed out. Its Value must be set to <code>@StateA.</code></li><li><strong>Zoom1:</strong> A switch template to activate zoom state 1. Its Value must be set to <code>@State1</code>.</li><li><strong>Zoom2:</strong> A switch template to activate zoom state 2. Its Value must be set to <code>@State2</code>.</li><li><strong>Zoom3:</strong> A switch template to activate zoom state 3. Its Value must be set to <code>@State3</code>.</li></ul></li><li><strong>Envelope View:</strong> The graphical envelope editor. The properties EnvValue, Mode, Sync, Triplet, Loop Start, Loop End, Sustain and Play Pos are exported and thus are available as template parameters. They should be connected to the parameters of the corresponding envelope in the zone. The Value of the properties SyncNote, Fixed, Index, Level, Time, Beat and Curve is set to the corresponding <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a>. This way, each property is connected to one of the control templates mentioned above. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#envelope-view-control">Envelope View Control</a> for further details.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Env Background</strong></td><td style="text-align: left">The background bitmap for the envelope.</td></tr>
</tbody></table>
</div>
<h3 id="envelope-view-control-1"><a class="header" href="#envelope-view-control-1">Envelope View Control</a></h3>
<h4 id="properties-33"><a class="header" href="#properties-33">Properties</a></h4>
<p>In addition to standard properties like size, position, etc., the Envelope View provides further properties and colors to customize its appearance and behavior.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Style</strong></td><td style="text-align: left"><ul><li><strong>Bipolar:</strong> Activate this for bipolar envelopes like pitch or pan.</li><li><strong>Scrollbar:</strong> If this is active, the view can be scrolled and zoomed.</li><li><strong>Cross:</strong> Shows crosslines when editing nodes.</li><li><strong>Grid:</strong> Shows a time grid.</li><li><strong>Play Pos:</strong> Shows the current playback position on the curve.</li><li><strong>Nodes:</strong> Shows nodes.</li><li><strong>Add/Rem:</strong> Allows adding and removing of nodes. Deactivate this option to provide an ADSR envelope with a fixed number of nodes, for example.</li><li><strong>Sel Node:</strong> Allows you to select a node.</li><li><strong>Sustain:</strong> Shows a sustain line. For this, an envelope Mode with sustain must be active.</li><li><strong>Loop:</strong> Shows an overlay for the loop region. For this, the envelope Mode must be set to Loop.</li><li><strong>Free End:</strong> Allows you to move the last node of a unipolar envelope away from the zero line.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Env Value</strong></td><td style="text-align: left">Exported as <code>Env Points</code>. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Mode</strong></td><td style="text-align: left">Exported as <code>Mode</code> See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Sync</strong></td><td style="text-align: left">Exported as <code>Sync</code> See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Triplet</strong></td><td style="text-align: left">Not used in this template. See <a href="HALion-Macro-Page/pages/./Envelope.html">Envelope</a> template for details of this property.</td></tr>
<tr><td style="text-align: left"><strong>SyncNote</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@Grid</code>.</td></tr>
<tr><td style="text-align: left"><strong>Fixed</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@fixed</code>.</td></tr>
<tr><td style="text-align: left"><strong>Tool</strong></td><td style="text-align: left">Connected to the corresponding controls Edit_1, Erase, Draw, and Paint by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@tool</code>.</td></tr>
<tr><td style="text-align: left"><strong>ShapeSave</strong></td><td style="text-align: left">Connected to the corresponding control SaveShape_1 by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@shapesave</code>.</td></tr>
<tr><td style="text-align: left"><strong>ShapeSelect</strong></td><td style="text-align: left">Connected to the corresponding control SelectShape by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@shapeselect</code>.</td></tr>
<tr><td style="text-align: left"><strong>ShapePage</strong></td><td style="text-align: left">Controls the state of the page switches in the shape selector dialog. Must be connected to the corresponding <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@shapepage</code>.</td></tr>
<tr><td style="text-align: left"><strong>Shape</strong></td><td style="text-align: left">Connected to the corresponding control Shape Preview by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@shape</code>.</td></tr>
<tr><td style="text-align: left"><strong>Index</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@index</code>.</td></tr>
<tr><td style="text-align: left"><strong>Level</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@level</code>.</td></tr>
<tr><td style="text-align: left"><strong>Time</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@time</code>.</td></tr>
<tr><td style="text-align: left"><strong>Beat</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@beat</code>.</td></tr>
<tr><td style="text-align: left"><strong>Curve</strong></td><td style="text-align: left">Connected to the corresponding control template by the <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#ui-variables">UI variable</a> <code>@curve</code>.</td></tr>
<tr><td style="text-align: left"><strong>Loop Start</strong></td><td style="text-align: left">Exported as <code>Loop Start</code>. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Loop End</strong></td><td style="text-align: left">Exported as <code>Loop End</code>. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Exported as <code>Sustain</code>. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Play Pos</strong></td><td style="text-align: left">Exported as <code>Play Pos</code>. See <a href="HALion-Macro-Page/pages/Envelope-Shaper.html#template-parameters">Template Parameters</a> above.</td></tr>
<tr><td style="text-align: left"><strong>Min X</strong></td><td style="text-align: left">Defines the minimum value of the horizontal zoom.</td></tr>
<tr><td style="text-align: left"><strong>Max X</strong></td><td style="text-align: left">Defines the maximum value of the horizontal zoom.</td></tr>
<tr><td style="text-align: left"><strong>Min Y</strong></td><td style="text-align: left">Defines the minimum value of the vertical zoom.</td></tr>
<tr><td style="text-align: left"><strong>Max Y</strong></td><td style="text-align: left">Defines the maximum value of the vertical zoom.</td></tr>
</tbody></table>
</div>
<h4 id="colors-7"><a class="header" href="#colors-7">Colors</a></h4>
<blockquote>
<p>❕ Some colors are only available if the corresponding Style options are active.</p>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Line</strong></td><td style="text-align: left">Line color between the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Fill</strong></td><td style="text-align: left">Fill color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>FillSelected</strong></td><td style="text-align: left">Fill color of the selected nodes.</td></tr>
<tr><td style="text-align: left"><strong>FrameFocus</strong></td><td style="text-align: left">Frame color of the focussed node.</td></tr>
<tr><td style="text-align: left"><strong>Frame</strong></td><td style="text-align: left">Frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Hover</strong></td><td style="text-align: left">Hover frame color of the nodes.</td></tr>
<tr><td style="text-align: left"><strong>Sustain</strong></td><td style="text-align: left">Color of the Sustain node and line.</td></tr>
<tr><td style="text-align: left"><strong>Synced</strong></td><td style="text-align: left">Dot color of nodes that are aligned to the sync grid.</td></tr>
<tr><td style="text-align: left"><strong>Crosshair</strong></td><td style="text-align: left">Node edit crosshair color.</td></tr>
<tr><td style="text-align: left"><strong>Playback</strong></td><td style="text-align: left">Color of the playback position indicator.</td></tr>
<tr><td style="text-align: left"><strong>Border</strong></td><td style="text-align: left">Overall border color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V</strong></td><td style="text-align: left">Vertical grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid V2</strong></td><td style="text-align: left">Vertical fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H</strong></td><td style="text-align: left">Horizontal grid color.</td></tr>
<tr><td style="text-align: left"><strong>Grid H2</strong></td><td style="text-align: left">Horizontal fine grid color.</td></tr>
<tr><td style="text-align: left"><strong>Font</strong></td><td style="text-align: left">Timeline font color.</td></tr>
<tr><td style="text-align: left"><strong>Selector</strong></td><td style="text-align: left">Selection area fill color.</td></tr>
<tr><td style="text-align: left"><strong>SelFrame</strong></td><td style="text-align: left">Selection area frame color.</td></tr>
<tr><td style="text-align: left"><strong>Loop</strong></td><td style="text-align: left">Loop area fill color.</td></tr>
<tr><td style="text-align: left"><strong>LoopFrame</strong></td><td style="text-align: left">Loop area frame color.</td></tr>
<tr><td style="text-align: left"><strong>Zoom</strong></td><td style="text-align: left">Zoom area fill color.</td></tr>
<tr><td style="text-align: left"><strong>ZoomFrame</strong></td><td style="text-align: left">Zoom area frame color.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="flexphraser"><a class="header" href="#flexphraser">FlexPhraser</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#content-locations-for-different-configurations">Content Locations for Different Configurations</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/FlexPhraser.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Flexphraser-Page.png" alt="Flexphraser" /></p>
<h2 id="description-350"><a class="header" href="#description-350">Description</a></h2>
<p>The FlexPhaser template contains controls for selecting the phrases, adjusting the performance parameters like Swing, Gate Scale, etc., and for using the eight variations of the FlexPhraser MIDI module. In addition, there are controls for recording the MIDI output of the FlexPhraser and to export the recorded phrase via drag and drop.</p>
<p>Functionality such as using the eight variations, exporting the recorded MIDI output, etc., cannot be realized with standard macro page controls. The <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control is used if this is the case. The performance parameters like Swing, Gate Scale, Vel Scale, etc. are connected to the eight variations by corresponding UI variables and they must be part of this template. To ensure the operation of the performance parameters, the eight variations and the MIDI phrase export, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; FlexPhraser Page &gt; Arp Parameter".</li>
<li>Select "FlexPhraser View" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<blockquote>
<p>❕ The other control templates inside the Arp Parameter group are directly connected to the FlexPhraser MIDI module and do not require detailed explanation. The control template for creating User phrases can be found in the StepSEQ group. See <a href="HALion-Macro-Page/pages/./FlexPhraserStepSeq.html">FlexPhraserStepSeq</a> for details.</p>
</blockquote>
<h2 id="template-properties-5"><a class="header" href="#template-properties-5">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-3"><a class="header" href="#template-parameters-3">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Defines the path to the FlexPhraser MIDI module to be controlled. For example: <code>@0:FlexPhraser</code> controls the first FlexPhraser in the program.</td></tr>
<tr><td style="text-align: left"><strong>Product</strong></td><td style="text-align: left">Product specifies the root folder for the location of the subpresets, both for loading and saving. Set this to <code>HALion</code> if you want to load phrases from the standard file path for subpresets. Load From (see below) must be set to <code>StepSEQ Phrases</code>, which specifies the path to the folder that contains the subpresets for the phrases. When saving User phrases, these will be written to ./Documents/Steinberg/HALion/Sub Presets/StepSEQ Phrases on hard disk. They are displayed with a user icon in the phrase selector.<p>If you want to deliver your own phrases as part of your library, you can set Product to the name of your instrument, e.g., <code>MyProductName</code>. This way, only the phrases for <code>MyProductName</code> will be shown in the phrase selector. The location of the phrases inside the VST Sound of your library must match the path defined by Product and Load From, otherwise the phrase selector will not see these phrases. Assuming Load From is again set to <code>StepSEQ Phrases</code>: Then, the User phrases must be added to the folder ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>StepSEQ Phrases</code></em> inside the VST Sound. If the user saves phrases, these will be written to ./Documents/Steinberg/<em><code>MyProductName</code></em>/Sub Presets/<em><code>StepSEQ Phrases</code></em> on hard disk. They are displayed with a user icon in the phrase selector.</p><p>You can also include both, the HALion root folder and the root folder of your instrument, by setting Product to <code>MyProductName</code>|<code>HALion</code>. The phrase selector will then show the content of both locations. The path for saving a User phrase will use the first entry specified by <code>MyProductName</code> as root folder.</p></td></tr>
<tr><td style="text-align: left"><strong>Load From</strong></td><td style="text-align: left">Load From specifies the subpath to the location of the subpresets inside the root folder. The root folder is set by Product (see above). You can specify this subfolder freely. However, if you want to see the factory phrases, Load From must be set to <code>StepSEQ Phrases</code> and Product must contain <code>HALion</code>.<p>Any phrases you want to distribute with your library must be added to the corresponding location inside the VST Sound. For example, if Load From is set to <code>StepSEQ Phrases</code> and Product is set just to <code>MyProductName</code>, the subpresets inside the VST Sound must be located at ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>StepSEQ Phrases</code></em>.</p></td></tr>
<tr><td style="text-align: left"><strong>Save To</strong></td><td style="text-align: left">Allows you to specify the subpath to the location where the subpresets will be saved by default.<ul><li>If Product has only one entry, either <code>Halion</code> or the name of your instrument, e.g., <code>MyProductName</code>, then the path of Load From will be included and prepend the path of Save To. See configurations 1 and 2 in the table below.</li><li>If Product has two entries, e.g., <code>MyProductName</code>|<code>HALion</code>, then only the path of Save To will be used. In this case it makes sense to set Save To to something like this: <code>MyProductName</code>/<code>MySubfolder</code>. See configuration 3 in the table below.</li></ul></td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ If you need further control over the content locations, you can specify the required subfolder together with the Product: <code>MyProductName/StepSEQ Phrases</code>|<code>HALion/StepSEQ Phrases</code>. See configuration 4 in the following table.</p>
</blockquote>
<h3 id="content-locations-for-different-configurations"><a class="header" href="#content-locations-for-different-configurations">Content Locations for Different Configurations</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Configuration</th><th style="text-align: left">Content in Phrase Selector</th><th style="text-align: left">Default Save Path</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><p><strong>Product</strong> = <code>HALion</code></p><p><strong>Load From</strong> = <code>StepSEQ Phrases</code></p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">Only phrases from HALion, including any phrases the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/HALion/Sub Presets/StepSEQ Phrases/MySubfolder</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code></p><p><strong>Load From</strong> = <code>StepSEQ Phrases</code></p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">Only phrases from the specified library, including any phrases the user has saved with the instrument on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/StepSEQ Phrases/MySubfolder</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code>|<code>HALion</code></p><p><strong>Load From</strong> = <code>StepSEQ Phrases</code></p><p><strong>Save To</strong> = <code>MyProductName/MySubfolder</code></p></td><td style="text-align: left">All phrases from HALion, the specified library and any phrases the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/MyProductName/MySubfolder</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName/StepSEQ Phrases</code>|<code>HALion/StepSEQ Phrases</code></p><p><strong>Load From</strong> = deactivate, leave empty </p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">All phrases from HALion, the specified library and any phrases the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/StepSEQ Phrases/MySubfolder</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The location of the phrases inside the VST Sound must match the path defined by Product and Load From, otherwise the phrase selector will not see these phrases. If libraries deliver phrases in multiple VST Sounds, all phrases with the same path will be shown together in the phrase selector.</p>
</blockquote>
<h2 id="components-inside-the-template-5"><a class="header" href="#components-inside-the-template-5">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/FlexPhraser-Template.PNG" alt="FlexPhraser Template" /></p>
<h3 id="controls-and-subtemplates-5"><a class="header" href="#controls-and-subtemplates-5">Controls and Subtemplates</a></h3>
<p>To ensure the operation of the controls and subtemplates, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>DragMIDI</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls for recording the MIDI output of the FlexPhraser and to export the recorded phrase via drag and drop. <ul><li><strong>DragIcon:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap of the drag area.</li><li><strong>DragAvailable:</strong> This <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control indicates if the MIDI phrase is available for exporting it. The Value of the control must be set to <code>@EnableDragMIDI</code>.</li><li><strong>Drag MIDI recording:</strong> An <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control that provides the drag functionality. The View property of the control must be set to <code>dragzone_midifile</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>User</strong></td><td style="text-align: left">A switch template that allows you to activate the User mode for the current variation. Its Value must be set to <code>@UserMode</code>.</td></tr>
<tr><td style="text-align: left"><strong>Variation</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with three subgroups that provide the necessary elements to switch between variations, to drag variations to the trigger pads, and to open the context menu of the variation switches. The aformentioned functionalities are implemented by <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls. Their preconfigured properties should not be modified. Also, the z-order of the subgroups in the GUI Tree is not supposed to change. "Drag Zones" must be topmost, followed by "Variation Popup", and then "Variation Selector" as bottommost group.<ul><li><strong>Drag Zones:</strong> This group contains the eight <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls that provide the functionality for dragging a variation to a trigger pad. The View property of the respective control must be set to <code>DragZone1</code>, <code>DragZone2</code>, ..., or <code>DragZone8</code> accordingly.</li><li><strong>Variation Popup:</strong> This group contains the eight <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls that provide the context menu of the variation switches. The View property of the respective control must be set to <code>ASB1</code>, <code>ASB2</code>, ..., or <code>ASB8</code> accordingly.</li><li><strong>Variation Selector:</strong> This group contains eight exclusive switches to select the active variation. The Value property of all switches must be set to <code>@ActiveState</code> and the switches must be named <code>ASB1</code>, <code>ASB2</code>, ..., or <code>ASB8</code> accordingly.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Factory/Custom</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> containing two pages with controls to manage either the FlexPhraser factory phrases or the User phrases.<ul><li><strong>Factory Phrases:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains the controls required to load and display factory phrases.</li><ul><li><strong>Select:</strong> This <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control opens the phrase selector. Its Value must be set to <code>@PhraseSelectPopup</code>.</li><li><strong>Name:</strong> This <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control displays the name of the current phrase. Its Value must be set to <code>@phrase</code>.</li><li><strong>Background:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap behind the name of the current phrase.</li><li><strong>Label:</strong> A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control to display a title.</li><li><strong>Arp KeySwitchFilter:</strong> A switch template that sets the Key Switch and Noises Filter of the FlexPhraser MIDI module. Its Value must be set to <code>@FilterNoises</code>.</li></ul><li><strong>Custom:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains the controls required to load, save, delete, and display User phrases. Furthermore, there are controls for the additional parameters Arp Mode, Key Replace, Arp Wrap and Arp Quantize of the User mode and there are controls for importing a MIDI file to be used as reference for the Arp Quantize.</li><ul><li><strong>DropMIDI:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains the controls for importing the MIDI file that is needed for the Arp Quantize.</li><ul><li><strong>Internal:</strong> This <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control is required to provide the drop functionality and a context menu to clear the MIDI data buffer. Its View property must be set to <code>dropzone_midifile</code>.</li><li><strong>FileDropped:</strong> This <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control indicates whether a file is present. Its Value must be set to <code>@EnableGrooveQuantize</code>.</li><li><strong>DropIcon:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap of the drop area.</li></ul><li><strong>Save:</strong> This <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control opens the dialog for saving User phrases. Its Value must be set to <code>@SubPresetSave</code>. The default location for saving User phrases depends on the settings of the <a href="HALion-Macro-Page/pages/FlexPhraser.html#template-parameters">Template Parameters</a>. </li><li><strong>Delete:</strong> This <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control opens the dialog for deleting User phrases. Its Value must be set to <code>@SubPresetDelete</code>.</li><li><strong>User Phrases:</strong> This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains the controls required to load and display User phrases.</li><ul><li><strong>Select:</strong> This <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control opens the phrase selector. Its Value must be set to <code>@PhraseSelectPopup</code>. Any User phrases you want to distribute with your library must be added to the corresponding location inside the VST Sound as specifed by Product and Load From, otherwise the phrase selector will not see these User phrases. See <a href="HALion-Macro-Page/pages/FlexPhraser.html#template-parameters">Template Parameters</a> for details.</li><li><strong>Name:</strong> This <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control displays the name of the current User phrase. Its Value must be set to <code>@UsrArp</code>.</li><li><strong>Background:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap behind the name of the current phrase.</li><li><strong>Label:</strong> A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control to display a title.</li></ul><li><strong>KeyReplace:</strong> A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> group for the following parameters. Its Value must be set to <code>@showkeyreplace</code>.</li><ul><li><strong>Key Replace:</strong> A menu template to specify the Key Replace mode. Its Value must be set to <code>@KeyReplace</code>.</li><li><strong>Arp Wrap:</strong> A menu template to specify the number of steps for wrapping the arpeggio. Its Value must to be set to <code>@Wrap</code>.</li></ul><li><strong>Arp Mode:</strong> A menu template to select the Arp Mode.  Its Value must be set to <code>@UserArpMode</code>.</li><li><strong>Arp Quantize:</strong> A value box template, to set the amount of the groove quantization. Its Value must be set to <code>@GrooveQuantizeDepth</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Arp Mute</strong></td><td style="text-align: left">A switch template that allows you to mute the variation. Its Value must be set to <code>@Mute</code>.</td></tr>
<tr><td style="text-align: left"><strong>Arp Octaves</strong></td><td style="text-align: left">A knob template that adjusts the octave range of the variation. Its Value must be set to <code>@OctaveRange</code>.</td></tr>
<tr><td style="text-align: left"><strong>Arp Vel Scale</strong></td><td style="text-align: left">A knob template that adjusts the velocity scale of the variation. Its Value must be set to <code>@VelocityScale</code>.</td></tr>
<tr><td style="text-align: left"><strong>Arp Gate Scale</strong></td><td style="text-align: left">A knob template that adjusts the gate scale of the variation. Its Value must be set to <code>@GateScale</code>.</td></tr>
<tr><td style="text-align: left"><strong>Arp Swing</strong></td><td style="text-align: left">A knob template that adjusts the swing of the variation. Its Value must be set to <code>@Swing</code>.</td></tr>
<tr><td style="text-align: left"><strong>Arp TempoScale</strong></td><td style="text-align: left">A value box template that adjusts the note value of the tempo scale of the variation. Its Value must be set to <code>@TempoScale</code>.</td></tr>
<tr><td style="text-align: left"><strong>Tempo</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> control that specifies whether the contained "Arp Tempo" template is active. Its Value must be set to <code>@Sync</code>.<ul><li><strong>Arp Tempo:</strong> A value box template that adjusts the the tempo in bpm. Its Value must be set to <code>@Tempo</code>.</li></ul></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="flexphraserstepseq"><a class="header" href="#flexphraserstepseq">FlexPhraserStepSeq</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-script">UI Script</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Flexphraser-Page.png" alt="Flexphraser" /></p>
<h2 id="description-351"><a class="header" href="#description-351">Description</a></h2>
<p>The FlexPhaserStepSeq template allows you to control the User phrase editor of the FlexPhraser. It combines several <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> controls with additional value boxes for Key Transpose and Key Replace and switches that modifiy the entire phrase. These controls are all preconfigured within the template and use dedicated parameters which are not supposed to change. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; FlexPhraser Page &gt; StepSEQ".</li>
<li>Select "StepSeq" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<blockquote>
<p>❕ The control templates for selecting phrases and for adjusting the performance parameters can be found in the Arp Parameter group. See <a href="HALion-Macro-Page/pages/./FlexPhraser.html">FlexPhraser</a> for details.</p>
</blockquote>
<h2 id="template-properties-6"><a class="header" href="#template-properties-6">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-4"><a class="header" href="#template-parameters-4">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Defines the path to the FlexPhraser MIDI modue that will be controlled. For example: <code>@0:FlexPhraser</code> controls the first FlexPhraser in the program.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-6"><a class="header" href="#components-inside-the-template-6">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/FlexPhraserStepSeq-Template.PNG" alt="FlexPhraserStepSeq Template" /></p>
<h3 id="ui-variables-5"><a class="header" href="#ui-variables-5">UI Variables</a></h3>
<p>These variables are needed to allow the communication between the <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> control and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>VarTransp</strong></td><td style="text-align: left">List of transpose variables used by the "templatelistview Transpose" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Transpose1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarKey</strong></td><td style="text-align: left">List of key variables used by the "templatelistview Key" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Key1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarTie</strong></td><td style="text-align: left">List of tie variables used by the "StepTie" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Tie1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarEnable</strong></td><td style="text-align: left">List of enable variables used by the "Enable" template.</td><td style="text-align: left">string list</td><td style="text-align: left">@Enable1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarTransposeKey</strong></td><td style="text-align: left">Used to switch between the pages of the "TranspKey" stack.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
<tr><td style="text-align: left"><strong>VarKeyLabel</strong></td><td style="text-align: left">List of numbers used as labels in the "Enable" template.</td><td style="text-align: left">string list</td><td style="text-align: left">1 - 32</td></tr>
<tr><td style="text-align: left"><strong>VarStepPages</strong></td><td style="text-align: left">Used to switch between the pages of the "Step Pages" stack.</td><td style="text-align: left">integer</td><td style="text-align: left">0 - 3</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-6"><a class="header" href="#controls-and-subtemplates-6">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Disable</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Disable.html">Disable</a> control containing all further elements. It is needed to disable the contained elements if the FlexPhraser variation is not set to User mode. Its Value must be set to <code>@UserMode</code>.</td></tr>
<tr><td style="text-align: left"><strong>Sw Vel, Sw C1, Sw C2, Sw C3</strong></td><td style="text-align: left">These switches are used to switch between the velocity and controller lane pages. The Value is set to <code>@VarStepPages</code> and the Onvalue is set to the index of the corresponding page.</td></tr>
<tr><td style="text-align: left"><strong>ArpMod</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> for switching between the pages that contain the controls for selecting the MIDI controller that is sent by the corresponding controller lane. It is switched by the UI Variable <code>@VarStepPages</code>.<ul><li><strong>Empty Page:</strong> A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> without content. It is displayed if the velocity lane is selected.</li><li><strong>Ctrl1/2/3:</strong> These Groups contain the templates for selecting the MIDI controller of the corresponding controller lane.</li><ul><li><strong>MIDI Ctrl1/2/3:</strong> The templates for selecting the MIDI controller. Their values must be set to <code>@UsrCC1</code>, <code>@UsrCC1</code>, <code>@UsrCC2</code>, or <code>@UsrCC3</code> accordingly.</li><li><strong>MIDI Ctrl Label:</strong> The label for the parameters.</li></ul></ul></td></tr>
<tr><td style="text-align: left"><strong>LED pages</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> that switches between two LED chain bitmap displays, "LED Chain Off" and "LED Chain". They are both identical. "LED Chain Off" is not connected to the engine and is used when User mode is set to off. "LED Chain" is connected to the engine via <code>@CurrentStep</code>.</td></tr>
<tr><td style="text-align: left"><strong>StepTie</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Template-List.html">Template List</a> that controls the Tie parameter of the 32 steps. It uses the "StepTie" template as a switch. The switch will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Enable</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Template-List.html">Template List</a> used to control the Enable parameter of the 32 steps. It uses the "StepSwitch OnOff " template as a switch. The switch will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-script">UI Script</a> for details. The Label parameter uses the stringlist variable <code>@VarKeyLabel</code> to set the label for each step.</td></tr>
<tr><td style="text-align: left"><strong>TranspKey</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> switching between the Key Transpose and Key Replace values. This is controlled by the <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-variables">UI variable</a> <code>@VarTransposeKey</code>. These values are managed by "templatelistview Transpose" and "templatelistview Key". "templatelistview Transpose" uses the string list variable <code>@VarTrans</code>. "templatelistview Key" uses the string list variable <code>@VarKey</code>. Both will be disabled if the length of the phrase is smaller than the index of the corresponding step. This is is controlled by <code>@disableStepParams</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Sw_TranspKey</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> that toggles between the Key Transpose and Key Replace values. Connected to the "TranspKey" stack by the <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-variables">UI variable</a> <code>@VarTranposeKey</code>.</td></tr>
<tr><td style="text-align: left"><strong>Duplicate</strong></td><td style="text-align: left">A push button that duplicates the active steps. Connected by the internal variable <code>@Duplicate</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>Reverse</strong></td><td style="text-align: left">A push button that reverses the order of the active steps. Connected by the internal variable <code>@Reverse</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>ShiftRight</strong></td><td style="text-align: left">A push button that shifts the active steps to the right. Connected by the internal variable <code>@ShiftPhraseRight</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>ShiftLeft</strong></td><td style="text-align: left">A push button that shifts the active steps to the left. Connected by the internal variable <code>@ShiftPhraseLeft</code>. This works only inside the FlexPhraserStepSeq template.</td></tr>
<tr><td style="text-align: left"><strong>PatternLength</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Slider.html">Slider</a> to change the number of steps. Connected by <code>@PatternLength</code> which is defined and managed in the UI script FlexPhraserStepSeq.lua that is attached to the FlexPhraserStepSeq template. See <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-script">UI Script</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Step Pages</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> that contains four <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> controls, one for the step velocity and three for the available controller lanes. It is switched by the <a href="HALion-Macro-Page/pages/FlexPhraserStepSeq.html#ui-variables">UI variable</a> <code>@VarStepPages</code>.<ul><li><strong>stepmodulator:</strong> A <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> controlling the step velocity. The required setting for Formats is <code>Level%d;Length%d;Enable%d</code>. This allows to control the level, the length, and the enable state of the steps. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C1:</strong> A <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> for controlling the first controller lane. The required setting for Formats is <code>Control1_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C2:</strong> A <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> for controlling the second controller lane. The required setting for Formats is <code>Control2_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li><li><strong>stepmodulator C3:</strong> A <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> for controlling the third controller lane. The required setting for Formats is <code>Control3_%d</code>. This allows to control the level of each step in the controller lane. This setting only works inside the FlexPhraserStepSeq template.</li></ul></td></tr>
</tbody></table>
</div>
<h3 id="ui-script-2"><a class="header" href="#ui-script-2">UI Script</a></h3>
<pre><code class="language-lua">-- FlexPhraserStepSeq.lua  (Manages the disable state of the steps)

function onStepCountChanged()  
  step = math.floor (StepCount+0.5)

  for i = 1, step, 1 do
    _G["disableStep"..tostring(i)] = 0
  end

  for i=step + 1, 32, 1 do
	_G["disableStep"..tostring(i)] = 1
  end
end

defineParameter("StepCount", nil, 1, 1, 32, onStepCountChanged)

disableStepParams = {}
for i=1,32,1 do
	disableStepParams[i]="@disableStep"..tostring(i);
	defineParameter("disableStep"..tostring(i), nil, 0,0,1)	
end

defineParameter("disableStepParams", nil, 1, disableStepParams)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="fx-meter"><a class="header" href="#fx-meter">FX Meter</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#effect-types">Effect Types</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/FX-Meter.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Deco-VU-Page.png" alt="Deco/VU" /></p>
<h2 id="description-352"><a class="header" href="#description-352">Description</a></h2>
<p>The FX Meter template allows you to display input, output, and reduction meters for effects like Compressor, Expander, Limiter, etc. It also contains text controls for peak values and switches for resetting them. The controls are connected by corresponding UI variables. To ensure the operation of the controls, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely including their ressources. Controls that are not needed for your instrument can be omitted on your macro page. For example, if an effect does not need a reduction meter, you can remove it and save this configuration in another template.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Deco and Meter Page".</li>
<li>Select "FX Meter" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-7"><a class="header" href="#template-properties-7">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-5"><a class="header" href="#template-parameters-5">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>FXType</strong></td><td style="text-align: left">Specifies the effect type the controls should connect to. See <a href="HALion-Macro-Page/pages/FX-Meter.html#effect-types">Effect Types</a> for a list of the supported types.</td></tr>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Determines to which effect the controls should connect. For example, <code>@bus:0/@0:Tube Compressor</code> connects the controls to the first effect named Tube Compressor in the first bus.</td></tr>
</tbody></table>
</div>
<h3 id="effect-types"><a class="header" href="#effect-types">Effect Types</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Module</th><th style="text-align: left">FX Type</th><th style="text-align: left">Comment</th></tr></thead><tbody>
<tr><td style="text-align: left">Compressor</td><td style="text-align: left">Compressor</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Expander</td><td style="text-align: left">Expander</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Limter</td><td style="text-align: left">Limiter</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Maximizer</td><td style="text-align: left">Optimiser</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Brickwall Limiter</td><td style="text-align: left">BrickwallLimiter</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Tube Compressor</td><td style="text-align: left">TubeCompressor</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Vintage Compressor</td><td style="text-align: left">VintageCompressor</td><td style="text-align: left">-</td></tr>
<tr><td style="text-align: left">Gate</td><td style="text-align: left">Gate</td><td style="text-align: left">No reduction meter.</td></tr>
<tr><td style="text-align: left">Graph EQ</td><td style="text-align: left">GraphicEQ10</td><td style="text-align: left">Only output meter.</td></tr>
<tr><td style="text-align: left">Morph Filter</td><td style="text-align: left">MorphFilter</td><td style="text-align: left">Only output meter.</td></tr>
<tr><td style="text-align: left">DJ EQ</td><td style="text-align: left">HiFiEq</td><td style="text-align: left">Only output meter.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The Studio EQ effect requires the specialized template <a href="HALion-Macro-Page/pages/./Studio-EQ-Meter.html">Studio EQ Meter</a>.</p>
</blockquote>
<h2 id="components-inside-the-template-7"><a class="header" href="#components-inside-the-template-7">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/FX-Meter-Template.PNG" alt="FX Meter Template" /></p>
<h3 id="controls-and-subtemplates-7"><a class="header" href="#controls-and-subtemplates-7">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>In_Meter_Left</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control connected with the left input channel of the effect. Its Value must be set to <code>@VUInL</code> .</td></tr>
<tr><td style="text-align: left"><strong>In_Meter_Right</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control connected with the right input channel of the effect. Its Value must be set to <code>@VUInR</code> .</td></tr>
<tr><td style="text-align: left"><strong>Reduction_Meter</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control connected with the gain reduction output of the effect. Its Value must be set to <code>@GainReduction</code> .</td></tr>
<tr><td style="text-align: left"><strong>Out_Meter_Left</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control connected with the left output channel of the effect. Its Value must be set to <code>@VUOutL</code> .</td></tr>
<tr><td style="text-align: left"><strong>Out_Meter_Right</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control connected with the right output channel of the effect. Its Value must be set to <code>@VUOutR</code> .</td></tr>
<tr><td style="text-align: left"><strong>Peak_Input</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with two elements:<ul><li><strong>Peak_In_Reset:</strong> A switch that resets the peak value of the input meter. Its Value must be set to <code>@ResetInputVU</code>.</li><li><strong>Peak_In_Text:</strong> A text control that displays the peak value of the input meter. Its Value must be set to <code>@VUInMax</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Peak_Output</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with two elements:<ul><li><strong>Peak_Out_Reset:</strong> A switch that resets the peak value of the output meter. Its Value must be set to <code>@ResetOutputVU</code>.</li><li><strong>Peak_Out_Text:</strong> A text control that displays the peak value of the ouput meter. Its Value must be set to <code>@VUOutMax</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Peak_Reduction</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with two elements:<ul><li><strong>Peak_Reduction_Reset:</strong> A switch that resets the peak value of the reduction meter. Its Value must be set to <code>@ResetReduction</code>.</li><li><strong>Peak_Reduction_Text:</strong> A text control that displays the peak value of the reduction meter. Its Value must be set to <code>@maxgainreduction</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the meters.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="midi-player"><a class="header" href="#midi-player">MIDI Player</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#content-locations-for-different-configurations">Content Locations for Different Configurations</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/MIDI-Player.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/MIDI-Player-Page.png" alt="MIDI Player" /></p>
<h2 id="description-353"><a class="header" href="#description-353">Description</a></h2>
<p>The MIDI Player template contains controls for selecting MIDI files, adjusting the performance parameters like Swing, Gate Scale, etc., and for using the eight variations of the MIDI Player module. In addition, there are controls for exporting the current MIDI File via drag and drop.</p>
<p>Functionality such as using the eight variations, exporting the current MIDI file, etc., cannot be realized with standard macro page controls. The <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control is used if this is the case. The performance parameters like Swing, Gate Scale, Vel Scale, etc. are connected to the eight variations by corresponding UI variables and they must be part of this template. To ensure the operation of the performance parameters, the eight variations and the MIDI file export, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; MIDI Player Page &gt; MIDI Player Parameter".</li>
<li>Select "MIDI Player Template" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<blockquote>
<p>❕ The other control templates inside the MIDI Player Parameter group are directly connected to the MIDI Player module and do not require detailed explanation.</p>
</blockquote>
<h2 id="template-properties-8"><a class="header" href="#template-properties-8">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-6"><a class="header" href="#template-parameters-6">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Defines the path to the MIDI Player module to be controlled. For example: <code>@0:MIDI Player</code> controls the first MIDI Player module in the program.</td></tr>
<tr><td style="text-align: left"><strong>Product</strong></td><td style="text-align: left">Product specifies the root folder for the location of the MIDI files (.mid). Set this to <code>HALion</code> if you want to load MIDI files from the standard file path for subpresets. Load From (see below) must be set to <code>MIDI Files</code>, which specifies the path to the folder that contains the MIDI files.<p>If you wish to deliver your own MIDI files as part of your library, you can set Product to the name of your instrument, e.g., <code>MyProductName</code>. Thereby, only the MIDI files for <code>MyProductName</code> will be shown in the MIDI files selector. The location of your MIDI files inside the VST Sound of your library must match the path defined by Product and Load From, otherwise the MIDI file selector will not see them. Assuming Load From is again set to <code>MIDI Files</code>: Then, the MIDI files must be added to the folder ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>MIDI Files</code></em> inside the VST Sound.</p><p>You can also include both, the HALion root folder and the root folder of your instrument, by setting Product to <code>MyProductName</code>|<code>HALion</code>. The MIDI file selector will then show the content of both locations.</p></td></tr>
<tr><td style="text-align: left"><strong>Load From</strong></td><td style="text-align: left">Load From specifies the subpath to the location of the MIDI files inside the root folder. The root folder is set by Product (see above). You can specify this subfolder freely. However, if you want to see the factory MIDI files, Load From must be set to <code>MIDI Files</code> and Product must contain <code>HALion</code>.<p>Any MIDI files you want to distribute with your library must be added to the corresponding location inside the VST Sound. For example, if Load From is set to <code>MIDI Files</code> and Product is set just to <code>MyProductName</code>, the subpresets inside the VST Sound must be located at ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>MIDI Files</code></em>.</p></td></tr>
</tbody></table>
</div>
<h3 id="content-locations-for-different-configurations-1"><a class="header" href="#content-locations-for-different-configurations-1">Content Locations for Different Configurations</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Configuration</th><th style="text-align: left">Content visible in MIDI File Selector</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><p><strong>Product</strong> = <code>HALion</code></p><p><strong>Load From</strong> = <code>MIDI Files</code></p></td><td style="text-align: left">Only MIDI files from HALion, including any MIDI files the user has saved on hard disk.</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code></p><p><strong>Load From</strong> = <code>MIDI Files</code></p></td><td style="text-align: left">Only MIDI files from the specified library.</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code>|<code>HALion</code></p><p><strong>Load From</strong> = <code>MIDI Files</code></p></td><td style="text-align: left">All MIDI files from HALion, the specified library and any MIDI files the user has saved on hard disk.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The location of the MIDI files inside the VST Sound must match the path defined by the Product and Load From parameters, otherwise the MIDI File selector cannot access them.</p>
</blockquote>
<h2 id="components-inside-the-template-8"><a class="header" href="#components-inside-the-template-8">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/MIDI-Player-Template.PNG" alt="MIDI Player Template" /></p>
<h3 id="controls-and-subtemplates-8"><a class="header" href="#controls-and-subtemplates-8">Controls and Subtemplates</a></h3>
<p>To ensure the operation of the controls and subtemplates, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>DragMIDI</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls for exporting the current MIDI file via drag and drop. <ul><li><strong>DragIcon:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap of the drag area.</li><li><strong>DragAvailable:</strong> This <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control indicates if the MIDI file is available for exporting it. The Value of the control must be set to <code>@EnableDragMIDI</code>.</li><li><strong>Drag MIDI recording:</strong> An <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control that provides the drag functionality. The View property of the control must be set to <code>dragzone_midifile</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Variation</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with three subgroups that provide the necessary elements to switch between variations, to drag variations to the trigger pads, and to open the context menu of the variation switches. The aformentioned functionalities are implemented by <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls. Their preconfigured properties should not be modified. Also, the z-order of the subgroups in the GUI Tree is not supposed to change. "Drag Zones" must be topmost, followed by "Variation Popup", and then "Variation Selector" as bottommost group.<ul><li><strong>Drag Zones:</strong> This group contains the eight <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls that provide the functionality for dragging a variation to a trigger pad. The View property of the respective control must be set to <code>DragZone1</code>, <code>DragZone2</code>, ..., or <code>DragZone8</code> accordingly.</li><li><strong>Variation Popup:</strong> This group contains the eight <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> controls that provide the context menu of the variation switches. The View property of the respective control must be set to <code>ASB1</code>, <code>ASB2</code>, ..., or <code>ASB8</code> accordingly.</li><li><strong>Variation Selector:</strong> This group contains eight exclusive switches to select the active variation. The Value property of all switches must be set to <code>@ActiveState</code> and the switches must be named <code>ASB1</code>, <code>ASB2</code>, ..., or <code>ASB8</code> accordingly.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>MIDI File Selector</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Group.html">Group</a> contains controls for selecting MIDI files and for loading MIDI files from disk using drag and drop.<ul><li><strong>Drop MIDI:</strong> This <a href="HALion-Macro-Page/pages/./Internal.html">Internal</a> control is required to provide the drop functionality for loading MIDI files. Its View property must be set to <code>dropzone_midifile</code>. The dropped MIDI files are always saved to the ./HALion/Subpresets/MIDI Files/User folder.</li><li><strong>Select:</strong> This <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control opens the MIDI file selector. Its Value must be set to <code>@PhraseSelectPopup</code>.</li><li><strong>Name:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control to display the name of the current phrase. Its Value must be set to <code>@Filename</code>.</li><li><strong>Background:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the MIDI file name.</li><li><strong>Label:</strong> A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control for the file selector.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>MIDIP Swing</strong></td><td style="text-align: left">A knob template that adjusts the swing of the variation. Its Value must be set to <code>@Swing</code>.</td></tr>
<tr><td style="text-align: left"><strong>MIDIP Gate Scale</strong></td><td style="text-align: left">A knob template that adjusts the gate scale of the variation. Its Value must be set to <code>@GateScale</code>.</td></tr>
<tr><td style="text-align: left"><strong>MIDIP Vel Scale</strong></td><td style="text-align: left">A knob template that adjusts the velocity scale of the variation. Its Value must be set to <code>@VelocityScale</code>.</td></tr>
<tr><td style="text-align: left"><strong>MIDIP Quantize Grid</strong></td><td style="text-align: left">A menu template for selecting the note value of the quantization grid of the variation. Its Value must be set to <code>@QuantizeGrid</code>.</td></tr>
<tr><td style="text-align: left"><strong>MIDIP Quantize Amount</strong></td><td style="text-align: left">A knob template that adjusts the amount of quantization for the MIDI file of the variation. Its Value must be set to <code>@QuantizeAmount</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="mixer-channel"><a class="header" href="#mixer-channel">Mixer Channel</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Mixer-Channel.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Mixer-Channel.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Mixer-Channel.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Mixer-Channel.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Mixer-Channel.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Deco-VU-Page.png" alt="Deco/VU" /></p>
<h2 id="description-354"><a class="header" href="#description-354">Description</a></h2>
<p>The Mixer Channel template contains all necessary controls for the parameters of a bus. The controls are connected by corresponding UI variables. To ensure the operation of the controls the preconfigured properties must not be modified. The look and the size of the controls can be modified freely including their ressources. Controls that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Deco and Meter Page".</li>
<li>Select "Mixer Channel" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-9"><a class="header" href="#template-properties-9">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-7"><a class="header" href="#template-parameters-7">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>TargetBusses</strong></td><td style="text-align: left">Allows you to specify the selectable output busses. For example, if your instrument contains the busses Bus A, Bus B and Bus C and you set TargetBusses to <code>buslist='Bus A; Bus B'</code>, only Bus A and Bus B will be shown in the output selector of the channel. Bus C will not be shown. For more options, see Ch_Output below.</td></tr>
<tr><td style="text-align: left"><strong>bus</strong></td><td style="text-align: left">Determines to which bus the controls should connect. For example, <code>@bus:0</code> connects the controls to the first bus in the program.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-9"><a class="header" href="#components-inside-the-template-9">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Mixer-Channel-Template.PNG" alt="Mixer Channel Template" /></p>
<h3 id="controls-and-subtemplates-9"><a class="header" href="#controls-and-subtemplates-9">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Ch_Output</strong></td><td style="text-align: left">This template contains the necessary elements to specify the output of a bus. It contains the following elements:<ul><li><strong>Menu:</strong> A <a href="HALion-Macro-Page/pages/./Menu.html">Menu</a> control that opens a context menu showing the available outputs. The Value must be set to <code>@TargetBusMenu</code>.</li><li><strong>Name:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control showing the name of the selected output. The Value must be set to <code>@TargetBusMenu</code>.</li><li><strong>Image:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap.</li></ul>To specify the outputs that are made available in the menu, you can configure Menu by adding one of the following tags to its Value property:<ul><li><strong>{TargetBusses}:</strong> Set this to evaluate the busses provided by the TargetBusses parameter of the Mixer Channel template. </li><li><strong>default:</strong> Set this to route the output to the default bus (usually the next bus higher up in the hierarchy).</li><li><strong>default='name':</strong> Same as above, but 'name' is shown as text instead of '--'.</li><li><strong>local:</strong> Set this to show all available busses higher up in the hierarchy.</li><li><strong>buslist='BusName1; BusName2; ...':</strong> Allows to specify a list of busses.</li><li><strong>aux:</strong> Shows the plug-in aux busses.</li><li><strong>noplug:</strong> Hides the plug-in output busses.</li></ul>For example, <code>@TargetBusMenu local aux noplug</code> shows only the busses higher up in the hierarchy and the aux busses, but none of the plug-in outputs in the menu.</td></tr>
<tr><td style="text-align: left"><strong>Ch_Pan</strong></td><td style="text-align: left">This template contains the necessary elements to control the pan parameter of the bus. It contains the following elements:<ul><li><strong>Slider:</strong> A <a href="HALion-Macro-Page/pages/./Slider.html">Slider</a> control. The Value of this control is exported to the Ch_Pan template and must be set to <code>@Pan</code>.</li><li><strong>Image:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Ch_Meter</strong></td><td style="text-align: left">This template references the Bus Meter V Peak template. All parameters are connected to the bus defined by the Mixer Channel template's <code>bus</code> parameter. The Bus Meter V Peak template contains the following elements:<ul><li><strong>switch:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control that resets the peak value of the bus. Its Value must be set to <code>@VUPeakReset</code>.</li><li><strong>text:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control that displays the peak value of the bus. Its Value must be set to <code>@peak</code>.</li><li><strong>image:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the text.</li><li><strong>vumeter:</strong> A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control for the right channel of a stereo bus. Its Value must be set to <code>@meter1</code> and its Peak Value to <code>@peak1</code>.</li><li><strong>vumeter:</strong> A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control for the left channel of a stereo bus. Its Value must be set to <code>@meter0</code> and its Peak Value to <code>@peak0</code>.</li><li><strong>Back:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the meters.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Ch_Level</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control showing the value of the level slider. The Value property must be set to <code>@LogLevel</code>.</td></tr>
<tr><td style="text-align: left"><strong>Ch_Slider</strong></td><td style="text-align: left">This template contains the necessary elements to control the level of the bus. It contains the following elements:<ul><li><strong>Slider:</strong> A <a href="HALion-Macro-Page/pages/./Slider.html">Slider</a> control. The Value is exported to the template and must be set to <code>@LogLevel</code>.</li><li><strong>Scale:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control showing a dB scale.</li><li><strong>Guide:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control showing the slider guidance.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>SoloMute</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> control with two templates: Ch_Solo and Ch_Mute. They provide the solo/mute functionality of the bus.<ul><li><strong>Ch_Solo:</strong> This template contains the necessary elements to control and show the solo state of the bus. It contains the following elements:</li><ul><li><strong>Switch:</strong> An invisible <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control which contains a hover overlay that lights up the underlying VisualState animation control when hovering over it. The Value is exported to the template and must be set to <code>@Solo Layer</code>.</li><li><strong>VisualState:</strong> An <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control showing the solo state (Solo Off, Solo On, or Implicit Solo). The Value is exported to the template and must be set to <code>@Solo State</code>.</li></ul><li><strong>Ch_Mute:</strong> This template contains the necessary elements to control and show the mute state of the bus. It contains the following elements:</li><ul><li><strong>Switch:</strong> An invisible <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control which contains a hover overlay that lights up the underlying VisualState animation control when hovering over it. The Value is exported to the template and must be set to <code>@Mute Layer</code>.</li><li><strong>VisualState:</strong> An <a href="HALion-Macro-Page/pages/./Animation.html">Animation</a> control showing the mute state (Mute Off, Mute On, or Implicit Mute). The Value is exported to the template and must be set to <code>@Mute State</code>.</li></ul></ul></td></tr>
<tr><td style="text-align: left"><strong>Ch_Name</strong></td><td style="text-align: left">This template references the ObjectName template. It displays the name of the object in which it is located. In this case it will display the name of the connected bus. The template contains only one element:<ul><li><strong>Text:</strong> A read-only <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control with Value set to <code>@name</code>. This connection only works inside this template.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Back:</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="path-browser"><a class="header" href="#path-browser">Path Browser</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Path-Browser.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Path-Browser.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Path-Browser.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Path-Browser.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Path-Browser.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Path-Page.png" alt="Path" /></p>
<h2 id="description-355"><a class="header" href="#description-355">Description</a></h2>
<p>The PathBrowser is a preconfigured template that can be used to open folders and objects, such as sample files, for example. The template can be configured with the available <a href="HALion-Macro-Page/pages/Path-Browser.html#template-parameters">Template Parameters</a>. The look of the controls can be adapted freely by changing the components inside the template. The template also accepts the drop of folders or files from sources like the Explorer or Finder. When clicking the open icon, the OS file browser opens that lets you choose the folder and file. By Clicking OK this file path is set for the parameter that is connected to the Value parameter of the template.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Path &amp; Preset Page".</li>
<li>Select "Sample Path - PathBrowser" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-10"><a class="header" href="#template-properties-10">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-8"><a class="header" href="#template-parameters-8">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Value</strong></td><td style="text-align: left">Allows you to connect the parameter that requires a path and file name.</td></tr>
<tr><td style="text-align: left"><strong>Typename</strong></td><td style="text-align: left">Allows you to specify the name of the file type filter that will be shown in the OS file browser.</td></tr>
<tr><td style="text-align: left"><strong>Extension</strong></td><td style="text-align: left">Allows you to specify a file type filter like .wav or .aiff, so that the OS file browser only shows files of that type.</td></tr>
<tr><td style="text-align: left"><strong>Title</strong></td><td style="text-align: left">Allows you to specify the title of the OS file browser that will be shown in the caption.</td></tr>
<tr><td style="text-align: left"><strong>Tag</strong></td><td style="text-align: left">Allows you to specify a unique identifier that is used to memorize the location at which you left the OS file browser the last time. All path browsers that use this tag will point to the same last location.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-10"><a class="header" href="#components-inside-the-template-10">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/PathBrowser-Template.PNG" alt="PathBrowser Template" /></p>
<h3 id="controls-and-subtemplates-10"><a class="header" href="#controls-and-subtemplates-10">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>switch</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> that opens the OS file browser. Its Value must be set to <code>@Browser</code>.</td></tr>
<tr><td style="text-align: left"><strong>dropview</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Drop.html">Drop</a> control for dropping files and folders. Its Value must be set to <code>@Path</code>. The regular expression for the Accept Filter uses the file extension that is specified by the Extension parameter of the template.</td></tr>
<tr><td style="text-align: left"><strong>text</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control for displaying the path. Its Value must be set to <code>@Path</code>.</td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the path.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="preset-browser"><a class="header" href="#preset-browser">Preset Browser</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Preset-Browser.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Preset-Browser.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Path-Page.png" alt="Path" /></p>
<h2 id="description-356"><a class="header" href="#description-356">Description</a></h2>
<p>PresetBrowser Module is a preconfigured template that can be used to manage subpresets, such as the presets of a MIDI script module or an audio effect, for example. The Scope parameter determines for which module or effect the preset management applies. The look of the controls can be adapted freely by changing the components inside the template. The template contains switches for Load, Save, and Delete which open the corresponding dialogs.</p>
<p>The PresetBrowser Module template uses the default file path for loading and saving subpresets. User subpresets will be saved to the Documents folder of your OS in the folder of the module or effect you specify with the Scope parameter. You can see the full file path by opening the Save dialog. If you want to deliver your own subpresets as part of your library, the location of your subpresets inside the VST Sound must match this path, otherwise the preset selector cannot access them.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Path &amp; Preset Page".</li>
<li>Select "Subpresets Delay - Module" or "Subpresets FlexPhraser - Module" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-11"><a class="header" href="#template-properties-11">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-9"><a class="header" href="#template-parameters-9">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">The Scope parameter determines for which module or effect the preset management applies. For example, by setting Scope to <code>@bus:0/@0:Tube Compressor</code> the preset management applies to the first effect named Tube Compressor in the first bus.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-11"><a class="header" href="#components-inside-the-template-11">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/PresetBrowser-Module-Template.PNG" alt="PresetBrowser Module Template" /></p>
<h3 id="controls-and-subtemplates-11"><a class="header" href="#controls-and-subtemplates-11">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Prev</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to load the previous preset. Its Value must be set to <code>@SubPresetPrev</code>.</td></tr>
<tr><td style="text-align: left"><strong>Next</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to load the next preset. Its Value must be set to <code>@SubPresetPrev</code>.</td></tr>
<tr><td style="text-align: left"><strong>Selector</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the preset selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</td></tr>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control to display the name of the preset. Its Value must be set to <code>@SubPresetName</code>.</td></tr>
<tr><td style="text-align: left"><strong>Save</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the save dialog. Its Value must be set to <code>@SubPresetSave</code>.</td></tr>
<tr><td style="text-align: left"><strong>Select</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the preset selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</td></tr>
<tr><td style="text-align: left"><strong>Delete</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the delete dialog. Its Value must be set to <code>@SubPresetDelete</code>.</td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the preset name.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="preset-browser-custom"><a class="header" href="#preset-browser-custom">Preset Browser Custom</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#content-locations-for-different-configurations">Content Locations for Different Configurations</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Preset-Browser-Custom.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Path-Page.png" alt="Path" /></p>
<h2 id="description-357"><a class="header" href="#description-357">Description</a></h2>
<p>PresetBrowser Custom is a preconfigured template that can be used to manage subpresets, such as the presets of a MIDI script module or an audio effect, for example. The Scope parameter determines for which module, effect, or zone the preset management applies. The optional Section parameter determines for which part of a zone the preset management applies. The parameters Product, Load From, and Save To define the locations for loading and saving presets. The look of the controls can be adapted freely by changing the components inside the template. The template contains switches for Load, Save, and Delete which open the corresponding dialogs.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Path &amp; Preset Page".</li>
<li>Select "Subpresets LFO - Custom" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-12"><a class="header" href="#template-properties-12">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-10"><a class="header" href="#template-parameters-10">Template Parameters</a></h2>
<p>The template provided with the Init Basic Controls.vstpreset uses LFO1 of the zone as example. The following description uses the Multi Delay effect as example. This way you have two examples you can try out for getting a better understanding of the PresetBrowser Custom template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">The Scope parameter determines for which module or effect the preset management applies. For example, by setting Scope to <code>@bus:0/@0:Multi Delay</code> the preset management applies to the first effect named Multi Delay in the first bus.</td></tr>
<tr><td style="text-align: left"><strong>Product</strong></td><td style="text-align: left">Product specifies the root folder for the location of the subpresets, both for loading and saving. Set this to <code>HALion</code> if you want to load presets from the standard file path for subpresets. Load From (see below) must be set to the path of the folder that contains the subpresets for the specified effect, e.g., <code>Fx/Delay/Multi Delay</code> for the subpresets of the Multi Delay effect. When saving User subpresets, these will be written to ./Documents/Steinberg/HALion/Sub Presets/ plus the path specified by Load From, e.g., ./Documents/Steinberg/HALion/Sub Presets/Fx/Delay/Multi Delay. They are displayed with a user icon in the preset selector.<p>If you want to deliver your own subpresets as part of your library, you can set Product to the name of your instrument, e.g., <code>MyProductName</code>. This way, only the subpresets for <code>MyProductName</code> will be shown in the preset selector. The location of the subpresets inside the VST Sound of your library must match the path defined by Product and Load From, otherwise the preset selector cannot access these subpresets. Assuming Load From is set to <code>Fx/Delay/Multi Delay</code>: Then, the subpresets must be added to the folder ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>Fx/Delay/Multi Delay</code></em> inside the VST Sound. If the user saves subpresets, these will be written to ./Documents/Steinberg/<em><code>MyProductName</code></em>/Sub Presets/<em><code>Fx/Delay/Multi Delay</code></em> on hard disk. They are displayed with a user icon in the preset selector.</p><p>You can also include both the HALion root folder and the root folder of your instrument by setting Product to <code>MyProductName</code>|<code>HALion</code>. The preset selector will then show the content of both locations. The path for saving a User subpreset will use the first entry specified by <code>MyProductName</code> as root folder.</p></td></tr>
<tr><td style="text-align: left"><strong>Section</strong></td><td style="text-align: left">Sections divide parameters into related units. For example, the parameters of zones are divided into sections like Filter, Amp, etc. The Section determines for which parameters the preset management applies. The section names can be found in the Parameter List. For example, set Section to <code>Amp Env</code> to load/save subpresets only for the amp envelope of a zone. If Section is not set, the preset management applies for the entire module, effect, or zone. Defining Section creates a subfolder in the subpreset path that corresponds to the name of the section. Sections can also be used within scripts. See <a href="HALion-Macro-Page/pages/../../HALion-Script/pages/onLoadSubPreset.html">onLoadSubPreset</a> and <a href="HALion-Macro-Page/pages/../../HALion-Script/pages/onSaveSubPreset.html">onSaveSubPreset</a> for details.</td></tr>
<tr><td style="text-align: left"><strong>Load From</strong></td><td style="text-align: left">Load From specifies the subpath to the location of the subpresets inside the root folder. The root folder is set by Product (see above). You can specify this subfolder freely. However, if you want to see the factory subpresets, Load From must be set to the path that corresponds to the module or effect specified by Scope and Product must contain <code>HALion</code>.<p>Any subpresets you want to distribute with your library must be added to the corresponding location inside the VST Sound. For example, if Load From is set to <code>Fx/Delay/Multi Delay</code> and Product is set to <code>MyProductName</code>, the subpresets inside the VST Sound must be located at ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>Fx/Delay/Multi Delay</code></em>.</p></td></tr>
<tr><td style="text-align: left"><strong>Save To</strong></td><td style="text-align: left">Allows you to specify the subpath to the location where the subpresets will be saved by default.<ul><li>If Product has only one entry, either <code>Halion</code> or the name of your instrument, e.g., <code>MyProductName</code>, then the path of Load From will be included and prepend the path of Save To. See configurations 1 and 2 in the table below.</li><li>If Product has two entries, e.g., <code>MyProductName</code>|<code>HALion</code>, then only the path of Save To will be used. In this case it makes sense to set Save To to something like this: <code>MyProductName</code>/<code>MySubfolder</code>. See configuration 3 in the table below.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Extension</strong></td><td style="text-align: left">Allows you to specify a file type filter, so that preset browser only shows files of that type. By default, the preset selector uses .halpreset as file type, which is the common file type for HALion subpresets. If you want to load VST presets, e.g., to exchange layers using a script, set the file type to .vstpreset.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ If you need further control over the content locations, you can specify the required subfolder together with the Product: <code>MyProductName/Fx/Delay/Multi Delay</code>|<code>HALion/Fx/Delay/Multi Delay</code>. See configuration 4 in the following table.</p>
</blockquote>
<h3 id="content-locations-for-different-configurations-2"><a class="header" href="#content-locations-for-different-configurations-2">Content Locations for Different Configurations</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Configuration</th><th style="text-align: left">Content in Preset Selector</th><th style="text-align: left">Default Save Path</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><p><strong>Product</strong> = <code>HALion</code></p><p><strong>Load From</strong> = <code>Fx/Delay/Multi Delay</code></p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">Only subpresets from HALion, including any subpresets the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/HALion/Sub Presets/Fx/Delay/Multi Delay/MySubfolder</td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code></p><p><strong>Load From</strong> = <code>Fx/Delay/Multi Delay</code></p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">Only subpresets from the specified library, including any subpresets the user has saved with the instrument on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/Fx/Delay/Multi Delay/MySubfolder</td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code>|<code>HALion</code></p><p><strong>Load From</strong> = <code>Fx/Delay/Multi Delay</code></p><p><strong>Save To</strong> = <code>MyProductName/MySubfolder</code></p></td><td style="text-align: left">All subpresets from HALion, the specified library and any subpresets the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/MyProductName/MySubfolder</td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName/Fx/Delay/Multi Delay</code>|<code>HALion/Fx/Delay/Multi Delay</code></p><p><strong>Load From</strong> = deactivate, leave empty </p><p><strong>Save To</strong> = <code>MySubfolder</code></p></td><td style="text-align: left">All subpresets from HALion, the specified library and any subpresets the user has saved on hard disk.</td><td style="text-align: left">./Documents/Steinberg/MyProductName/Sub Presets/Fx/Delay/Multi Delay/MySubfolder</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The location of the subpresets inside the VST Sound must match the path defined by Product and Load From, otherwise the preset selector cannot acces these subpresets. If libraries deliver subpresets in multiple VST Sounds, all subpresets with the same path will be shown together in the preset selector.</p>
</blockquote>
<h2 id="components-inside-the-template-12"><a class="header" href="#components-inside-the-template-12">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/PresetBrowser-Custom-Template.PNG" alt="PresetBrowser Custom Template" /></p>
<h3 id="controls-and-subtemplates-12"><a class="header" href="#controls-and-subtemplates-12">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Prev</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to load the previous preset. Its Value must be set to <code>@SubPresetPrev</code>.</td></tr>
<tr><td style="text-align: left"><strong>Next</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to load the next preset. Its Value must be set to <code>@SubPresetPrev</code>.</td></tr>
<tr><td style="text-align: left"><strong>Selector</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the preset selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</td></tr>
<tr><td style="text-align: left"><strong>text</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control to display the name of the preset. Its Value must be set to <code>@SubPresetName</code>.</td></tr>
<tr><td style="text-align: left"><strong>Save</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the save dialog. Its Value must be set to <code>@SubPresetSave</code>.</td></tr>
<tr><td style="text-align: left"><strong>Select</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the preset selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</td></tr>
<tr><td style="text-align: left"><strong>Delete</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to open the delete dialog. Its Value must be set to <code>@SubPresetDelete</code>.</td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the preset name.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="sample-display"><a class="header" href="#sample-display">Sample Display</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#midi-script">MIDI Script</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
<li><a href="HALion-Macro-Page/pages/Sample-Display.html#ui-script">UI Script</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Sample-Page.png" alt="Sample" /></p>
<h2 id="description-358"><a class="header" href="#description-358">Description</a></h2>
<p>The Sample Display template contains a <a href="HALion-Macro-Page/pages/./Waveform.html">Waveform</a> control for displaying the sample data of the connected zone. A script that matches the display of the <a href="HALion-Macro-Page/pages/./Waveform.html">Waveform</a> control with the corresponding SampleOsc parameters of the zone is attached to the template. For example, this script shows or hides the looped regions, depending on whether the loop is active or not, and it decides which loop regions to display, depending on the selected loop (A or B) for the release and sustain loops, respectively. The template itself only provides a Scope parameter to determine which zone to display. The template works for Sample and Grain Zones.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Sample Page".</li>
<li>Select "Sample Display" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-13"><a class="header" href="#template-properties-13">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-11"><a class="header" href="#template-parameters-11">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Allows you to determine the zone with the sample data to be displayed. The template works for Sample and Grain Zones. If a Sample Zone is connected, the Play Pos property on the <a href="HALion-Macro-Page/pages/./Waveform.html">Waveform</a> control inside the template must be set to <code>@id:a0064</code>, for Grain Zones this must be set to <code>@id:100064</code>.</td></tr>
<tr><td style="text-align: left"><strong>FFT</strong></td><td style="text-align: left">Sets the block size of the window that is used for the analysis. This allows you to adjust the trade-off between temporal resolution and frequency resolution.</td></tr>
<tr><td style="text-align: left"><strong>Overlap</strong></td><td style="text-align: left">Sets the number of overlapping FFT windows. Increasing the overlap can be used to reduce analysis limitations of the FFT windows, which can lead to a loss of details, such as transients.</td></tr>
<tr><td style="text-align: left"><strong>Min Level</strong></td><td style="text-align: left">Sets the minimum signal level for the FFT. The colors of the FFT are sclaed accordingly reveiling more or less details.</td></tr>
<tr><td style="text-align: left"><strong>Max Level</strong></td><td style="text-align: left">Sets the maximum signal level for the FFT. The colors of the FFT are sclaed accordingly reveiling more or less details.</td></tr>
<tr><td style="text-align: left"><strong>Opacity</strong></td><td style="text-align: left">Allows you to seamlessly blend between sample and FFT display.</td></tr>
</tbody></table>
</div>
<p>The template parameters FFT, Overlap, Min Level, Max Level, and Opacity are connected to their respective control templates through the corresponding parameters of a <a href="HALion-Macro-Page/pages/Sample-Display.html#midi-script">MIDI script</a>. This configuration ensures that the FFT settings are saved with the presets. However, if you prefer not to include FFT settings in presets, you can connect the template parameters with the control templates by using UI variables. In this manner, the settings will only be preserved with the current project.</p>
<h3 id="midi-script"><a class="header" href="#midi-script">MIDI Script</a></h3>
<pre><code class="language-lua">-- define parameters for sample display

defineParameter("FFT", nil, 6, {"32", "64", "128", "256", "512", "1024", "2048", "4096", "8192", "16384", "32768", "65768"})
defineParameter("Overlap", nil, 4, { "No", "2x", "4", "8x", "16x", "32x", "64x", "128x"})
defineParameter("MinLevel", nil , -120, -240, 20, 1.0)
defineParameter("MaxLevel", nil, 0, -220, 0, 1.0)
defineParameter("Opacity", nil, 0, -100, 100, 1.0)
</code></pre>
<h2 id="components-inside-the-template-13"><a class="header" href="#components-inside-the-template-13">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Sample-Display-Template.PNG" alt="Sample Display Template" /></p>
<h3 id="controls-and-subtemplates-13"><a class="header" href="#controls-and-subtemplates-13">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>waveform</strong></td><td style="text-align: left">The <a href="HALion-Macro-Page/pages/./Waveform.html">Waveform</a> control for displaying the sample data. If a Sample Zone is connected, the Play Pos property must be set to <code>@id:a0064</code>, for Grain Zones this must be set to <code>@id:100064</code>. The loop properties must be connected to the corresponding parameters of the included <a href="HALion-Macro-Page/pages/Sample-Display.html#ui-script">UI script</a>: <code>@SusLoopStart</code>, <code>@SusLoopEnd</code>, <code>@RelLoopStart</code>, and <code>@RelLoopEnd</code>. All other properties must be connected to the corresponding parameters of the zone.</td></tr>
<tr><td style="text-align: left"><strong>ZeroLine</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the bitmap for the zero line of the sample display.</td></tr>
</tbody></table>
</div>
<h3 id="ui-script-3"><a class="header" href="#ui-script-3">UI Script</a></h3>
<pre><code class="language-lua">kSamplesMax = 0x7fffffff;

function onLoopChanged()
	local susMode, susStart, susEnd, relMode, relStart, relEnd;
	if LoopSel == 0 then
		susMode, susStart, susEnd = SustainLoopModeA, SustainLoopStartA, SustainLoopEndA;
		relMode, relStart, relEnd = ReleaseLoopModeA, ReleaseLoopStartA, ReleaseLoopEndA;
	else                                                       
		susMode, susStart, susEnd = SustainLoopModeB, SustainLoopStartB, SustainLoopEndB;
		relMode, relStart, relEnd = ReleaseLoopModeB, ReleaseLoopStartB, ReleaseLoopEndB;
	end
	if susMode == 0 then
		susStart, susEnd = 0, 0;
	end
	if relMode == 0 then
		relStart, relEnd = 0, 0;
	end
	
	SusLoopStart, SusLoopEnd = susStart, susEnd;
	RelLoopStart, RelLoopEnd = relStart, relEnd;
end

defineParameter("LoopSel", "Loop Select", 0, 0, 1, onLoopChanged);

defineParameter("SustainLoopStartA", "Zone Sustain Loop Start A", 0, 0, kSamplesMax, onLoopChanged);
defineParameter("SustainLoopEndA",   "Zone Sustain Loop End A",   0, 0, kSamplesMax, onLoopChanged);
defineParameter("SustainLoopModeA",  "Zone Sustain Loop Mode A",  0, 0, 10, onLoopChanged);

defineParameter("SustainLoopStartB", "Zone Sustain Loop Start B", 0, 0, kSamplesMax, onLoopChanged);
defineParameter("SustainLoopEndB",   "Zone Sustain Loop End B",   0, 0, kSamplesMax, onLoopChanged);
defineParameter("SustainLoopModeB",  "Zone Sustain Loop Mode B",  0, 0, 10, onLoopChanged);

defineParameter("ReleaseLoopStartA", "Zone Release Loop Start A", 0, 0, kSamplesMax, onLoopChanged);
defineParameter("ReleaseLoopEndA",   "Zone Release Loop End A",   0, 0, kSamplesMax, onLoopChanged);
defineParameter("ReleaseLoopModeA",  "Zone Release Loop Mode A",  0, 0, 10, onLoopChanged);

defineParameter("ReleaseLoopStartB", "Zone Release Loop Start B", 0, 0, kSamplesMax, onLoopChanged);
defineParameter("ReleaseLoopEndB",   "Zone Release Loop End B",   0, 0, kSamplesMax, onLoopChanged);
defineParameter("ReleaseLoopModeB",  "Zone Release Loop Mode B",  0, 0, 10, onLoopChanged);

defineParameter("SusLoopStart", "Display Sustain Loop Start", 0, 0, kSamplesMax);
defineParameter("SusLoopEnd",   "Display Sustain Loop End",   0, 0, kSamplesMax);
defineParameter("RelLoopStart", "Display Release Loop Start", 0, 0, kSamplesMax);
defineParameter("RelLoopEnd",   "Display Release Loop End",   0, 0, kSamplesMax);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="step-modulatortemplate"><a class="header" href="#step-modulatortemplate">Step Modulator(Template)</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Step-Modulator-Page.png" alt="Step Modulator" /></p>
<h2 id="description-359"><a class="header" href="#description-359">Description</a></h2>
<p>The StepModulator template contains controls for adjusting the steps and their slopes, for shifting the steps left or right and for reversing the steps. To ensure the operation of these controls, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Step Modulator Page".</li>
<li>Select "StepModulator" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<blockquote>
<p>❕ The other control templates inside the Step Modulator Page group are directly connected to the Step Modulator of the zone and do not require detailed explanation.</p>
</blockquote>
<h2 id="template-properties-14"><a class="header" href="#template-properties-14">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-12"><a class="header" href="#template-parameters-12">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Step1-32</strong></td><td style="text-align: left">Connect these to the corresponding steps (Step1 to Step32) of the StepMod section of the zone.</td></tr>
<tr><td style="text-align: left"><strong>Steps</strong></td><td style="text-align: left">Connect this to the Steps parameter of the StepMod section of the zone.</td></tr>
<tr><td style="text-align: left"><strong>Slope</strong></td><td style="text-align: left">Connect this to the Slope parameter of the StepMod section of the zone.</td></tr>
<tr><td style="text-align: left"><strong>Slope Amt</strong></td><td style="text-align: left">Connect this to the SlopeAmount parameter of the StepMod section of the zone.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-14"><a class="header" href="#components-inside-the-template-14">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/StepModulator-Template.PNG" alt="StepModulatorTemplate" /></p>
<h3 id="ui-variables-6"><a class="header" href="#ui-variables-6">UI Variables</a></h3>
<p>These variables are defined to allow the communication between the stepmodulator control and other controls in the template.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>level12</strong></td><td style="text-align: left">Level in fractions of -12 to 12 semitones (used when Snap is on).</td><td style="text-align: left">float</td><td style="text-align: left">-12.0 - 12.0</td></tr>
<tr><td style="text-align: left"><strong>level</strong></td><td style="text-align: left">Level of the selected node.</td><td style="text-align: left">float</td><td style="text-align: left">0 - 100.0</td></tr>
<tr><td style="text-align: left"><strong>index</strong></td><td style="text-align: left">Index of the selected node.</td><td style="text-align: left">integer</td><td style="text-align: left">1 - 32</td></tr>
<tr><td style="text-align: left"><strong>snap</strong></td><td style="text-align: left">Activates snap lines.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
<tr><td style="text-align: left"><strong>shiftleft</strong></td><td style="text-align: left">Shifts the pattern to the left.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
<tr><td style="text-align: left"><strong>shiftright</strong></td><td style="text-align: left">Shifts the pattern to the right.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
<tr><td style="text-align: left"><strong>reverse</strong></td><td style="text-align: left">Reverses the pattern.</td><td style="text-align: left">integer</td><td style="text-align: left">0, 1</td></tr>
</tbody></table>
</div>
<h3 id="controls-and-subtemplates-14"><a class="header" href="#controls-and-subtemplates-14">Controls and Subtemplates</a></h3>
<p>To ensure the operation of the controls and subtemplates, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely. All controls for functions that are not needed for your instrument can be omitted on your macro page.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Snap</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control to activate the Snap option. Its Value must be set to <code>@snap</code>.</td></tr>
<tr><td style="text-align: left"><strong>Lev/Lev12</strong></td><td style="text-align: left">This <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> contains two value box templates. The <a href="HALion-Macro-Page/pages/./Stack.html">Stack</a> switches between Level100 and Level12 using the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@snap</code>.<ul><li><strong>Lev100:</strong> A value box template that is connected to the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@level</code>. It controls the level of the selected step in the range from 0 to 100 %. The template is active if Snap is off.</li><li><strong>Lev12:</strong> A value box template that is connected to the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@level12</code>. It controls the level of the selected step in fractions of -12 to 12 semitones. The template is active if Snap is on.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Index</strong></td><td style="text-align: left">A value box template that is connected to the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@index</code>. It selects the step to be edited by the value boxes.</td></tr>
<tr><td style="text-align: left"><strong>stepmodulator</strong></td><td style="text-align: left">For details see <a href="HALion-Macro-Page/pages/./Step-Modulator.html">Step Modulator</a> control.</td></tr>
<tr><td style="text-align: left"><strong>image</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the bitmap for the frame of the step modulator.</td></tr>
<tr><td style="text-align: left"><strong>ShiftLeft</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control that is connected to the Shift Left parameter of the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@shiftleft</code>.</td></tr>
<tr><td style="text-align: left"><strong>ShiftRight</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control that is connected to the Shift Right parameter of the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@shiftright</code>.</td></tr>
<tr><td style="text-align: left"><strong>Reverse</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control that is connected to the Reverse parameter of the step modulator by the <a href="HALion-Macro-Page/pages/Step-Modulator-Template.html#ui-variables">UI variable</a> <code>@reverse</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="studio-eq-meter"><a class="header" href="#studio-eq-meter">Studio EQ Meter</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html#template-parameters">Template Parameters</a></li>
<li><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Studio-EQ-Meter.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Deco-VU-Page.png" alt="Deco/VU" /></p>
<h2 id="description-360"><a class="header" href="#description-360">Description</a></h2>
<p>The Studio EQ Meter template contains all necessary controls for displaying the output meters of the Studio EQ effect module. The controls are connected by corresponding UI variables. To ensure the operation of the controls, the preconfigured properties must not be modified. The look and the size of the controls can be modified freely, including their ressources. Controls that are not needed for your instrument can be omitted on your macro page.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Deco and Meter Page".</li>
<li>Select "Studio EQ Meter" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-15"><a class="header" href="#template-properties-15">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-13"><a class="header" href="#template-parameters-13">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Determines to which EQ the controls should connect. For example, <code>@bus:0/@0:Studio EQ</code> connects the controls to the first EQ named Studio EQ in the first bus.</td></tr>
</tbody></table>
</div>
<h2 id="components-inside-the-template-15"><a class="header" href="#components-inside-the-template-15">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Studio-EQ-Meter-Template.PNG" alt="Studio EQ Meter Template" /></p>
<h3 id="controls-and-subtemplates-15"><a class="header" href="#controls-and-subtemplates-15">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Out_Meter_Left</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control that is connected by <code>@VUOutL</code> with the left output channel of the EQ.</td></tr>
<tr><td style="text-align: left"><strong>Out_Meter_Right</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Meter.html">Meter</a> control that is connected by <code>@VUOutR</code> with the right output channel of the EQ.</td></tr>
<tr><td style="text-align: left"><strong>Peak_Output</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> with three elements:<ul><li><strong>Peak_Out_Reset:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control that resets the peak value of the ouput meter. Its Value must be set to <code>@ResetOutputVU</code>.</li><li><strong>Peak_Out_Text:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control that displays the peak value of the output meter. Its Value must be set to <code>@VUOutMax</code>.</li><li><strong>Peak_Back:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the peak value.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the meter.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="wavetable-noise-selector"><a class="header" href="#wavetable-noise-selector">Wavetable Noise Selector</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#content-locations-for-different-configurations">Content Locations for Different Configurations</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Wavetable-Page.png" alt="Wavetable" /></p>
<h2 id="description-361"><a class="header" href="#description-361">Description</a></h2>
<p>The Wavetable Noise Selector is a preconfigured template that can be used to select sample files for the noise of a Wavetable Zone. The template can be configured with the available <a href="HALion-Macro-Page/pages/Wavetable-Noise-Selector.html#template-parameters">Template Parameters</a>. The Scope parameter determines for which Wavetable Zone the noise selector applies. The Product parameter defines the source folders of the sample files to be displayed in the noise selector. The look of the controls can be adapted freely by changing the components inside the template.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Wavetable Page".</li>
<li>Select "WT Noise Selector" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-16"><a class="header" href="#template-properties-16">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-14"><a class="header" href="#template-parameters-14">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Determines for which Wavetable Zone the noise selector applies. For example, by setting Scope to <code>@0:Zone 1</code> the noise selector applies to the first zone with the name Zone 1 that is found in the Program Tree.</td></tr>
<tr><td style="text-align: left"><strong>Product</strong></td><td style="text-align: left">The Product parameter defines the source folders of the sample files to be displayed in the noise selector. Set this to <code>HALion</code> if you want to load sample files from the default file paths, which includes factory and user sample files. If you wish to deliver your own sample files as part of your library, you can set Product to the name of your instrument, e.g., <code>MyProductName</code>. Thereby, only the sample files for <code>MyProductName</code> will be shown in the noise selector. If Product is set to <code>MyProductName</code>: Then, the sample files must be added to the folder ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>Wavetable/Noises</code></em> inside the VST Sound, otherwise the noise selector will not see these sample files. You can also include both, the HALion root folder and the root folder of your instrument, by setting Product to <code>MyProductName</code>|<code>HALion</code>. The noise selector will then show the content of both locations.</td></tr>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control for displaying a label above the menu.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ If you need further control over the content locations, you can specify the required subfolder together with the Product: <code>MyProductName/MyNoises</code>|<code>HALion/MyNoises</code>. See configuration 4 in the following table.</p>
</blockquote>
<h3 id="content-locations-for-different-configurations-3"><a class="header" href="#content-locations-for-different-configurations-3">Content Locations for Different Configurations</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Product/Content</th><th style="text-align: left">Default File Paths</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><p><strong>Product</strong> = <code>HALion</code></p><p>Only sample files from HALion, including any sample files the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Noises</p></td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code></p><p>Only sample files from the specified library, including any sample files the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Noises</p><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Noises</p></td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code>|<code>HALion</code></p><p>All sample files from HALion, the specified library and any sample files the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Noises</p><p><strong>Hard Disk:</strong><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Noises</p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Noises</p></td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName/MyNoises</code>|<code>HALion/MyNoises</code></p><p>All sample files from HALion, the specified library and any sample files the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Noises/MyNoises</p><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Noises/MyNoises</p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Noises/MyNoises</p></td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The location of the sample files inside the VST Sound must match the path defined by Product, otherwise the noise selector will not see these sample files. If libraries deliver sample files in multiple VST Sounds, all sample files with the same path will be shown together in the noise selector.</p>
</blockquote>
<h2 id="components-inside-the-template-16"><a class="header" href="#components-inside-the-template-16">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Wavetable-Noise-Selector-Template.PNG" alt="Wavetable Noise Selector Template" /></p>
<h3 id="controls-and-subtemplates-16"><a class="header" href="#controls-and-subtemplates-16">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>group WT</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> that contains all necessary elements for the noise selector.<p><strong>group noise:</strong> Another <a href="HALion-Macro-Page/pages/./Group.html">Group</a> that contains:<ul><li><strong>switch select:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control for opening the noise selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</li><li><strong>text:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control for displaying the name of the selected sample file. Its Value must be set to <code>@SubPresetName</code>.</li><li><strong>Back:</strong> An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the name of the sample file.</li></ul></p></td></tr>
<tr><td style="text-align: left"><strong>label</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control for displaying a label above the menu. Its Text property is exported and the default is set to <code>Wavetable Noises</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Macro-Page/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Macro-Page/pages/./HALion-Macro-Page.html">HALion Macro Page</a> / <a href="HALion-Macro-Page/pages/./Templates.html">Templates</a> /</p>
<h1 id="wavetable-selector"><a class="header" href="#wavetable-selector">Wavetable Selector</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#description">Description</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#template-properties">Template Properties</a></li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#template-parameters">Template Parameters</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#content-locations-for-different-configurations">Content Locations for Different Configurations</a></li>
</ul>
</li>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#components-inside-the-template">Components inside the Template</a>
<ul>
<li><a href="HALion-Macro-Page/pages/Wavetable-Selector.html#controls-and-subtemplates">Controls and Subtemplates</a></li>
</ul>
</li>
</ul>
<hr />
<p><img src="HALion-Macro-Page/pages/../images/Wavetable-Page.png" alt="Wavetable" /></p>
<h2 id="description-362"><a class="header" href="#description-362">Description</a></h2>
<p>The Wavetable Selector is a preconfigured template that can be used to select the wavetables for Osc 1 and Osc 2 of the Wavetable Zone. The template can be configured with the available <a href="HALion-Macro-Page/pages/Wavetable-Selector.html#template-parameters">Template Parameters</a>. The Scope parameter determines for which Wavetable Zone the wavetable selector applies. The Product and Load From parameters define the source folders of the wavetables to be displayed in the selector. The Osc parameter determines the oscillator of the Wavetable Zone for which the wavetable selector applies. The look of the controls can be adapted freely by changing the components inside the template.</p>
<p><strong>To explore the functionality and connections:</strong></p>
<ol>
<li>Load the <a href="HALion-Macro-Page/pages/../vstpresets/Init%20Basic%20Controls.vstpreset">Init Basic Controls.vstpreset</a> from the <a href="HALion-Macro-Page/pages/./Exploring-Templates.html#basic-controls">Basic Controls</a> library.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and navigate to "Pages &gt; Wavetable Page".</li>
<li>Select "WT Selector Osc1" or "WT Selector Osc2" and click <strong>Edit Element</strong> <img src="HALion-Macro-Page/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="template-properties-17"><a class="header" href="#template-properties-17">Template Properties</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Poperty</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">The name of the element. This name will be displayed in the GUI Tree.</td></tr>
<tr><td style="text-align: left"><strong>Position/Size</strong></td><td style="text-align: left"><strong>Position X, Position Y, Width, Height:</strong> Position and size of the element in pixels. <strong>Position X/Y</strong> defines the position of the upper left corner.</td></tr>
<tr><td style="text-align: left"><strong>Attach</strong></td><td style="text-align: left">Defines how an element behaves when its parent element is resized. You can set the following parameters: <ul><li><strong>Left:</strong> If the parent element is resized, the element remains attached to left edge, with the specified ratio.</li><li><strong>Right:</strong> If the parent element is resized, the element moves relatively to the right edge, with the specified ratio.</li><li><strong>Top:</strong> If the parent element is resized, the element remains attached to top edge, with the specified ratio.</li><li><strong>Bottom:</strong> If the parent element is resized, the element moves relatively to the bottom edge, with the specified ratio.</li><li><strong>Left + Right:</strong> If the parent element is resized, the element is resized horizontally relatively to the left and right edges, with the specified ratio.</li></td></tr>
<tr><td style="text-align: left"><strong>Tooltip</strong></td><td style="text-align: left">Text that appears as a tooltip when the mouse hovers over the element.</td></tr>
<tr><td style="text-align: left"><strong>Template</strong></td><td style="text-align: left">Determines the template to be referenced.</td></tr>
</tbody></table>
</div>
<h2 id="template-parameters-15"><a class="header" href="#template-parameters-15">Template Parameters</a></h2>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameters</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Scope</strong></td><td style="text-align: left">Determines for which Wavetable Zone the noise selector applies. For example, by setting Scope to <code>@0:Zone 1</code> the noise selector applies to the first zone with the name Zone 1 that is found in the Program Tree.</td></tr>
<tr><td style="text-align: left"><strong>Product</strong></td><td style="text-align: left">The Product parameter defines the root folder of the wavetables to be displayed in the noise selector. Set this to <code>HALion</code> if you want to load wavetables from the default file paths, which includes factory and user wavetables. If you wish to deliver your own wavetables as part of your library, you can set Product to the name of your instrument, e.g., <code>MyProductName</code>. Thereby, only the wavetables for <code>MyProductName</code> will be shown in the noise selector. If Product is set to <code>MyProductName</code>: Then, the sample files must be added to the folder ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>Wavetable/Wavetables</code></em> inside the VST Sound, otherwise the noise selector cannot access these sample files. You can also include both, the HALion root folder and the root folder of your instrument, by setting Product to <code>MyProductName</code>|<code>HALion</code>. The noise selector will then show the content of both locations.</td></tr>
<tr><td style="text-align: left"><strong>Load From</strong></td><td style="text-align: left">Load From specifies the subpath to the location of the wavetables inside the root folder. The root folder is set by Product (see above). You can specify this subfolder freely. However, if you want to see the factory subpresets, Load From must be left empty and Product must contain <code>HALion</code>.<p>Any subpresets you want to distribute with your library must be added to the corresponding location inside the VST Sound. For example, if Load From is set to <code>MyWavetables</code> and Product is set just to <code>MyProductName</code>, the subpresets inside the VST Sound must be located at ./<em><code>MyProductName</code></em>/Sub Presets/<em><code>MyWavetables</code></em>.</p></td></tr>
<tr><td style="text-align: left"><strong>Osc</strong></td><td style="text-align: left">Determines the oscillator of the Wavetable Zone for which the wavetable selector applies. This must be set either to 1 or 2, which refers to Osc 1 or Osc 2 respectively.</td></tr>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control for displaying a label above the menu.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ If you need further control over the content locations, you can specify the required subfolder together with the Product: <code>MyProductName/MyWavetables</code>|<code>HALion/MyWavetables</code>. Load From must not be set in this case. See configuration 4 in the following table.</p>
</blockquote>
<h3 id="content-locations-for-different-configurations-4"><a class="header" href="#content-locations-for-different-configurations-4">Content Locations for Different Configurations</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Configuration/Content</th><th style="text-align: left">Default File Paths</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><p><strong>Product</strong> = <code>HALion</code></p><p><strong>Load From</strong> = <code>MyWavetables</code></p><p>Only wavetables from HALion, including any wavetables the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Wavetables/MyWavetables</p></td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code></p><p><strong>Load From</strong> =  <code>MyWavetables</code></p><p>Only wavetables from the specified library, including any wavetables the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p></td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName</code>|<code>HALion</code></p><p><strong>Load From</strong> =  <code>MyWavetables</code></p><p>All wavetables from HALion, the specified library and any wavetables the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p><p><strong>Hard Disk:</strong><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Wavetables/MyWavetables</p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p></td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left"><p><strong>Product</strong> = <code>MyProductName/MyWavetables</code>|<code>HALion/MyWavetables</code></p><p><strong>Load From</strong> = deactivate, leave empty</p><p>All wavetables from HALion, the specified library and any wavetables the user has saved on hard disk.</p></td><td style="text-align: left"><p><strong>VST Sound:</strong></p><p>./MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p><p><strong>Hard Disk:</strong></p><p>./Documents/Steinberg/HALion/Sub Presets/Wavetable/Wavetables/MyWavetables</p><p>./Documents/Steinberg/MyProductName/Sub Presets/Wavetable/Wavetables/MyWavetables</p></td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ The location of the wavetables inside the VST Sound must match the path defined by Product and Load From, otherwise the wavetable selector cannot access these wavetables. If libraries deliver wavetables in multiple VST Sounds, all wavetables with the same path will be shown together in the wavetable selector.</p>
</blockquote>
<h2 id="components-inside-the-template-17"><a class="header" href="#components-inside-the-template-17">Components inside the Template</a></h2>
<p><img src="HALion-Macro-Page/pages/../images/Wavetable-Selector-Template.PNG" alt="Wavetable Selector Template" /></p>
<h3 id="controls-and-subtemplates-17"><a class="header" href="#controls-and-subtemplates-17">Controls and Subtemplates</a></h3>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Item</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>group</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Group.html">Group</a> that contains all necessary elements for the noise selector.<ul><li><strong>switch select:</strong> A <a href="HALion-Macro-Page/pages/./Switch.html">Switch</a> control for opening the wavetable selector. Its Value must be set to <code>@SubPresetSelectPopup</code>.</li><li><strong>text:</strong> A <a href="HALion-Macro-Page/pages/./Text.html">Text</a> control for displaying the name of the selected wavetable. Its Value must be set to <code>@WavetableName</code>.</li></ul></td></tr>
<tr><td style="text-align: left"><strong>Back</strong></td><td style="text-align: left">An <a href="HALion-Macro-Page/pages/./Image.html">Image</a> control that provides the background bitmap for the name of the sample file.</td></tr>
<tr><td style="text-align: left"><strong>label</strong></td><td style="text-align: left">A <a href="HALion-Macro-Page/pages/./Label.html">Label</a> control for displaying a label above the menu. Its Text property is exported and the default is set to <code>Wavetable</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> /</p>
<h1 id="halion-tutorials--guidelines"><a class="header" href="#halion-tutorials--guidelines">HALion Tutorials &amp; Guidelines</a></h1>
<h2 id="getting-started-2"><a class="header" href="#getting-started-2">Getting Started</a></h2>
<p>This section provides general information about HALion Libraries and how to create instruments.</p>
<h2 id="tutorials"><a class="header" href="#tutorials">Tutorials</a></h2>
<p>The tutorials explain common techniques and best practices for building your instruments.</p>
<h2 id="how-tos"><a class="header" href="#how-tos">How-tos</a></h2>
<p>In this section your find short examples focusing on a specific task.</p>
<h2 id="guidelines"><a class="header" href="#guidelines">Guidelines</a></h2>
<p>In this section you find Steinberg's guidelines for creating libraries and many details on how to build your own instruments that work in HALion Sonic.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> /</p>
<h1 id="getting-started-3"><a class="header" href="#getting-started-3">Getting Started</a></h1>
<p>This section provides general information about HALion Libraries and how to create instruments.</p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/./HALion-Libraries.html">HALion Libraries</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Creating-Instruments.html">Creating Instruments</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Exploring-the-Tutorials-and-How-tos.html">Exploring the Tutorials and How-tos</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="halion-libraries"><a class="header" href="#halion-libraries">HALion Libraries</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/HALion-Libraries.html#defining-your-target-users">Defining Your Target Users</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HALion-Libraries.html#library-creation-process">Library Creation Process</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/HALion-Libraries.html#library-creation-workflow">Library Creation Workflow</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HALion-Libraries.html#library-creation-flowchart">Library Creation Flowchart</a></li>
</ul>
</li>
</ul>
<hr />
<p>HALion allows you to create your own libraries and distribute them as VST Sound files. VST Sound is a Steinberg file format that can be compared to ZIP or ISO files, for example. It contains a file structure with folders and files. The <strong>Library Manager</strong> allows you to manage the VST Sound files of a library on your computer and to register them to the <strong>MediaBay</strong>. Once a VST Sound file is registered in the <strong>MediaBay</strong>, it is mounted, and all compatible Steinberg products can access the folders and files within it. For more details regarding the <strong>Library Manager</strong>,  see <a href="https://steinberg.help/vst-manuals/library-manager/">steinberg.help / VST Manuals / Library Manager</a>.</p>
<p>HALion libraries incorporate many source files, such as presets, samples, macro pages, MIDI modules, scripts, and sub presets. The <strong>Library Creator</strong> allows you to write VST Sound files that contain all the necessary source files of a library. A library can be created as a single VST Sound file or as a combination of VST Sound files. For example, you might want to put the presets into one VST Sound file and the samples into another. For more details on using the <strong>Library Creator</strong>, see <a href="https://steinberg.help/halion/v7/en/halion/topics/library_creator/library_creator_c.html">steinberg.help / HALion 7 / Library Creator</a>.</p>
<h2 id="defining-your-target-users"><a class="header" href="#defining-your-target-users">Defining Your Target Users</a></h2>
<p>The HALion family consists of the plug-ins HALion and HALion Sonic. HALion allows you to create libraries for both plug-ins.</p>
<p>Before you create a library, you must decide who your target users or customers are and in which plug-in you want the library to work. Please note the following:</p>
<ul>
<li>HALion Sonic has restrictions regarding the program structure. The number of instrument layers is limited to four and certain MIDI modules are always needed. HALion does not have these restrictions.</li>
<li>HALion Sonic libraries are compatible with HALion. HALion libraries are only compatible with HALion.</li>
</ul>
<p>You could build a library that only HALion users can use, which gives you the freedom to build a program with a different structure, for example. However, this limits the number of potential users.</p>
<p>Most often, you will probably want to build your library so that it works with HALion Sonic, which means that it can be used by everybody. HALion Sonic is freely available for download on the Steinberg website.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Plug-in</th><th style="text-align: left">Description</th><th style="text-align: left">Compatibility</th></tr></thead><tbody>
<tr><td style="text-align: left">HALion</td><td style="text-align: left">HALion libraries have no restrictions.</td><td style="text-align: left">HALion</td></tr>
<tr><td style="text-align: left">HALion Sonic</td><td style="text-align: left">HALion Sonic libraries have restrictions regarding the program structure. The number of instrument layers is limited to four and certain MIDI modules are always needed. See <a href="HALion-Tutorials-Guidelines/pages/./Creating-Instruments.html#halion-sonic-program-structure">HALion Sonic Program Structure</a> for details.</td><td style="text-align: left">HALion, HALion Sonic</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ In previous versions of HALion Sonic (&lt; 3.2) the maximum size of the macro page was limited to 595 x 390 pixels. The versions 3.2 and higher do not have this restiction. The macro page can be of any reasonable size.</p>
</blockquote>
<h2 id="library-creation-process"><a class="header" href="#library-creation-process">Library Creation Process</a></h2>
<h3 id="library-creation-workflow"><a class="header" href="#library-creation-workflow">Library Creation Workflow</a></h3>
<p>To build a library that works in HALion Sonic, proceed as follows:</p>
<ol>
<li><strong>Build the instrument in HALion.</strong> In this step, you add sublayers and samples, adjust the mapping, write scripts, build the macro page, etc. When creating the macro page, you must select <strong>Create HALion Sonic Macro Page</strong>. This creates a canvas with the default size for the HALion Sonic macro page. While working in HALion, the instrument is saved as Program preset.</li>
<li><strong>Export the program as HALion Sonic Layer preset.</strong> This step makes it possible to load the instrument you created in HALion as a Layer in HALion Sonic.</li>
<li><strong>Load the exported Layer in HALion Sonic.</strong> In this step, you should test your instrument thoroughly. If you find issues, you need to go back to the original HALion Program preset from step 1 and correct whatever you found. Then, you must export the instrument again as HALion Sonic Layer preset, load it in HALion Sonic, test it, etc. This is an iterative process. Once your instrument is set up correctly and works the way you want it, you can move on to the next step.</li>
<li><strong>Load the Layer in HALion Sonic and do the sound design.</strong> In this step, you tweak parameters on the macro page, add effects on the <strong>Inserts</strong> tab, assign quick controls, etc. You can even load more than one layer of your instrument and adjust the parameters on the <strong>Program</strong> tab. The macro pages of the Layers can be accessed in HALion Sonic via the L1 to L4 tabs.</li>
<li><strong>Save the sound as HALion Sonic Program.</strong> In this step, you should set the MediaBay tags.</li>
<li><strong>In the Library Creator, build your VST Sound file(s) as HALion Sonic library.</strong> The HALion Sonic presets and all the necessary source files of the library are written into the VST Sound files.</li>
</ol>
<p>Regarding the steps above, designing a library can be divided into three phases:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Phase</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">I.</td><td style="text-align: left">The main part of the work usually happens in step 1.</td></tr>
<tr><td style="text-align: left">II.</td><td style="text-align: left">Steps 2 through 5 are mainly testing and sound design.</td></tr>
<tr><td style="text-align: left">III.</td><td style="text-align: left">Step 6 is the final step, just before the release.</td></tr>
</tbody></table>
</div>
<h3 id="library-creation-flowchart"><a class="header" href="#library-creation-flowchart">Library Creation Flowchart</a></h3>
<p>This flowchart shows the complete library creation process from start to end.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Library-Creation-Process.png" alt="Library Creation process" /></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="creating-instruments"><a class="header" href="#creating-instruments">Creating Instruments</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#halion-program-structure">HALion Program Structure</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#halion-sonic-requirements">HALion Sonic Requirements</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#halion-sonic-program-structure">HALion Sonic Program Structure</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#final-sound-design">Final Sound Design</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#correcting-settings">Correcting Settings</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#using-export-program-as-vst3-preset">Using Export Program as VST3 Preset...</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#using-halion-sonic-edit-mode">Using HALion Sonic Edit Mode</a></li>
</ul>
</li>
</ul>
<hr />
<p>This page provides you with more details on how to build instruments in HALion that work in HALion Sonic, why you must export them as HALion Sonic layer preset, and why you should do the final sound design in HALion Sonic.</p>
<p>HALion Sonic has one compact, easy-to-use interface, as opposed to HALion, which has a much more advanced interface that is fully customizable. HALion Sonic's streamlined interface hides any parameters of HALion that are not needed for a VST workstation. Apart from the visible differences on the interface, there are also differences in the program structure between HALion Sonic and HALion. The program structure of the instrument that you build in HALion must fulfill several requirements in order to work in HALion Sonic.</p>
<h2 id="halion-program-structure"><a class="header" href="#halion-program-structure">HALion Program Structure</a></h2>
<p>Libraries usually contain instruments that are designed for a special purpose.</p>
<p>A typical instrument consists of the following:</p>
<ul>
<li>Several zones organized in layers.</li>
<li>A macro page that gives access to the most important parameters.</li>
<li>A Lua Script MIDI module and/or other MIDI modules.</li>
<li>A bus and insert effects.</li>
</ul>
<p>The program structure of your instrument in the <strong>Program Tree</strong> of HALion might look as simple as this:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/HALion-Program-Structure.png" alt="HALion Program Structure" /></p>
<h2 id="halion-sonic-requirements"><a class="header" href="#halion-sonic-requirements">HALion Sonic Requirements</a></h2>
<p>The program structure of your instrument must fulfill the following requirements to work in HALion Sonic:</p>
<ul>
<li>The macro page must be attached to the top element in the <strong>Program Tree</strong>. In the example above, this would be the element Instrument. HALion Sonic cannot access the macro page if it is not attached to the top element.</li>
</ul>
<blockquote>
<p>❕ In previous versions of HALion Sonic (&lt; 3.2) the maximum size of the macro page was limited to 595 x 390 pixels. The versions 3.2 and higher do not have this restiction. The macro page can be of any reasonable size.</p>
</blockquote>
<ul>
<li>The voice management of the top element in the <strong>Program Tree</strong> must be activated. In the example above, the top element would be the element "Instrument". The Polyphony setting for each layer on HALion Sonic's <strong>Program</strong> tab will not work if the voice management is not activated.</li>
</ul>
<blockquote>
<p>❕ When activating the voice management, the Polyphony and Key Polyphony should be set to values that match your instrument. The following values have proven to be useful for many instruments: Polyphony = 16 and Key Polyphony = 4.</p>
</blockquote>
<ul>
<li>The last element in the <strong>Program Tree</strong> must be one bus with a maximum of four insert effects. In the example above, this would be the element Instrument-Bus. There must be only one bus at the top level. Several busses at the top level are not allowed. The maximum number of insert effects per Layer in HALion Sonic is limited to four. The insert effects are optional. In the example above, the Instrument-Bus does not have any insert effects. In fact, it is good practice to leave the bus empty in HALion and assign the insert effects later on the Inserts tab in HALion Sonic.</li>
</ul>
<blockquote>
<p>❕ HALion Sonic does not accept layer presets that do not match the requirements. When exporting a program as HALion Sonic layer preset, please activate <strong>Verify HALion Sonic Layer Structure</strong>. By activating this option, HALion will warn you if the program structure does not meet the requirements.</p>
</blockquote>
<p>The following elements can be added freely to the program structure:</p>
<ul>
<li>You can add as many sublayers and zones as you want.</li>
<li>You can place MIDI modules below the top element or inside of sublayers as needed.</li>
<li>You can add additional busses with insert effects inside of sublayers. These effects become an integral part of your instrument. To adjust the effect, you must add controls on the macro page and connect them to the effect parameters.</li>
</ul>
<p>The following picture shows the instrument from the previous example, with an additional bus and insert effect.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/HALion-Program-Structure-with-Effect.png" alt="Program Structure with Effect" /></p>
<p>If you follow these guidelines, your instrument will be compatible with HALion Sonic:</p>
<ul>
<li>Except for the topmost and the last element in the <strong>Program Tree</strong>, the program structure can be set up as needed for your instrument.</li>
<li>Inside the "Instrument" element, you are free to add any element you want.</li>
<li>You must set up a macro page that provides access to the important parameters. The macro page must be attached to the topmost element.</li>
<li>The "Instrument-Bus" is already part of the HALion Sonic program structure. You can assign up to four insert effects to it.</li>
</ul>
<h2 id="halion-sonic-program-structure"><a class="header" href="#halion-sonic-program-structure">HALion Sonic Program Structure</a></h2>
<p>When you design your instrument in HALion, it is created as a program and saved as VST3 program preset. The final sound design is usually done in HALion Sonic. However, before you can load your instrument in HALion Sonic, you must export it as HALion Sonic layer preset. The export in HALion Sonic format allows you to load and test your instrument in HALion Sonic.</p>
<p>To export the program as HALion Sonic layer preset:</p>
<ol>
<li>In HALion in the <strong>Program Tree</strong>, right-click the top-most element and select <strong>Import/Export &gt; Export Program as VST3 Preset...</strong></li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Export-HS-Layer-Preset.png" alt="Export HS Layer Preset" /></p>
<ol start="2">
<li>Choose a location and a file name.</li>
<li>Activate the options <strong>Export as HALion Sonic Layer</strong> and <strong>Verify HALion Sonic Layer Structure</strong>.</li>
<li>Finally, click <strong>OK</strong>.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Export-HS-Layer-Preset-Dialog.png" alt="Export HS Layer Preset Dialog" /></p>
<p>The layout of HALion Sonic's interface and features requires specific MIDI modules and busses. When you load a layer preset in HALion Sonic, any missing MIDI modules, busses, etc. that are required for HALion Sonic to operate are automatically added. For example, if the Instrument-Bus was missing in the example above, HALion Sonic would add this bus when loading the layer preset, because it is needed for the Inserts tab in HALion Sonic.</p>
<p>The following image shows the program structure of the example instrument after these steps:</p>
<ul>
<li>In HALion, export the instrument with <strong>Export Program as VST3 Preset...</strong></li>
<li>Load the exported Layer in HALion Sonic and save it as program preset.</li>
<li>Load this program preset in HALion.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Internal-HS-Program-Structure.png" alt="Internal HS Program Structure" /></p>
<p>The Trigger Pads, two FlexPhrasers and a Program-Bus were added, because HALion Sonic requires them.</p>
<blockquote>
<p>❕ If you load a program preset from HALion Sonic in HALion, do not export the program preset as HALion Sonic layer preset again. If you do so and load this preset in HALion Sonic, the MIDI modules will be added again and the preset will not be compatible anymore. You must use <strong>HALion Sonic Edit Mode</strong> instead. See <a href="HALion-Tutorials-Guidelines/pages/Creating-Instruments.html#using-halion-sonic-edit-mode">Using HS Edit Mode</a> for details.</p>
</blockquote>
<p>Once your instrument is set up, the final sound design can start.</p>
<h2 id="final-sound-design"><a class="header" href="#final-sound-design">Final Sound Design</a></h2>
<p>The exported HALion Sonic layer preset usually serves as your init preset for the final sound design in HALion Sonic.</p>
<p>Finalizing sound design in HALion Sonic has the following advantages:</p>
<ul>
<li>The required elements are added automatically.</li>
<li>You have access to the <strong>Program</strong> tab, which allows you to combine up to four instruments, for example.</li>
<li>You have access to the <strong>Inserts</strong> tab, which allows you to assign insert effects to the layers and the program.</li>
<li>Additional parameters from HALion are hidden and cannot be adjusted by mistake.</li>
</ul>
<p>After the sound design, you can save your final sound as HALion Sonic program preset. In this step, you should tag your presets in the <strong>MediaBay</strong>. See the <a href="HALion-Tutorials-Guidelines/pages/./MediaBay-Guideline.html">MediaBay Guideline</a> for more details.</p>
<p>It is recommended to save your sounds as program presets rather than HALion Sonic layer presets, because Steinberg users mainly use the <strong>Program</strong> filter when browsing for presets in the <strong>MediaBay</strong>.</p>
<p>Finally, in HALion's <strong>Library Creator</strong>, add your presets to a VST Sound and choose to build your HALion Sonic library.</p>
<h2 id="correcting-settings"><a class="header" href="#correcting-settings">Correcting Settings</a></h2>
<p>To correct settings in your instrument, choose one of the two following ways:</p>
<h3 id="using-export-program-as-vst3-preset"><a class="header" href="#using-export-program-as-vst3-preset">Using Export Program as VST3 Preset...</a></h3>
<p>If you need to correct settings in the phase of testing your instrument in HALion Sonic and if you have not performed any serious sound design or saved further presets yet:</p>
<ol>
<li>Go back to the original HALion program preset of your instrument.</li>
<li>Correct the settings as required and your modifications to the original HALion program preset.</li>
<li>Export the instrument again as HALion Sonic layer preset.</li>
</ol>
<h3 id="using-halion-sonic-edit-mode"><a class="header" href="#using-halion-sonic-edit-mode">Using HALion Sonic Edit Mode</a></h3>
<p>If you need to correct settings in the phase of sound design and you already created HALion Sonic program presets:</p>
<ol>
<li>Load the HALion Sonic program preset of your instrument. <strong>HALion Sonic Edit Mode</strong> will be activated. This ensures that you cannot accidentally change the program structure that is required by HALion Sonic.</li>
</ol>
<blockquote>
<p>❕ Do not deactivate <strong>HALion Sonic Edit Mode</strong>, it cannot be activated manually.</p>
</blockquote>
<ol start="2">
<li>Correct the settings as required and save the program preset. If <strong>HALion Sonic Edit Mode</strong> is active, the preset will be saved in the HALion Sonic preset format.</li>
</ol>
<p><strong>HALion Sonic Edit Mode</strong> can be switched off permanently with the corresponding setting on the <strong>Options</strong> page. When loading HALion Sonic program presets, <strong>HALion Sonic Edit Mode</strong> will only be activated if the setting on the <strong>Options</strong> page is activated. See <a href="https://steinberg.help/halion/v7/en/halion/topics/global_functions_and_settings/options_editor_edit_section_r.html">HALion Sonic Edit Mode</a> for details.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Getting-Started.html">Getting Started</a> /</p>
<h1 id="exploring-the-turorials-and-how-tos"><a class="header" href="#exploring-the-turorials-and-how-tos">Exploring the Turorials and How-tos</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Exploring-the-Tutorials-and-How-tos.html#using-the-example-vst-presets">Using the Example VST Presets</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Exploring-the-Tutorials-and-How-tos.html#using-the-example-macro-pages">Using the Example Macro Pages</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Exploring-the-Tutorials-and-How-tos.html#accessing-the-code-examples">Accessing the Code Examples</a></li>
</ul>
<hr />
<p>Many of the tutorials and how-tos provide downloadable VST presets, either as starting point or as fully working example for the introduced topic.</p>
<blockquote>
<p>❕ The minimum version for using the example VST presets is HALion 6.3.</p>
</blockquote>
<h2 id="using-the-example-vst-presets"><a class="header" href="#using-the-example-vst-presets">Using the Example VST Presets</a></h2>
<p>It is recommended to import the VST preset to the user presets folder.</p>
<ol>
<li>Right-click the link to the VST preset and download it.</li>
<li>Open the download location and drag the preset to HALion's <strong>MediaBay</strong>. This will import the VST preset to the user presets folder.</li>
<li>Go to the <strong>MediaBay</strong>, use the <strong>Library Selector</strong> to select <strong>HALion Tutorials</strong> or <strong>HALion How-tos</strong>.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Select-Content-Set.png" alt="Select Content Set" /></p></li>
<li>In the <strong>MediaBay</strong>, set the <strong>Preset Type</strong> pop-up menu to <strong>Programs</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Program-Filter.png" alt="Program Filter" />  and activate the <strong>User Content</strong> button and deactivate the <strong>Factory Content</strong> button so that only the user content is shown. <img src="HALion-Tutorials-Guidelines/pages/../images/User-Content.png" alt="User Content" />.</li>
<li>Drag the preset from the result list to the <strong>Slot Rack</strong>.</li>
</ol>
<p>If you do not want to import the VST preset to the user presets folder, simply drag it from the download location to the <strong>Slot Rack</strong>.</p>
<h2 id="using-the-example-macro-pages"><a class="header" href="#using-the-example-macro-pages">Using the Example Macro Pages</a></h2>
<p>The example VST presets come with a basic macro page.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/How-tos-Macro-Page.png" alt="How-tos Macro Page" /></p>
<p>The functionality is as follows:</p>
<ul>
<li>The title in the top left tells you if the VST preset belongs to a tutorial or a how-to.</li>
<li>A click on the Steinberg logo brings you to the <a href="https://www.steinberg.net/">Steinberg</a> website.</li>
<li>The title in the middle tells you the topic the VST preset belongs to. Click this title to open the accompanying page.</li>
<li>The lower area often contains controls to try out the described functionality.</li>
</ul>
<h2 id="accessing-the-code-examples"><a class="header" href="#accessing-the-code-examples">Accessing the Code Examples</a></h2>
<p>We recommend to read the accompanying page while examining the example VST Preset. This page usually lists MIDI Scripts or UI Scripts, or both. You find the scripts in the VST preset as follows:</p>
<p><strong>MIDI Scripts</strong> can be found in the Lua Script MIDI module.</p>
<ul>
<li>Go to the <strong>Program Tree</strong>, select the Lua Script MIDI module and open the internal script editor.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/MIDI-Script-in-Lua-Script-MIDI-Module.png" alt="MIDI Script in Lua Script MIDI Module" /></p>
<p><strong>UI Scripts</strong> can be found in the Macro Page Designer.</p>
<ul>
<li>Go to the <strong>Macro Page Designer</strong> and open the internal script editor of the macro page.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/UI-Script-in-Macro-Page-Designer.png" alt="UI Script in Macro Page Designer.png" /></p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> /</p>
<h1 id="tutorials-1"><a class="header" href="#tutorials-1">Tutorials</a></h1>
<p>The tutorials explain common techniques and best practices for building your instruments. By following the instructions step by step you will learn important workflows and skills that make your sound designer life easier.</p>
<blockquote>
<p>❕ The minimum version for working through the tutorials is HALion 6.3.</p>
</blockquote>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/./Creating-a-Template-List.html">Creating a Template List</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Using-Attribute-Rules.html">Using Attribute Rules</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Using-Relative-Paths.html">Using Relative Paths</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Using-Velocity-Crossfades.html">Using Velocity Crossfades</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Working-with-Exported-Properties.html">Working with Exported Properties</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="creating-a-template-list"><a class="header" href="#creating-a-template-list">Creating a Template List</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#overview-of-workflows">Overview of Workflows</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#creating-a-basic-template-list">Creating a Basic Template List</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#adding-functionality">Adding Functionality</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#setting-the-scope-for-controls-outside-the-template-list">Setting the Scope for Controls outside the Template List</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#using-ui-script-parameters-instead-of-ui-variables">Using UI Script Parameters Instead of UI Variables</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#example">Example</a></li>
</ul>
</li>
</ul>
<hr />
<p><a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template Lists</a> are versatile and powerful tools for creating controls with repeating elements, such as an effects rack with multiple slots, or a list of articulations that share a set of parameters. The main concept behind <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template Lists</a> is based on creating repeating controls from a single template that is referenced and instantiated multiple times. Similar to programming, where for-loops can save many lines of code, <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template Lists</a> save you from creating many individual templates. This tutortial describes the creation of a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a> step by step. The example preset already contains the solution. For a better understanding, we recommend that you follow all the steps, as described below.</p>
<h2 id="example-vst-preset"><a class="header" href="#example-vst-preset">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Creating%20a%20Template%20List.vstpreset">Creating a Template List.vstpreset</a></li>
</ul>
<h2 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h2>
<ol>
<li>Create a program with a synth zone. The simplest way to do this is to open the HALion Home Screen and to select <strong>Create</strong>&gt;<strong>Analog Synth</strong>.</li>
<li>Open the <strong>Macro Page Designer</strong> and click <strong>Create New Macro Page/Library</strong>.</li>
</ol>
<h2 id="overview-of-workflows"><a class="header" href="#overview-of-workflows">Overview of Workflows</a></h2>
<ul>
<li>Add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a> control.</li>
<li>Create a template for the entries of the list.</li>
<li>Add controls to the template and export the desired values as template parameters.</li>
<li>Create variables for the desired entries in the list and connect them to the corresponding template parameters.</li>
</ul>
<h2 id="creating-a-basic-template-list"><a class="header" href="#creating-a-basic-template-list">Creating a Basic Template List</a></h2>
<p>This first part of the tutorial illustrates only the creation of a basic template list without adding any further functionality.</p>
<ol>
<li>In the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and create a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a>. Name it 'BasicList', for example.</li>
<li>Go to the <strong>Templates Tree</strong> and create a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template.html">Template</a>. Name it 'RowEntry'.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to open the template.</li>
<li>Add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> and a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Decor-Control.html">Decor</a> control. The look of an entry is defined by the properties of the controls inside the template. Adjust the size and other properties of the controls as desired.</li>
<li>Select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control and go to the <strong>Properties</strong> editor. For a better overview, activate <strong>Show Properties as Column</strong>.</li>
<li>Next to the Text property, click <strong>Export Property</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" /> to export it.<p>If the Text property is not shown, use the scroll bars to locate the parameter.</p><p>The exported Text property becomes a template parameter of the BasicList template list.</p></li>
<li>It's helpful to rename the exported Text property. Select RowEntry and go to the Template Parameter section of the <strong>Properties</strong> editor. Change the name of the exported Text property to 'Name'.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-RowName.png" alt="Creating a Template List RowEntry RowName" /></p></li>
<li>Close the template and go back to the to the <strong>GUI Tree</strong>. Select the BasicList item, go to the <strong>Properties</strong> editor and set Template to 'RowEntry'.</li>
<li>Create a Variables folder, right-click it and create a String List variable. Name it 'RowNames'.</li>
<li>Select the String List variable, go to the <strong>Properties</strong> editor and create entries for each row that you want to display. Name the entries 'Zone 1', 'Zone 2', and 'Zone 3'.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowNames-Variable.png" alt="Creating a Template List RowNames Variable" /></p></li>
<li>Select the BasicList item, go to the <strong>Properties</strong> editor and set the Name template parameter to '@RowNames'. The list entries that you defined in step 9 should now be displayed with the look that you defined in step 4.</li>
<li>Adjust the position and size of the BasicList template list, if needed.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-BasicList.png" alt="Creating a Template List BasicList" /></p></li>
</ol>
<h2 id="adding-functionality"><a class="header" href="#adding-functionality">Adding Functionality</a></h2>
<p>In this part of the tutorial, the variables Focus Var and Index Var of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a> will be used to highlight the selected row and to display the row index. We will also add two more synth zones to the program and further controls to the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a> for adjusting these zones. The synth zones are only used as substitutes for the different articulations of an instrument, which are normally provided by different layers with samples for each articulation.</p>
<blockquote>
<p>❕ To follow the subsequent steps, <a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#creating-a-basic-template-list">Creating a Basic Template List</a> must be completed first.</p>
</blockquote>
<ol>
<li>Go to the <strong>Program Tree</strong> and add two more synth layers.</li>
<li>Open the <strong>Zone Editor</strong> and got to the <strong>Oscillator</strong> section, then switch off all oscillators except oscillator 1. Do this for all three zones. Choose different waveforms for oscillator 1 in each of the three zones.</li>
<li>Open the <strong>Macro Page Designer</strong>, select the BasicList template list and go to the <strong>Properties</strong> editor. Set Focus Var to 'RowFocus' and Index Var to 'RowIndex'. These two variables will be used later inside the RowEntry template to highlight the selected row and to display the row index.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowFocus-RowIndex.png" alt="Creating a Template List RowFocus RowIndex" /></p></li>
<li>Select the Variables folder and create a String List variable. Name it 'ZoneMute'. Go to the <strong>Properties</strong> editor and create the following entries: '@0:Zone 1/@id:66', '@0:Zone 2/@id:66', and '@0:Zone 3/@id:66'. The ZoneMute variable will be used later inside the RowEntry template to control the mute state of the focused zone.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-ZoneMute.png" alt="Creating a Template List ZoneMute" /></p></li>
<li>Create another String List variable and name it 'ZoneCoarse'. Go to the <strong>Properties</strong> editor and create the following entries: '@0:Zone 1/@id:330002', '@0:Zone 2/@id:330002', and '@0:Zone 3/@id:330002'. The ZoneCoarse variable will be used later inside the RowEntry template to control the Coarse parameter of the oscillator of the focused zone.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-ZoneCoarse.png" alt="Creating a Template List ZoneCoarse" /></p></li>
<li>Create one more String List variable and name it 'ZoneLevel'. Go to the <strong>Properties</strong> editor and create the following entries: '@0:Zone 1/@id:320001', '@0:Zone 2/@id:320001', and '@0:Zone 3/@id:320001'. The ZoneLevel variable will be used later inside the RowEntry template to control the level of the focused zone.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-ZoneLevel.png" alt="Creating a Template List ZoneLevel" /></p></li>
<li>Go to the <strong>Templates Tree</strong>, select the RowEntry template and click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to open it.</li>
<li>Add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control and name it 'RowIndex'. Position it before the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control that displays the row names. Set the Value to '@RowIndex'. Now, the index number of the row should be shown in the list.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-RowIndex.png" alt="Creating a Template List ZoneLevel" /></p></li>
<li>Create a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Stack.html">Stack</a> control and drag the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Decor-Control.html">Decor</a> control into it. Rename the decor to 'DecorOff'. Copy the decor and rename it to 'DecorOn'. Go to the <strong>Properties</strong> editor and change the color of the DecorOn control to fully white. Select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Stack.html">Stack</a> control and set its Value property to '@RowFocus'. Now, a row is highlighted when you click it.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-Stack.png" alt="Creating a Template List RowEntry Stack" /></p></li>
<li>Add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control and set Mode to 'onoff'. Assign bitmaps for the different states of the switch. Alternatively, you can use a preconfigured switch template from the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> library. Postition the switch between the RowIndex and the RowName controls. Next to the Value property, click <strong>Export Property</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" /> to export it. Select RowEntry and change the name of the exported Value property to 'Mute'.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-Switch.png" alt="Creating a Template List RowEntry Switch" /></p></li>
<li>Add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control and name it 'CoarseVal'. Postition the control after the RowName control. Next to the Value property, click <strong>Export Property</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" /> to export it. Select RowEntry and change the name of the exported Value property to 'Coarse'.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-CoarseVal.png" alt="Creating a Template List RowEntry CoarseVal" /></p></li>
<li>Add another <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control and name it 'LevelVal'. Postition the control after the CoarseVal control. Next to the Value property, click <strong>Export Property</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" /> to export it. Select RowEntry and change the name of the exported Value property to 'Level'.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-RowEntry-LevelVal.png" alt="Creating a Template List RowEntry LevelVal" /></p></li>
<li>Close the RowEntry template and go back to the <strong>GUI Tree</strong>. Select the BasicList item, go to the <strong>Properties</strong> editor and set the Template Parameters as follows: Set 'Mute' to '@ZoneMute', 'Coarse' to '@ZoneCoarse', and 'Level' to '@ZoneLevel'. Now, the rows will show the values of the connected parameters of the corresponding zones.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-BasicList-Template-Parameter.png" alt="Creating a Template List BasicList Template Parameter" /></p></li>
</ol>
<blockquote>
<p>❕ The <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Stack.html">Stack</a> from step 9 can contain further controls which change the appearance of a row completely, e.g., <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> and <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> controls with different colors, etc. For them to display the same parameters, their exported Value properties must share the same name.</p>
</blockquote>
<h2 id="setting-the-scope-for-controls-outside-the-template-list"><a class="header" href="#setting-the-scope-for-controls-outside-the-template-list">Setting the Scope for Controls outside the Template List</a></h2>
<p>This last part of the tutorial describes how to use a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a> for managing a common set of controls for different zones, or for the different articulations of an instrument, for example. The common controls exist only once and are not part of the template list. The focus of the template list is used to switch the scope of these controls, which connects them to the corresponding zone, or layer of an articulation.</p>
<blockquote>
<p>❕ To follow the subsequent steps, <a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#creating-a-basic-template-list">Creating a Basic Template List</a> and <a href="HALion-Tutorials-Guidelines/pages/Creating-a-Template-List.html#adding-functionality">Adding Functionality</a> must be completed beforehand.</p>
</blockquote>
<ol>
<li>Open the <strong>Macro Page Designer</strong>, select the Variables folder and create a String List variable. Name it 'ZoneList'. Go to the <strong>Properties</strong> editor and create the following entries: '@0:Zone 1/', '@0:Zone 2/', and '@0:Zone 3/'. The ZoneList variable will be used later to set the focus for a set of common controls.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-ZoneList-Variable.png" alt="Creating a Template List ZoneList Variable" /></p></li>
<li>Create a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Group.html">Group</a> and set the Scope property to '@ZoneList'.</li>
<li>Add two knobs from the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> library to the group, one for the Coarse and one for the Level parameter of the zones. Set the Value property of the Coarse knob to '@id:330002' and the Value property of the Level knob to '@id:320001'. Name the labels of the knobs 'Coarse' and 'Level', respectively.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-Group.png" alt="Creating a Template List Group" /></p></li>
<li>Select the BasicList template list and set its Value property also to '@ZoneList'. Now, the scope of the knob controls is determined by the focused row in the template list.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-BasicList-ZoneList.png" alt="Creating a Template List BasicList ZoneList" /></p></li>
<li>Finally, create four <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> controls, name them 'Mute', 'Name', 'Coarse', and 'Level', and place them above the corresponding columns of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a>.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-Labels.png" alt="Creating a Template List Labels" /></p></li>
</ol>
<h2 id="using-ui-script-parameters-instead-of-ui-variables"><a class="header" href="#using-ui-script-parameters-instead-of-ui-variables">Using UI Script Parameters Instead of UI Variables</a></h2>
<p>Instead of using UI Variables for defining the entries of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a>, you can use a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Script/pages/Creating-Parameters.html#parameter-characteristics">string list parameter</a> that you have defined in a UI script.</p>
<ol>
<li>Create a UI script and define a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Script/pages/Creating-Parameters.html#parameter-characteristics">string list parameter</a>.</li>
<li>Connect the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Script/pages/Creating-Parameters.html#parameter-characteristics">string list parameter</a> with the corresponding template parameter of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template-List.html">Template List</a>.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Creating-a-Template-List-UI-Script.png" alt="Creating a Template List UI Script" /></p>
<h3 id="example-308"><a class="header" href="#example-308">Example</a></h3>
<pre><code class="language-lua">rowsList = {}

for i = 1, 4 do
	rowsList[i] = "Zone "..tostring(i)
end

defineParameter("RowNames", nil, 1, rowsList)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Tutorials.html">Tutorials</a> /</p>
<h1 id="using-attribute-rules"><a class="header" href="#using-attribute-rules">Using Attribute Rules</a></h1>
<p><span class="version-text">(Since HALion 7.1.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#mediabay-attributes">MediaBay Attributes</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#attribute-rules">Attribute Rules</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#attribute-rule">Attribute Rule</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#prerequisite">Prerequisite</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#adding-an-attribute-rules-node">Adding an Attribute Rules Node</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#creating-an-attribute-rule">Creating an Attribute Rule</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#setting-attribute-rule-properties">Setting Attribute Rule Properties</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#attribute-property">Attribute Property</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#operation-property">Operation Property</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#investigating-errors">Investigating Errors</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#about-the-scope-of-an-attribute-rule">About the Scope of an Attribute Rule</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#creating-additional-attribute-rules">Creating Additional Attribute Rules</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#assigning-a-subset-of-attribute-rules">Assigning a Subset of Attribute Rules</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#attribute-rules-for-other-media-types">Attribute Rules for Other Media Types</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#attribute-rules-presets">Attribute Rules Presets</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#saving-attribute-rules">Saving Attribute Rules</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#loading-attribute-rules">Loading Attribute Rules</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#deleting-attribute-rules">Deleting Attribute Rules</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#example">Example</a></li>
</ul>
<hr />
<h2 id="mediabay-attributes-1"><a class="header" href="#mediabay-attributes-1">MediaBay Attributes</a></h2>
<p>MediaBay attributes are a quick and easy way to browse and search presets. Attributes are descriptive keywords that you can assign to your presets. Good search results in the MediaBay are highly dependent on correctly set attributes. With a large number of presets, it can be difficult to verify that MediaBay attributes are correct. The Library Creator provides features that allow you to set, delete or check MediaBay attributes during library creation.</p>
<h2 id="attribute-rules"><a class="header" href="#attribute-rules">Attribute Rules</a></h2>
<p><strong>Attribute Rules</strong> is a special node that can be added to a VST Sound in the <strong>Structure</strong> section. Within the <strong>Attribute Rules</strong> node, you can create a set of rules and commands for setting, deleting and testing MediaBay attributes.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rules-Node.png" alt="Attribute Rules Node" /></p>
<p>The top node <strong>Attribute Rules</strong> cannot be renamed. You can create additional <strong>Attribute Rules</strong> nodes within the top node. These additional nodes define a subset of rules. Additional nodes can be renamed and referenced by that name, for example, to define separate rules for program and layer presets.</p>
<h2 id="attribute-rule"><a class="header" href="#attribute-rule">Attribute Rule</a></h2>
<p>An <strong>Attribute Rule</strong> can only be created within an <strong>Attribute Rules</strong> node. An <strong>Attribute Rule</strong> defines the rules and actions to be exectued for a certain MediaBay attribute. You must create an <strong>Attribute Rule</strong> for each desired rule and action.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rule.png" alt="Attribute Rule" /></p>
<h2 id="prerequisite"><a class="header" href="#prerequisite">Prerequisite</a></h2>
<p>For this tutorial, you need a library with a VST Sound that contains program and/or layer presets.</p>
<h2 id="adding-an-attribute-rules-node"><a class="header" href="#adding-an-attribute-rules-node">Adding an Attribute Rules Node</a></h2>
<ol>
<li>In the <strong>VST Sound Container</strong> section, select the <strong>VST Sound</strong> that contains the program presets of your library.</li>
<li>In the toolbar of the <strong>Structure</strong> section, click <strong>Add</strong>.</li>
<li>Select <strong>Attribute Rules &gt; Create Attribute Rules</strong>.</li>
</ol>
<p>An <strong>Attribute Rules</strong> node is added to the structure of the VST Sound. This node has no function. It serves only as a container for the actual rules and actions.</p>
<h2 id="creating-an-attribute-rule"><a class="header" href="#creating-an-attribute-rule">Creating an Attribute Rule</a></h2>
<ol>
<li>In the <strong>Structure</strong> section, select the <strong>Attribute Rules</strong> node.</li>
<li>In the toolbar of the <strong>Content</strong> section, click <strong>Add</strong>.</li>
<li>Select <strong>Attribute Rule</strong>.</li>
</ol>
<p>An <strong>Attribute Rule</strong> is added to the <strong>Content</strong> section. The <strong>Attribute Rule</strong> you just created has no function yet. It must be assigned to an attribute and the desired operation must be selected.</p>
<h2 id="setting-attribute-rule-properties"><a class="header" href="#setting-attribute-rule-properties">Setting Attribute Rule Properties</a></h2>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rule-Properties.png" alt="Attribute Rule Properties" /></p>
<ol>
<li>In the <strong>Content</strong> section, select the <strong>Attribute Rule</strong> you want to edit. The current set of rules and actions are displayed in the <strong>Properties</strong> section to the right.</li>
<li>Open the <strong>Attribute</strong> menu and select the desired attribute.</li>
<li>Open the <strong>Operation</strong> menu and select the desired action for the selected attribute.</li>
<li>Enter a <strong>Value</strong> for the selected operation, if needed.</li>
</ol>
<h3 id="attribute-property"><a class="header" href="#attribute-property">Attribute Property</a></h3>
<p>The <strong>Attribute</strong> property defines to which attribute the <strong>Attribute Rule</strong> applies. To learn more about the different attributes of MediaBay, see the <a href="HALion-Tutorials-Guidelines/pages/./MediaBay-Guideline.html">MediaBay Guideline</a>.</p>
<h3 id="operation-property"><a class="header" href="#operation-property">Operation Property</a></h3>
<p>The <strong>Operation</strong> of an <strong>Attribute Rule</strong> defines the action to be performed on the selected attribute. The Library Creator checks each preset if the rule applies and performs the defined action or reports an error during building the library.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Operation</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Require</strong></td><td style="text-align: left">The attribute must be set.</td></tr>
<tr><td style="text-align: left"><strong>Reject</strong></td><td style="text-align: left">The attribute must not be set.</td></tr>
<tr><td style="text-align: left"><strong>Contains</strong></td><td style="text-align: left">The attribute must contain the set value.</td></tr>
<tr><td style="text-align: left"><strong>Set</strong></td><td style="text-align: left">The attribute is set to the defined value.</td></tr>
<tr><td style="text-align: left"><strong>Clear</strong></td><td style="text-align: left">The attribute will be deleted.</td></tr>
</tbody></table>
</div>
<h2 id="investigating-errors"><a class="header" href="#investigating-errors">Investigating Errors</a></h2>
<p>A red warning sign next to a content file indicates errors before the library is built.</p>
<ul>
<li>Click the red warning sign to open a report of the errors and investigate them.</li>
</ul>
<blockquote>
<p>❕ The library is built only if the defined set of rules and actions can be executed without errors.</p>
</blockquote>
<h2 id="about-the-scope-of-an-attribute-rule"><a class="header" href="#about-the-scope-of-an-attribute-rule">About the Scope of an Attribute Rule</a></h2>
<p>The scope defines to which presets an <strong>Attribute Rule</strong> applies. By default, any <strong>Attribute Rule</strong> that is defined in the top node <strong>Attribute Rules</strong> applies to all presets within the VST Sound. You can change the scope by creating an additional <strong>Attribute Rules</strong> node within the top node. This additional node can be used to define a subset of rules. The additional node can be renamed and referenced by that name. The subset of rules and actions apply only to the presets that reference the additional <strong>Attribute Rules</strong> node.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rules-Node.png" alt="Attribute Rules Node" /></p>
<h3 id="creating-additional-attribute-rules"><a class="header" href="#creating-additional-attribute-rules">Creating Additional Attribute Rules</a></h3>
<ol>
<li>In the <strong>Structure</strong> section, create the <strong>Attribute Rules</strong> node and select it.</li>
<li>Within the selected node, create another <strong>Attribute Rules</strong> node.</li>
<li>Rename the <strong>Attribute Rules</strong> node you have just created.</li>
<li>Add an <strong>Attibute Rule</strong>, see <a href="HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html#creating-an-attribute-rule">Creating an Attribute Rule</a>.</li>
<li>Repeat the last step until you have the desired set of rules.</li>
</ol>
<h3 id="assigning-a-subset-of-attribute-rules"><a class="header" href="#assigning-a-subset-of-attribute-rules">Assigning a Subset of Attribute Rules</a></h3>
<ol>
<li>In the <strong>Structure</strong> section, select the <strong>VST3 Preset Folder</strong>. The <strong>Name</strong> and <strong>Rules</strong> properties are displayed in the <strong>Properties</strong> section to the right.</li>
<li>Navigate to the folder that contains the presets to which you want to apply the subset of attribute rules.</li>
<li>Enter the name of the <strong>Attribute Rules</strong> node as reference for the <strong>Rules</strong> property.</li>
</ol>
<p>You can even assign a subset of attribute rules to single presets.</p>
<ol>
<li>Navigate to the desired preset.</li>
<li>Set the <strong>Rules</strong> property to the name of the <strong>Attribute Rules</strong> node you want to reference.</li>
</ol>
<h2 id="attribute-rules-for-other-media-types"><a class="header" href="#attribute-rules-for-other-media-types">Attribute Rules for Other Media Types</a></h2>
<p>In addition to VST3 presets, you can create attribute rules also for other media types that support MediaBay attributes, for example, audio and MIDI files.</p>
<blockquote>
<p>❕ The Private Audio Files folder hides samples from MediaBay. Therefore, attribute rules cannot be applied to samples in the Private Audio Files folder. Only samples in the Public Audio Files folder are visible to MediaBay. For this reason, attribute rules can only be applied to samples in the Public Audio Files folder.</p>
</blockquote>
<ol>
<li>In the <strong>Structure</strong> section, select <strong>Public Audio Files</strong> or <strong>MIDI Files</strong>, depending on the media type. The <strong>Name</strong> and <strong>Rules</strong> properties are displayed in the <strong>Properties</strong> section to the right.</li>
<li>Navigate to the folder that contains the content to which you want to apply the subset of attribute rules.</li>
<li>Enter the name of the <strong>Attribute Rules</strong> node as reference for the <strong>Rules</strong> property.</li>
</ol>
<h2 id="attribute-rules-presets"><a class="header" href="#attribute-rules-presets">Attribute Rules Presets</a></h2>
<p>You can save and load presets for any <strong>Attribute Rules</strong> node. The preset saves all the rules for the selected node. Loading a preset restores these rules for the node where you load it.</p>
<h3 id="saving-attribute-rules"><a class="header" href="#saving-attribute-rules">Saving Attribute Rules</a></h3>
<ol>
<li>In the <strong>Structure</strong> section, select the <strong>Attribute Rules</strong> node that you want to save.</li>
<li>In the toolbar of the <strong>Content</strong> section, click <strong>Add</strong>.</li>
<li>Select <strong>Save Preset</strong>.</li>
<li>Enter a meaningful name for your attribute rules and click <strong>Save</strong>.</li>
</ol>
<h3 id="loading-attribute-rules"><a class="header" href="#loading-attribute-rules">Loading Attribute Rules</a></h3>
<ol>
<li>In the <strong>Structure</strong> section, select the node for which you want to load the preset. This can be the node of the VST Sound or an <strong>Attribute Rules</strong> node.</li>
<li>In the toolbar of the <strong>Structure</strong> section, click <strong>Add</strong>.</li>
<li>Go to <strong>Attribute Rules &gt; Load Preset</strong> and select the preset that you want to load.</li>
</ol>
<h3 id="deleting-attribute-rules"><a class="header" href="#deleting-attribute-rules">Deleting Attribute Rules</a></h3>
<p><span class="version-text">(Since HALion 7.1.10)</span></p>
<ol>
<li>In the toolbar of the <strong>Structure</strong> section, click <strong>Add</strong>.</li>
<li>Go to <strong>Attribute Rules &gt; Delete Preset</strong> and select the preset that you want to delete.</li>
</ol>
<h2 id="example-309"><a class="header" href="#example-309">Example</a></h2>
<p>Using different rules for program presets and the Init layer preset.</p>
<ol>
<li>In the <strong>Structure</strong> section, create the <strong>Attribute Rules</strong> node and select it.</li>
<li>Within the selected node, create two more <strong>Attribute Rules</strong> nodes.</li>
<li>Rename the <strong>Attribute Rules</strong> nodes you have just created to "Program Presets" and "Init Layer" respectively.</li>
<li>Create different rules for your program presets and the Init layer preset.</li>
<li>Navigate to the VST3 preset folder that contains the program presets.</li>
<li>In the <strong>Properties</strong> section to the right, set the <strong>Rules</strong> property to "Program Presets".</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rules-Program-Presets.png" alt="Attribute Rules Node" /></p>
<ol start="7">
<li>Navigate to the VST3 preset folder that contains the Init layer preset and select it</li>
<li>In the <strong>Properties</strong> section to the right, set the <strong>Rules</strong> property to "Init Layer".</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Attribute-Rules-Init-Layer.png" alt="Attribute Rules Node" /></p>
<p>The <strong>Library Creator</strong> scans each preset to verify whether the referenced rules apply and performs the defined action or reports an error when building the library.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Tutorials.html">Tutorials</a> /</p>
<h1 id="using-relative-paths"><a class="header" href="#using-relative-paths">Using Relative Paths</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#abolute-paths-vs-relative-paths">Abolute Paths vs. Relative Paths</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#creating-a-working-directory">Creating a Working Directory</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#achieving-relative-paths">Achieving Relative Paths</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#overview-of-workflows">Overview of Workflows</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#exporting-vst-presets-to-the-working-directory">Exporting VST Presets to the Working Directory</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#using-source-files-from-the-working-directory">Using Source Files from the Working Directory</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#using-export-program-as-vst3-preset-with-export-files">Using Export Program as VST3 Preset with Export Files</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#moving-a-library">Moving a Library</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#achieving-relative-paths-in-scripts">Achieving Relative Paths in Scripts</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#example">Example</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="abolute-paths-vs-relative-paths"><a class="header" href="#abolute-paths-vs-relative-paths">Abolute Paths vs. Relative Paths</a></h2>
<p>Absolute paths use the full file path starting from the root directory of your system. If the source files of your library use absolute paths, you have to relocate them when moving the library to another directory or system. If you work in a team and you need to share your library with your teammates, you must work with relative paths. Relative paths start from a specific working directory, avoiding the need to provide the full file path. If the source files of your library use relative paths, you can move the library to another directory or system without having to relocate the files. Therefore, it is recommended to work with relative paths when creating libraries.</p>
<h2 id="creating-a-working-directory"><a class="header" href="#creating-a-working-directory">Creating a Working Directory</a></h2>
<p>Libraries and their source files can be moved and shared easily if you keep all files in one place: your working directory. It is recommended that you create one working directory for each library. This directory contains the required subfolders for the different types of source files. Typical subfolders are: VST presets, macropages, samples, scripts, etc. The working directory can be located anywhere on your system.</p>
<ul>
<li>To create a working directory and subfolders, use the file browser of your system.</li>
</ul>
<p>A typical folder structure could look like this:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Folder-Structure.png" alt="Folder Structure" /></p>
<h2 id="achieving-relative-paths"><a class="header" href="#achieving-relative-paths">Achieving Relative Paths</a></h2>
<h3 id="overview-of-workflows-1"><a class="header" href="#overview-of-workflows-1">Overview of Workflows</a></h3>
<ul>
<li>To export the VST preset to the working directory, you must use <strong>Export Program as VST3 Preset...</strong></li>
<li>Place the source files in the subfolders of the working directory and load them from there.</li>
<li>Load the source files from any location, then export them into the respective subfolders of the working directory using one of HALion's export functions. There are different functions for exporting samples, macro pages, etc. Then relocate the files with a replace function or load them from their new location.</li>
</ul>
<p>The different workflows will be explained in detail below.</p>
<blockquote>
<p>❕ You cannot create a working directory simply by moving the VST preset and all source files into one directory, because the file paths within the VST preset still point to the locations of the source files that were used when you saved the preset.</p>
</blockquote>
<h3 id="exporting-vst-presets-to-the-working-directory"><a class="header" href="#exporting-vst-presets-to-the-working-directory">Exporting VST Presets to the Working Directory</a></h3>
<p>If you want to save your VST preset for the first time, you might be tempted to use <strong>Save Program</strong> or <strong>Save Program As</strong>. However, the save functions only allow you to save programs in the default location for VST presets. The export function allows you to choose the location freely. You must use <strong>Export Program as VST3 Preset</strong> at least once to export your VST preset to the working directory. After loading the exported VST preset from the working directory, you can save your VST preset using the <strong>Save Program</strong> command or the export function. <strong>Save Program</strong> will not ask for a location or file name if the preset was loaded from the working directory.</p>
<p>To achieve relative paths for your VST preset:</p>
<ol>
<li>Export the VST preset with <strong>Export Program as VST3 Preset</strong> to the working directory.</li>
<li>Load the VST preset from the working directory.</li>
</ol>
<p>From now on, you can either use <strong>Save Program</strong> or the export function to save your VST preset.</p>
<blockquote>
<p>❕ If you are working on a HALion Sonic library, you usually want to save HALion Sonic layers and not HALion programs. In this case <strong>Save Program</strong> cannot be used and you must use <strong>Export Program as VST3 Preset</strong> with the options <strong>Export as HALion Sonic Layer</strong> and <strong>Verify HALion Sonic Layer Structure</strong> activated.</p>
</blockquote>
<h3 id="using-source-files-from-the-working-directory"><a class="header" href="#using-source-files-from-the-working-directory">Using Source Files from the Working Directory</a></h3>
<p>A practical way to achieve relative paths for your library is to place the source files, e.g., samples, bitmaps, scripts, etc., in the working directory before loading them. This is especially recommended if you already know which files you want to use in your library.</p>
<ul>
<li>Place the source files in the subfolders of the working directory and load them from there.</li>
</ul>
<blockquote>
<p>❕ Do not forget to save or export your VST preset after adding new ressources to it.</p>
</blockquote>
<h2 id="using-export-program-as-vst3-preset-with-export-files"><a class="header" href="#using-export-program-as-vst3-preset-with-export-files">Using Export Program as VST3 Preset with Export Files</a></h2>
<p><strong>Export Program as VST3 Preset</strong> with <strong>Export Files</strong> activated allows you to create a working directory and export all the required files to it in a single operation.</p>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the program and select <strong>Import/Export &gt; Export Program as VST3 Preset</strong></li>
<li>Activate <strong>Export Files</strong>.</li>
<li>If you are working on a HALion Sonic library, activate <strong>Export as HALion Sonic Layer</strong> and <strong>Verify HALion Sonic Layer Structure</strong>.</li>
<li>Choose a location and a file name. The location becomes your working directory. The file name should correspond to the name of your instrument.</li>
<li>Click <strong>OK</strong> to start the export.</li>
</ol>
<p>HALion now creates a VST preset and several subfolders in the working directory. The subfolders store all the ressources that were in use when you exported the program.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Export-Program-with-Files.png" alt="Export Program with Files" /></p>
<p>Subfolders containing ressources typically look like this:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Folder-Structure.png" alt="Folder Structure" /></p>
<p>To activate the relative paths, you must load the exported VST preset:</p>
<ul>
<li>Load the exported preset from the working directory. It uses only the exported files in the respective subfolders.</li>
</ul>
<h2 id="moving-a-library"><a class="header" href="#moving-a-library">Moving a Library</a></h2>
<p>If you need to move the library to a new location, you must move the whole working directory with its contents. As long as you do not change the folder structure inside the working directory, HALion will be able to load your library, even after moving it.</p>
<h2 id="achieving-relative-paths-in-scripts"><a class="header" href="#achieving-relative-paths-in-scripts">Achieving Relative Paths in Scripts</a></h2>
<p>Functions like <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Script/pages/loadPreset.html">loadPreset</a> require a file path as argument. The function <code>debug.getinfo</code> from the Lua debug library returns the file path of the running script. You can use this information to create a relative file path for your script. The folders in the 'if' branch of the following script example must match the working directory on your hard disk. How to create a working directory is described in <a href="HALion-Tutorials-Guidelines/pages/Using-Relative-Paths.html#using-relative-paths">Using Relative Paths</a>. The folders in the 'else' branch must match the folders that you specified in the <strong>Library Creator</strong>. If the folder on the hard disk cannot be found, the file path of the VST sound will be used instead. Note that the VST sound must be mounted for this to work.</p>
<h3 id="example-310"><a class="header" href="#example-310">Example</a></h3>
<pre><code class="language-lua">-- Load a sub preset from hard disk or VST sound.
-- Find relative path on hard disk.
local info = debug.getinfo(1,'S') -- Function from the Lua debug library.
local source = info.source
local pos = string.find(source, "/library/") -- Assumes the folder "/library/" contains subfolders like "/samples/", "/scripts/", "/VST3 Sub Presets/", etc.
if pos then
    contentPath = string.sub(source, 1, pos - 1).."/library/VST3 Sub Presets/"  -- The folder on disk with sub presets, for example.
else
    -- Extract VST sound GUID, e.g. "vstsound://ABCDEFGHIJKLMNOPQRSTUVWXYZ123456".
    -- The GUID of the VST sound can be found in the library creator.
    -- "SomeFolderName" is defined in the library creator.
    -- The library creator prepends "/.AppData/Steinberg/" when building the library.
    -- The content must be in the same VST sound as the script.
    contentPath = source:sub(1, 43) .. "/.AppData/Steinberg/SomeFolderName/" -- The location of the sub presets inside the vstsound.
end
 
-- Load the sub preset from the respective contentPath.
layer = loadPreset(contentPath.."SomePreset.vstpreset")
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Tutorials.html">Tutorials</a> /</p>
<h1 id="using-velocity-crossfades"><a class="header" href="#using-velocity-crossfades">Using Velocity Crossfades</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#prerequisite">Prerequisite</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#loading-the-example-vst-preset">Loading the Example VST Preset</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#activating-velocity-crossfades">Activating Velocity Crossfades</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#overview-of-workflows">Overview of Workflows</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#activating-the-layer">Activating the Layer</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#activating-the-zones">Activating the Zones</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#adjusting-the-velocity-crossfades">Adjusting the Velocity Crossfades</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#using-the-velocity-options">Using the Velocity Options</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#setting-the-level-velocity">Setting the Level Velocity</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#fine-tuning-the-velocity-crossfades">Fine-Tuning the Velocity Crossfades</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#tips-for-adjusting-the-pitches-of-the-samples">Tips for adjusting the Pitches of the Samples</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#tips-for-adjusting-the-gains-of-the-samples">Tips for adjusting the Gains of the Samples</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html#example-vst-preset">Example VST Preset</a></li>
</ul>
<hr />
<p>The sampled velocities of an instrument usually have differences in timbre and level. Velocity crossfades allow you to blend between adjacent velocities for smoothing out these differences, which makes the instrument more playable and the sound more realistic.</p>
<h2 id="prerequisite-1"><a class="header" href="#prerequisite-1">Prerequisite</a></h2>
<p>To set up velocity crossfades, you need a multi-sample with two or more velocity layers. The following example program has three velocity layers.</p>
<h3 id="loading-the-example-vst-preset"><a class="header" href="#loading-the-example-vst-preset">Loading the Example VST Preset</a></h3>
<ol>
<li>Download <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Using%20Velocity%20Crossfades%2001.vstpreset">Using Velocity Crossfades 01.vstpreset</a>.</li>
<li>Drag the VST preset to the <strong>Slot Rack</strong>.</li>
</ol>
<blockquote>
<p>❕ The example VST preset requires the factory content of HALion.</p>
</blockquote>
<h2 id="activating-velocity-crossfades"><a class="header" href="#activating-velocity-crossfades">Activating Velocity Crossfades</a></h2>
<h3 id="overview-of-workflows-2"><a class="header" href="#overview-of-workflows-2">Overview of Workflows</a></h3>
<ul>
<li><strong>Individual Velocity Mode</strong> and <strong>Velocity Fade</strong> must be activated for the layer containing the zones that you want to crossfade.</li>
<li><strong>Enable Crossfade on Velocity Axis</strong> must be activated for all zones that you want to crossfade.</li>
<li>Adjust the fade handles in the <strong>Mapping</strong> editor using <strong>Crossfade: Symmetric</strong>.</li>
</ul>
<h3 id="activating-the-layer"><a class="header" href="#activating-the-layer">Activating the Layer</a></h3>
<p>The options <strong>Individual Velocity Mode</strong> and <strong>Velocity Fade</strong> can be found in the <strong>Sound</strong> editor.</p>
<ol>
<li>In the <strong>Program Tree</strong>, select the layer containing the zones that you want to crossfade.</li>
<li>Open the <strong>Sound</strong> editor, go to the <strong>Trigger</strong> section and activate <strong>Individual Velocity Mode</strong> and <strong>Velocity Fade</strong>.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Trigger-Section.png" alt="Using Velocity Crossfades Trigger Section" /></p>
<h3 id="activating-the-zones"><a class="header" href="#activating-the-zones">Activating the Zones</a></h3>
<p>The option <strong>Enable Crossfade on Velocity Axis</strong> can be found in the context menu of the <strong>Mapping</strong> editor.</p>
<ol>
<li>Open the <strong>Mapping</strong> editor and select all zones.</li>
<li>Right-click a zone and select <strong>Crossfades &gt; Enable Crossfade on Velocity Axis</strong>.</li>
</ol>
<blockquote>
<p>❕ The <strong>Enable Crossfade on Velocity Axis</strong> option is grayed out and cannot be used if <strong>Individual Velocity Mode</strong> or <strong>Velocity Fade</strong> are not activated.</p>
</blockquote>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Enable-Crossfades.png" alt="Using Velocity Crossfades Enable Crossfades" /></p>
<h3 id="adjusting-the-velocity-crossfades"><a class="header" href="#adjusting-the-velocity-crossfades">Adjusting the Velocity Crossfades</a></h3>
<p>Velocity crossfades are adjusted with the fade handles in the <strong>Mapping</strong> editor.</p>
<blockquote>
<p>❕ The fade handles are only visible if the options for the layer and zones have been activated, as described above. In addition, the zones must be selected and the zoom level must be high enough.</p>
</blockquote>
<ol>
<li>In the toolbar of the <strong>Mapping</strong> editor, activate <strong>Crossfades: Symmetric</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Symmetric.png" alt="Using Velocity Crossfades Symmetric" />.</li>
<li>Select the zones that you want to crossfade or select all zones.</li>
<li>Zoom in until you see the fade handles.</li>
<li>Drag a fade handle to adjust the range of the crossfade.</li>
<li>Drag one of the fade lines to adjust the curvature of the crossfade.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Fade-Handles.png" alt="Using Velocity Crossfades Fade Handles" /></p>
<h2 id="using-the-velocity-options"><a class="header" href="#using-the-velocity-options">Using the Velocity Options</a></h2>
<p>Once the velocity crossfades are set up in the <strong>Mapping</strong> editor, they can be used. You can crossfade the zones using the note-on velocity or by using the value of a MIDI controller, for example. The different usages are configured with the velocity options in the <strong>Trigger</strong> section of the corresponding layer. Which settings you must use depends on the requirements of your content. The following table lists the different requirements and the settings for the velocity options.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">#</th><th style="text-align: left">Content Requirements</th><th style="text-align: left">Velocity Mode</th><th style="text-align: left">Velocity Fade</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">1</td><td style="text-align: left"><ul><li>Timbre and level only need to change at the note-on.</li><li>Crossfades are not required.</li></ul></td><td style="text-align: left">Note-on</td><td style="text-align: left">Off</td><td style="text-align: left"><ul><li>Only the zones that belong to a specific note and velocity will be triggered.</li><li>The crossfades in the <strong>Mapping</strong> editor are not applied (velocity switching).</li><li>The level of the triggered zones is set at the note-on.</li></ul></td></tr>
<tr><td style="text-align: left">2</td><td style="text-align: left"><ul><li>Timbre and level only need to change at the note-on.</li><li>Crossfades are required.</li></ul></td><td style="text-align: left">Note-on</td><td style="text-align: left">On</td><td style="text-align: left"><ul><li>Only the zones that belong to a specific note and velocity will be triggered.</li><li>If the velocity lies within a crossfade, the crossfading zones will be triggered simultaneously.</li><li>The crossfades in the <strong>Mapping</strong> editor are applied at the note-on (velocity crossfading).</li><li>The level of the triggered zones is set at the note-on.</li></ul></td></tr>
<tr><td style="text-align: left">3</td><td style="text-align: left"><ul><li>Timbre only needs to change at the note-on.</li><li>Level needs to change also after the note-on.</li><li>Crossfades are not required.</li></ul></td><td style="text-align: left">Controller</td><td style="text-align: left">Off</td><td style="text-align: left"><ul><li>The velocity of the note-on event is replaced by the value of the MIDI controller.</li><li>Only the zones that belong to a specific note and velocity will be triggered.</li><li>The crossfades in the <strong>Mapping</strong> editor are not applied (velocity switching).</li><li>After the note-on, the MIDI controller cannot switch between the velocities.</li><li>The MIDI controller can change the level of the triggered zones, even after the note-on.</li></ul></td></tr>
<tr><td style="text-align: left">4</td><td style="text-align: left"><ul><li>Timbre only needs to change at the note-on.</li><li>Level needs to change also after the note-on.</li><li>Crossfades are required.</li></ul></td><td style="text-align: left">Controller</td><td style="text-align: left">On</td><td style="text-align: left"><ul><li>The velocity of the note-on event is replaced by the value of the MIDI controller.</li><li>Only the zones that belong to a specific note and velocity will be triggered.</li><li>If the velocity lies within a crossfade, the crossfading zones will be triggered simultaneously.</li><li>The crossfades in the <strong>Mapping</strong> editor are applied at the note-on (velocity crossfading).</li><li>After the note-on, the MIDI controller cannot crossfade between the velocities.</li><li>The MIDI controller can change the level of the triggered zones, even after the note-on.</li></ul></td></tr>
<tr><td style="text-align: left">5</td><td style="text-align: left"><ul><li>Timbre and level need to change freely.</li><li>Crossfades are not required..</li></ul></td><td style="text-align: left">Continuous</td><td style="text-align: left">Off</td><td style="text-align: left"><ul><li>The velocity of the note-on event is replaced by the value of the MIDI controller.</li><li>All zones that belong to the same note are triggered simultaneously, regardless of their velocity.</li><li>The crossfades in the <strong>Mapping</strong> editor are not applied (velocity switching).</li><li>The MIDI controller can switch between the velocities of the triggered zones and change their level, even after the note-on.</li></ul></td></tr>
<tr><td style="text-align: left">6</td><td style="text-align: left"><ul><li>Timbre and level need to change freely.</li><li>Crossfades are required.</li></ul></td><td style="text-align: left">Continuous</td><td style="text-align: left">On</td><td style="text-align: left"><ul><li>The velocity of the note-on event is replaced by the value of the MIDI controller.</li><li>All zones that belong to the same note are triggered simultaneously, regardless of their velocity.</li><li>The crossfades in the <strong>Mapping</strong> editor are applied (velocity crossfading).</li><li>The MIDI controller can crossfade between the velocities of the triggered zones and change their level, even after the note-on.</li></ul></td></tr>
</tbody></table>
</div>
<p>We will use Velocity Mode Continuous and Velocity Fade On for the example VST preset.</p>
<ol>
<li>In the <strong>Program Tree</strong>, select the layer on which you activated the <strong>Individual Velocity Mode</strong> and <strong>Velocity Fade</strong> options.</li>
<li>Open the <strong>Sound</strong> editor, go to the <strong>Trigger</strong> section and set <strong>Velocity Mode</strong> to "Continuous" and <strong>Controller</strong> to ""Modulation Wheel"".</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Continuous.png" alt="Using Velocity Crossfades Continuous" /></p>
<ul>
<li>Play a note and use the modulation wheel.</li>
</ul>
<h2 id="setting-the-level-velocity"><a class="header" href="#setting-the-level-velocity">Setting the Level Velocity</a></h2>
<p>The overall dynamic range and response is determined by the <strong>Level Velocity</strong> settings of the amplitude envelope of the zone.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Amp-Env.png" alt="Using Velocity Crossfades Amp Env" /></p>
<p>Depending on whether your samples are normalized or not, there are two basic concepts for setting up the level velocity.</p>
<p><strong>If your samples are normalized:</strong></p>
<ol>
<li>Choose a <strong>Level Velocity Curve</strong>. The Squared velocity curve is the most commonly used curve.</li>
<li>Adjust the dynamic range with the <strong>Level Velocity</strong> parameter. The higher the value, the greater the dynamic range.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Vel.png" alt="Using Velocity Crossfades Vel" /></p>
<p>With these settings, the dynamic range and response is mainly determined by the level velocity settings of the zones.</p>
<p><strong>If your samples are not normalized:</strong></p>
<ol>
<li>Set the <strong>Level Velocity Curve</strong> to Linear.</li>
<li>Activate <strong>Use Normalized Velocity</strong>.</li>
<li>Increase the <strong>Level Velocity</strong> parameter for each velocity layer only as much as necessary until the crossfades sound smooth.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Velocity-Crossfades-Vel-Norm.png" alt="Using Velocity Crossfades Vel Norm" /></p>
<p>With these settings, the dynamic range and response is determined by the combination of the gains of the samples and the Level Velocity settings of the zones.</p>
<h2 id="fine-tuning-the-velocity-crossfades"><a class="header" href="#fine-tuning-the-velocity-crossfades">Fine-Tuning the Velocity Crossfades</a></h2>
<p>To make the crossfades as seamless as possible, the pitches and the levels of the samples must match as closely as possible. For example, you might hear flanging or breaks in the level during the crossfade if the pitches and the levels of adjacent samples do not match. In the <strong>Mapping</strong> editor, you can adjust the pitch and the level for each sample individually.</p>
<ol>
<li>Go to the <strong>Mapping</strong> editor and select the sample that you want to adjust.</li>
<li>Adjust the <strong>Tune</strong> and <strong>Gain</strong> parameters until the crossfade of adjacent samples sounds smooth.</li>
</ol>
<h3 id="tips-for-adjusting-the-pitches-of-the-samples"><a class="header" href="#tips-for-adjusting-the-pitches-of-the-samples">Tips for adjusting the Pitches of the Samples</a></h3>
<p>The velocity fades should be activated while adjusting the pitches.</p>
<ol>
<li>Play a note with a velocity within the range of a crossfade.</li>
<li>Adjust the pitches of the adjacent samples until the flanging is minimized or gone.</li>
</ol>
<h3 id="tips-for-adjusting-the-gains-of-the-samples"><a class="header" href="#tips-for-adjusting-the-gains-of-the-samples">Tips for adjusting the Gains of the Samples</a></h3>
<p>When using normalized samples, it can be useful to switch off any velocity fades and level velocity settings while adjusting the gains in the <strong>Mapping</strong> editor.</p>
<ol>
<li>In the <strong>Program Tree</strong>, select the layer on which you activated the <strong>Individual Velocity Mode</strong> and <strong>Velocity Fade</strong> options.</li>
<li>Open the <strong>Sound</strong> editor, go to the <strong>Trigger</strong> section and deactivate the <strong>Velocity Fade</strong> option.</li>
<li>Open the <strong>Zone</strong> editor, go to the amplitude envelope and set <strong>Level Velocity</strong> to 0%.</li>
</ol>
<p>Now, you hear only the differences in level and timbre between adjacent samples.</p>
<ul>
<li>In the <strong>Mapping</strong> editor, adjust the sample gains until you hear only changes in timbre.</li>
</ul>
<p>Once you are happy with the gains, activate the <strong>Velocity Fade</strong> option on the layer and set the <strong>Level Velocity</strong> of the zones as desired.</p>
<h2 id="example-vst-preset-1"><a class="header" href="#example-vst-preset-1">Example VST Preset</a></h2>
<p>In the example VST preset, the pitch and gain of each zone were adjusted in the <strong>Mapping</strong> editor - for smoother crossfades.</p>
<ol>
<li>Download <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Using%20Velocity%20Crossfades%2002.vstpreset">Using Velocity Crossfades 02.vstpreset</a>.</li>
<li>Drag the preset to the Slot Rack.</li>
<li>Play a note and use the modulation wheel.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Tutorials.html">Tutorials</a> /</p>
<h1 id="working-with-exported-properties"><a class="header" href="#working-with-exported-properties">Working with Exported Properties</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Properties.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Properties.html#creating-a-simple-template">Creating a Simple Template</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Properties.html#connecting-template-parameters">Connecting Template Parameters</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Properties.html#changing-the-template-while-it-is-connected">Changing the Template While It Is Connected</a></li>
</ul>
<hr />
<p>When creating reusable control templates, it is necessary to export all control properties that need to be accessible on the template level from the controls that are located inside the template.</p>
<p>The properties that can be exported have an <strong>Export Property</strong> option <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" />. The parameter is exported if this option is activated. You can see all exported parameters by selecting the topmost element in the <strong>GUI Tree</strong> of the template. The following screenshot shows this for the "Knob H6" template from the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> library.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Properties-Knob-H6.png" alt="Working with Exported Properties Knob H6" /></p>
<h2 id="prerequisites-1"><a class="header" href="#prerequisites-1">Prerequisites</a></h2>
<ul>
<li>A program with a macro page.</li>
</ul>
<h2 id="creating-a-simple-template"><a class="header" href="#creating-a-simple-template">Creating a Simple Template</a></h2>
<ol>
<li>Go to the <strong>Macro Page Designer</strong>, create a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Knob.html">Knob</a> control on the macro page and assign an animation bitmap.</li>
</ol>
<blockquote>
<p>❕ If you do not have an animation bitmap at hand: You can temporarily add a knob template from the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> or <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#additional-controls">Additional Controls</a> libraries. This adds the necessary resources and you can assign the respective animation bitmap to your knob.</p>
</blockquote>
<ol start="2">
<li>Select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Knob.html">Knob</a> control in the <strong>GUI Tree</strong>, open the context menu and select <strong>Create template 'Knob' from 'Knob'</strong>.</li>
<li>In the <strong>GUI Tree</strong> of the template, change the name of the topmost element to "MyKnob".</li>
<li>Select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Knob.html">Knob</a> control and export the <strong>Value</strong> property by clicking <strong>Export Property</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Export-Property.png" alt="Export Property" />.</li>
<li>Select "MyKnob" in the <strong>GUI Tree</strong> and give the <strong>Value</strong> parameter in the Template Parameter section a meaningful name, e.g., "Value".</li>
<li>Go back to the <strong>GUI Tree</strong> of the macro page by clicking  <strong>Switch back to Macro Page/Parent Template</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/Switch-Back-to-Macro-Page.png" alt="Switch Back to Macro Page" />.</li>
</ol>
<p><strong>Result:</strong> You have created a simple knob template with a <strong>Value</strong> parameter.</p>
<p>You can add further elements such as labels and text fields to the template and export their relevant parameters, too. Giving exported parameters the same name will combine them on the template level. This way, the template shows a single Value parameter on template level, which could be connected with a knob and a text control inside the template, for example. For more suggestions, try out the knob templates that come with the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#basic-controls">Basic Controls</a> and <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Exploring-Templates.html#additional-controls">Additional Controls</a> libraries.</p>
<h2 id="connecting-template-parameters"><a class="header" href="#connecting-template-parameters">Connecting Template Parameters</a></h2>
<p>You can connect template parameters like parameters of standard controls. There are multiple ways you can do this:</p>
<ul>
<li>Drag and drop an engine or script parameter from the parameter list to the template parameter.</li>
<li>Open the context menu on a HALion control and select <strong>Connect to Macro Page</strong>, then do the same for the template and select <strong>Connect to Parameter '...'</strong> or open the context menu on the Value property and select <strong>Connect to Parameter '...'</strong>.</li>
<li>Type in <code>@example</code> to connect the template to a script parameter or a UI variable of that name.</li>
<li>Type in a path to layers, zones, busses, etc., for example, <code>@type:zone/@id:nn</code></li>
</ul>
<h2 id="changing-the-template-while-it-is-connected"><a class="header" href="#changing-the-template-while-it-is-connected">Changing the Template While It Is Connected</a></h2>
<p>You can exchange the used template at any time, even if it has already been connected. For this, change the template reference in the <strong>Template Parameter</strong> section in the <strong>Properties</strong> view.</p>
<ul>
<li>If the newly assigned template shares the same parameters, the connections remain intact.</li>
<li>If the new template does not use the same parameters, a warning message is shown. You can delete the obsolete connections or keep them.</li>
</ul>
<p>Keeping the connections is useful if you want to switch back to the previous template at a later stage. In this case, all connections are automatically re-established. This is particularly useful if you are working with <a href="HALion-Tutorials-Guidelines/pages/./Dynamic-Template-References.html">Dynamic Template References</a>, because in this case, you want to keep exported parameters and their connections even when the template is temporarily not used.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> /</p>
<h1 id="how-tos-1"><a class="header" href="#how-tos-1">How-tos</a></h1>
<p>In this section your find short examples focusing on a specific task. The how-tos often feature small code examples you can adapt for your own solutions.</p>
<blockquote>
<p>❕ The minimum version for exploring the how-tos is HALion 6.3.</p>
</blockquote>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/./Animating-and-Modifying-SVGs.html">Animating and Modifying SVGs</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Animating-Switches-Using-SVGs.html">Animating Switches Using SVGs</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus.html">Custom Multi-Level Menus</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus-II.html">Custom Multi-Level Menus II</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Custom-Popup-Menus.html">Custom Popup Menus</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Dynamic-Template-References.html">Dynamic Template References</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Map-Samples-to-Root-Key.html">Map Samples to Root Key</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./MIDI-Note-Parameters.html">MIDI Note Parameters</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Modifying-SVGs-with-Multiple-Objects.html">Modifying SVGs with Multiple Objects</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Multi-Level-System-Menus.html">Multi-Level System Menus</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Relative-Paths.html">Relative Paths</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Switching-Control-Templates.html">Switching Control Templates</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Using-Mouse-States-in-SVGs.html">Using Mouse States in SVGs</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Working-with-Exported-Variables.html">Working with Exported Variables</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="animating-and-modifying-svgs"><a class="header" href="#animating-and-modifying-svgs">Animating and Modifying SVGs</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#lua-expressions">Lua Expressions</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#animating-and-modifying-svg-properties">Animating and Modifying SVG Properties</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#changing-the-fill-color-of-an-object">Changing the Fill Color of an Object</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#changing-the-rotation-of-an-object">Changing the Rotation of an Object</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#changing-the-position-of-an-object">Changing the Position of an Object</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html#changing-the-path-of-an-object">Changing the Path of an Object</a></li>
</ul>
</li>
</ul>
<hr />
<p>By harnessing the capabilities of Lua expressions, you can animate controls that incorporate Scalable Vector Graphics (SVGs). Through the manipulation of SVG properties using Lua expressions, you gain control over how the values of these properties are modified within the control itself. This enables you to create dynamic and visually appealing animations that enhance the user experience.</p>
<h2 id="lua-expressions"><a class="header" href="#lua-expressions">Lua Expressions</a></h2>
<p>An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>You can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>N</strong></td><td style="text-align: left">The normalized value (0 to 1.0) of the control itself.</td></tr>
<tr><td style="text-align: left"><strong>V</strong></td><td style="text-align: left">The value as sent by the connected engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>S</strong></td><td style="text-align: left">A string as sent by the connected parameter.</td></tr>
</tbody></table>
</div>
<p>The string of a S variable is set either by a stringlist variable or by MIDI script or UI script parameters. The ability to use the string output of a parameter allows you to transmit even a full sequence of values, such as the path of an object, for example.</p>
<h2 id="animating-and-modifying-svg-properties"><a class="header" href="#animating-and-modifying-svg-properties">Animating and Modifying SVG Properties</a></h2>
<p>The following examples are intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset-2"><a class="header" href="#example-vst-preset-2">Example VST Preset</a></h3>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20and%20Modifying%20SVGs.vstpreset">Animating and Modifying SVGs.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animating-and-Modifying-SVGs.png" alt="Animating and Modifying SVGs" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20and%20Modifying%20SVGs.vstpreset">Animating and Modifying SVGs.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Knob.html">Knob</a> control, for example. Take a look at which <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resource has been assigned.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="changing-the-fill-color-of-an-object"><a class="header" href="#changing-the-fill-color-of-an-object">Changing the Fill Color of an Object</a></h3>
<h4 id="knob-black"><a class="header" href="#knob-black">Knob Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb(0,0,0)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Static color, in this case black. The original color of the control was green.</p>
<h4 id="knob-red-to-black"><a class="header" href="#knob-red-to-black">Knob Red to Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Red.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb($(math.floor((1-N)*255)),0,0)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value (0 to 1.0) of the control scales the red channel from 255 to 0. This creates a fade from red to black.</p>
<h4 id="knob-black-to-white"><a class="header" href="#knob-black-to-white">Knob Black to White</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Blue.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb($(math.floor(N*255)),$(math.floor(N*255)),$(math.floor(N*255)))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value (0 to 1.0) of the control scales all channels from 0 to 255. This creates a fade from black to white.</p>
<blockquote>
<p>❕ rgb values must be integer values, therefore <code>math.floor</code> is used in the examples above.</p>
</blockquote>
<h4 id="knob-opacity"><a class="header" href="#knob-opacity">Knob Opacity</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Blue_1.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla (220,75%,62%,$(1-N))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value of the control scales the opacity from 1.0 to 0.</p>
<h4 id="rotating-star"><a class="header" href="#rotating-star">Rotating Star</a></h4>
<p><strong>Resource:</strong> Rotating Star</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">fill</td><td style="text-align: left"><code>$(SColor)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> An animation control changes its color to the value set by the string output of the connected script parameter. <code>$(SColor)</code>is an additional SVG Parameter, see <a href="HALion-Tutorials-Guidelines/pages/./Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a> for details. The following script switches between two colors.</p>
<pre><code class="language-lua">function onSwitchChanged() 
    if Switch then
        this:setParameter("FillColor", "rgb(255,0,0)")
    else
        this:setParameter("FillColor", "rgb(255,255,255)")
    end
end

defineParameter("Switch", nil, false, onSwitchChanged)
defineParameter("FillColor", nil, "rgb(255,255,255)")
</code></pre>
<h3 id="changing-the-rotation-of-an-object"><a class="header" href="#changing-the-rotation-of-an-object">Changing the Rotation of an Object</a></h3>
<h4 id="knob-black-1"><a class="header" href="#knob-black-1">Knob Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">LineMain</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate(180,32,32)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The object is rotated by a fixed amount of 180 degrees around the center at x,y = 32,32 pixels. In this case, the scale is turned up side down.</p>
<h4 id="knob-black-knob-red-to-black-knob-black-to-white-knob-opacity"><a class="header" href="#knob-black-knob-red-to-black-knob-black-to-white-knob-opacity">Knob Black, Knob Red to Black, Knob Black to White, Knob Opacity</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green, Knob11_Scale2_Red, Knob11_Scale2_Blue and Knob11_Scale2_Blue_1.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">KnobLine</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate($(-135+N*270),32,32)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> A knob control rotates the object by 270 degrees with a start offset of -135 degrees, around the center at x,y = 32,32 pixels. In this case, the indicator of the control is rotated displaying the current value.</p>
<h3 id="changing-the-position-of-an-object"><a class="header" href="#changing-the-position-of-an-object">Changing the Position of an Object</a></h3>
<h4 id="slider-1"><a class="header" href="#slider-1">Slider</a></h4>
<p><strong>Resource:</strong> Circle.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate(-0.5,0.5)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The upper left corner of the object is moved by a fixed amount, -0.5 pixels down and 0.5 pixels to the right. Here, it places the handle of the slider at the correct position.</p>
<h3 id="changing-the-path-of-an-object"><a class="header" href="#changing-the-path-of-an-object">Changing the Path of an Object</a></h3>
<h4 id="slider-2"><a class="header" href="#slider-2">Slider</a></h4>
<p><strong>Resource:</strong> LightStrip H3Uni.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Path</td><td style="text-align: left">d</td><td style="text-align: left"><code>M 0 9.5 L $(N*100) 9.5</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Draws a horizontal line using the normalized value of the control.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="animating-svgs-with-additional-parameters"><a class="header" href="#animating-svgs-with-additional-parameters">Animating SVGs with Additional Parameters</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html#defining-additional-svg-parameters">Defining Additional SVG Parameters</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html#animating-additional-svg-parameters">Animating Additional SVG Parameters</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html#changing-multiple-svg-properties">Changing Multiple SVG Properties</a></li>
</ul>
</li>
</ul>
<hr />
<p><a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Animation.html">Animation</a> controls can have more than one animatable SVG property.</p>
<h2 id="defining-additional-svg-parameters"><a class="header" href="#defining-additional-svg-parameters">Defining Additional SVG Parameters</a></h2>
<p>To define additional parameters, you must use a Lua expression with the V, N, or S variable extended by a name variable. An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>You can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>N</strong></td><td style="text-align: left">The normalized value (0 to 1.0) of the control itself.</td></tr>
<tr><td style="text-align: left"><strong>V</strong></td><td style="text-align: left">The value as sent by the connected engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>S</strong></td><td style="text-align: left">A string as sent by the connected parameter.</td></tr>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">A definable name for the variable.</td></tr>
</tbody></table>
</div>
<p>The string of a S variable is set either by a stringlist variable or by MIDI script or UI script parameters. The ability to use the string output of a parameter allows you to transmit even a full sequence of values, such as the path of an object, for example.</p>
<blockquote>
<p><strong>$(VName) | $(NName) | $(SName)</strong></p>
</blockquote>
<p>The additional parameters must be defined in the respective SVG resource like this.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/SVG-Properties-with-Additional-Parameters.png" alt="SVG Properties with Additional Parameters" /></p>
<p>These additional SVG resource attributes are introduced as supplementary values within an <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Animation.html">Animation</a> control. They can be connected to engine, MIDI script, or UI script parameters, analogous to other control values.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animation-Properties-with-Additional-Parameters.png" alt="Animation Properties with Additional Parameters" /></p>
<p>This integration enables the manipulation of SVG elements and their subordinate objects in various ways. Each associated parameter governs a specific facet of the animation. For instance, one parameter might change object rotation, while another parameter concurrently adjusts dimensions, color properties, etc.</p>
<blockquote>
<p>❕ To animate SVGs without the utilization of UI scripts, see <a href="HALion-Tutorials-Guidelines/pages/./Animating-Switches-Using-SVGs.html">Animating Switches Using SVGs</a> for details.</p>
</blockquote>
<h2 id="animating-additional-svg-parameters"><a class="header" href="#animating-additional-svg-parameters">Animating Additional SVG Parameters</a></h2>
<p>The following example is intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset-3"><a class="header" href="#example-vst-preset-3">Example VST Preset</a></h3>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20SVGs%20with%20Additional%20Parameters.vstpreset">Animating SVGs with Additional Parameters.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animating-SVGs-with-Additional-Parameters.png" alt="Animating SVGs with Additional Parameters" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20SVGs%20with%20Additional%20Parameters.vstpreset">Animating SVGs with Additional Parameters.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the Animation Script Example template.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Animation.html">Animation</a> control. Take a look at which <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resource has been assigned.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="changing-multiple-svg-properties"><a class="header" href="#changing-multiple-svg-properties">Changing Multiple SVG Properties</a></h3>
<p><strong>Resource:</strong> Rotating Star.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>scale($(1-NScale))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The star is faded out by scaling it from original to minimum size. The name of the additional parameter is 'Scale'.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate($(N*360), 50,50)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The star is rotated by 360 degrees. It does not need a name variable, because it uses the 'Value' parameter of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Animation.html">Animation</a> control.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rgb(255,$(math.floor(255-NColor*255)),$(math.floor(255-NColor*255)))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color fades from white to red. The name of the additional parameter is 'Color'.</p>
<p>The script has three outputs which are connected to the corresponding SVG properties. The speed for each animation is defined inside the script. The script is attached to the Animation Script Example Template.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animation-Script-Example-Template.png" alt="Animation Script Example Template" /></p>
<pre><code class="language-lua">defineParameter{name = "on", default = false, onChanged = function() animate() end}   
defineParameter{name = "out1", default = 0, min = 0, max = 1}   
defineParameter{name = "out2", default = 0, min = 0, max = 1}   
defineParameter{name = "out3", default = 0, min = 0, max = 1}   
defineParameter{name = "frames", default = 65, min = 1, max = 1000, type = "integer"}   
defineParameter{name = "frameDuration", default = 50, min = 20, max = 10000, type = "integer"}   
  
-- The calcPhasor function returns a closure that maintains the counter value
-- and increments it by the specified increment.  
function calcPhasor(increment)  
    local counter = 0  
  
    return function()  
        counter = (counter + increment) % 1  
        return counter  
    end  
end  

function animate()
    -- Create phasors with different speed.
    local phasor1 = calcPhasor(1/frames)        -- Full speed.  
    local phasor2 = calcPhasor(1/(frames*2))    -- Half speed. 
    local phasor3 = calcPhasor(2*1/frames)      -- Double speed. 
    -- Call the phasor functions repeatedly. 
    while on do  
        out1 = phasor1()  
        out2 = phasor2()  
        out3 = phasor3()  
        wait(frameDuration)  
    end  
    out1, out2, out3 = 0, 0, 0  
end  
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="animating-switches-using-svgs"><a class="header" href="#animating-switches-using-svgs">Animating Switches Using SVGs</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#adding-an-animation-object">Adding an Animation Object</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#defining-the-animation">Defining the Animation</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#animating-switches">Animating Switches</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#animated-dashed-line">Animated Dashed Line</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#animated-colors">Animated Colors</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#animated-size">Animated Size</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#animated-brackets">Animated Brackets</a></li>
</ul>
</li>
</ul>
<hr />
<p>Using SVGs as resources for the different states of a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control allows for state-specific animations, to enhance the visibility of each state. The state-specific animations are defined by using Lua expressions in the resource properties of the SVG that is assigned to each state. The SVG resources to be animated require an <a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#adding-an-animation-object">animation object</a> that defines the duration and number of cycles for the animation. This integration enables the manipulation of SVG objects without the need to use UI scripts.</p>
<blockquote>
<p>❕ See <a href="HALion-Tutorials-Guidelines/pages/./Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a> for details on using UI scripts for animations.</p>
</blockquote>
<h2 id="adding-an-animation-object"><a class="header" href="#adding-an-animation-object">Adding an Animation Object</a></h2>
<p>Before you can define the animation in the SVG resource properties, you must add an additional animation object to the SVG resource you want to animate.</p>
<ol>
<li>Go to the <strong>Resource Tree</strong> and select the SVG resource you want to animate.</li>
<li>In the the <strong>Objects</strong> line, click <strong>+</strong>.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animating-Switches-Using-SVGs-Adding-Objects.png" alt="Adding Objects" /></p>
<ol start="3">
<li>Set the ID of the object to <code>animation</code>.</li>
<li>Add a <code>duration</code> property and set its value to '1'.</li>
<li>Add a <code>cycles</code> property and set its value to '200'.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animating-Switches-Using-SVGs-Animation-Object.png" alt="Animation Object" /></p>
<p>In this example, one cycle of the animation takes 1 second and the animation is played for 200 cycles. The settings should be sufficient to keep the animation running, even if you hover the mouse over the switch for a longer time, for example. Depending on the application of your animation, you can increase or decrease these values.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">This property defines how long it takes to play one cycle of the animation in seconds.</td><td style="text-align: left">float</td></tr>
<tr><td style="text-align: left"><strong>cycles</strong></td><td style="text-align: left">This property defines how often the animation is played. The minimum number of cycles must be greater than 0.</td><td style="text-align: left">integer</td></tr>
</tbody></table>
</div>
<h2 id="defining-the-animation"><a class="header" href="#defining-the-animation">Defining the Animation</a></h2>
<p>The animations are defined in the SVG resource properties by using Lua expressions. An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>Assuming the presence of an <a href="HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html#adding-an-animation-object">animation object</a>, you can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Duration</strong></td><td style="text-align: left">Corresponds to the value set by the <code>duration</code> property.</td></tr>
<tr><td style="text-align: left"><strong>T</strong></td><td style="text-align: left">The overal time since the start of the animation in seconds.</td></tr>
<tr><td style="text-align: left"><strong>t</strong></td><td style="text-align: left">The normalized time (0 to 1.0) within the current cycle.</td></tr>
<tr><td style="text-align: left"><strong>Cycle</strong></td><td style="text-align: left">The number of completed cycles, starting at 0. The <code>cycles</code> property defines the maximum number of cycles.</td></tr>
</tbody></table>
</div>
<h2 id="animating-switches"><a class="header" href="#animating-switches">Animating Switches</a></h2>
<p>The following examples are intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset-4"><a class="header" href="#example-vst-preset-4">Example VST Preset</a></h3>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20Switches%20Using%20SVGs.vstpreset">Animating Switches Using SVGs.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Animating-Switches-Using-SVGs.png" alt="Animating Switches Using SVGs" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Animating%20Switches%20Using%20SVGs.vstpreset">Animating Switches Using SVGs.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the template you wish to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control. Take a look at which <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resources have been assigned to the different states of the switch.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="animated-dashed-line"><a class="header" href="#animated-dashed-line">Animated Dashed Line</a></h3>
<h4 id="dashes-switch"><a class="header" href="#dashes-switch">Dashes Switch</a></h4>
<p>In this example, the same animation is used for the on and off states of the switch.</p>
<p><strong>Resources:</strong> AniRect SW1_Off_Hover, AniRect SW1_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">stroke-dashoffset</td><td style="text-align: left"><code>$(1+t*20)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> A dashed line moves counterclockwise around the switch when you hold the mouse over the switch. By using <code>$(1-t*20)</code> the dashed line moves clockwise around the switch.</p>
<h3 id="animated-colors"><a class="header" href="#animated-colors">Animated Colors</a></h3>
<p>In this example, different animations are used for the on and off states of the switch.</p>
<h4 id="colors-switch"><a class="header" href="#colors-switch">Colors Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW2_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,$(100-math.cos(t*6.28)*72)%,1)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color periodically fades between grey and white when you hold the mouse over the switch while the switch is in the off state.</p>
<p><strong>Resource:</strong> AniRect SW2_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(214, $(100-math.cos(t*6.28)*40)%, $(80-math.cos(t*6.28)*20)%, 1)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color periodically fades between white and blue when you hold the mouse over the switch while the switch is in the on state.</p>
<h3 id="animated-size"><a class="header" href="#animated-size">Animated Size</a></h3>
<p>In this example, different animations are used for the on and off states of the switch.</p>
<h4 id="size-switch"><a class="header" href="#size-switch">Size Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW5_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(7-math.abs(0.5-t)*10)</code></td></tr>
<tr><td style="text-align: left">feGaussianBlur1740</td><td style="text-align: left">stdDeviation</td><td style="text-align: left"><code>$(1-math.abs(0.5-t)*2)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The radius of the circle and the deviation of the blur change periodically when you hold the mouse over the switch while the switch is in the off state. The color is grey and the inner circle is smaller than the blur. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>. The 'stdDeviation' attribute defines the standard deviation for the blur.</p>
<p><strong>Resource:</strong> AniRect SW5_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(7-math.abs(0.5-t)*6)</code></td></tr>
<tr><td style="text-align: left">feGaussianBlur1740</td><td style="text-align: left">stdDeviation</td><td style="text-align: left"><code>$(1-math.abs(0.5-t)*2)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The radius of the circle and the deviation of the blur change periodically when you hold the mouse over the switch while the switch is in the on state. The color is green and the inner circle is larger than in the off state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>. The 'stdDeviation' attribute defines the standard deviation for the blur.</p>
<h3 id="animated-brackets"><a class="header" href="#animated-brackets">Animated Brackets</a></h3>
<p>In this example, multiple properties get animated for each state and different animations are used for the on and off states of the switch.</p>
<h4 id="brackets-switch"><a class="header" href="#brackets-switch">Brackets Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW6_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,$(100-math.abs(0.5-t)*144)%,1)</code></td></tr>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(6-math.abs(0.5-t)*4)</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(-10+t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,80%,$(1-t*0.9))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(10-t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,80%,$(1-t*0.9))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The switch blinks periodically in white and round brackets are moving from the outside to the inside when you hold the mouse over the switch while the switch is in the off state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>.</p>
<p><strong>Resource:</strong> AniRect SW6_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,$(50-math.abs(0.5-t)*40)%,1)</code></td></tr>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(6-math.abs(0.5-t)*4)</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(-10+t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,50%,$(1-t*0.9))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(12-t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,50%,$(1-t*0.9))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The switch blinks periodically in green and round brackets are moving from the outside to the inside when you hold the mouse over the switch while the switch is in the on state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="custom-multi-level-menus"><a class="header" href="#custom-multi-level-menus">Custom Multi-Level Menus</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#how-the-elements-interact">How the Elements Interact</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#multi-level-menu-selector">Multi-Level Menu Selector</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-root">Menu Root</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#rootmenuentry">RootMenuEntry</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1, 2, 3, 4</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menuentry">MenuEntry</a></li>
</ul>
</li>
</ul>
<hr />
<p>The standard menu control can be used to control parameters offering a list of options, for example, the oscillator type of a synth oscillator. Although the menu control is a fast way to implement selection menus, its disadvantage is that it cannot be customized in its appearance and always uses the look of the operating system menus. If you want to implement a menu that follows the look and design language of your instrument, you can create menu templates that can be opened via switches using the popup style.</p>
<p>This custom popup menu can be extended to a custom multi-level menu: The template for the first level of the menu provides exclusive switches that open further popup templates for the next level of the menu. The exclusive switches on the first level must be connected to the same Popup List variable. On the next level, the menu provides exclusive switches that are connected to the desired parameter.</p>
<p>Creating menus with this structure is very flexible and you can configure them freely in every detail. For example, you can reduce the available options by leaving them out. This structure also allows you to create menus that have a completely different look than standard menus. You can create menus with entries that are arranged in a circle or use icons instead of text, for example.</p>
<p>The example below demonstrates how to build a custom multi-level menu for the oscillator type of the synth oscillator. The example is intended as an inspiration for you to develop your own solutions and ideas. You can adapt the look and feel, the number of menu entries, etc. by editing the corresponding templates.</p>
<blockquote>
<p>❕ The menu in the example below structures the oscillator types into four subgroups. If you want to show the oscillator types in a single list, please refer to <a href="HALion-Tutorials-Guidelines/pages/./Custom-Popup-Menus.html">Custom Popup Menus</a>.</p>
</blockquote>
<blockquote>
<p>❕ HALion 7 introduced another method for creating custom multi-level menus. See <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus-II.html">Custom Multi-Level Menus II</a> for details.</p>
</blockquote>
<h2 id="example-vst-preset-5"><a class="header" href="#example-vst-preset-5">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Custom%20Multi-Level%20Menus.vstpreset">Custom Multi-Level Menus.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus.png" alt="Custom Multi-Level Menus" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Custom%20Multi-Level%20Menus.vstpreset">Custom Multi-Level Menus.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>Templates Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="prerequisites-2"><a class="header" href="#prerequisites-2">Prerequisites</a></h2>
<ul>
<li>A program with a synth zone and a macro page.</li>
<li>A group with a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a>, a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> and an <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-root">Menu Root</a> template for the first level of the menu.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#rootmenuentry">RootMenuEntry</a> template for creating the entries of the first level menu.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1, 2, 3, 4</a> template for each second level menu.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menuentry">MenuEntry</a> template for creating the entries of the second level menu.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menu-Templates.png" alt="Custom Multi-Level Menu Templates" /></p>
<h2 id="how-the-elements-interact"><a class="header" href="#how-the-elements-interact">How the Elements Interact</a></h2>
<h3 id="multi-level-menu-selector"><a class="header" href="#multi-level-menu-selector">Multi-Level Menu Selector</a></h3>
<p>The Multi-Level Menu Selector <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Group.html">Group</a> in the GUI Tree contains the elements <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-switch">Menu Switch</a>, <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-value">Menu Value</a> and <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-back">Menu Back</a>.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menu-Group.png" alt="Custom-Multi-Level Menu Selector" /></p>
<p><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-switch">Menu Switch</a> is a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control that is configured to open the popup menu. It uses the Popup style with the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-root">Menu Root</a> template which contains a Popup List variable and entries for each submenu. The entries for the submenus use the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#rootmenuentry">RootMenuEntry</a> template to determine the entries in the root menu. All entries must be connected to the same Popup List variable which selects the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1,2,3,or 4</a> template for the respective entry. The <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#rootmenuentry">RootMenuEntry</a> template uses the hover exclusive mode to open the respective submenu template when you hover over an entry. The <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1,2,3,4</a> and <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menuentry">MenuEntry</a> templates determine the entries of the submenus. These templates will be explained in more detail below. <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-value">Menu Value</a> is a text control for displaying the current value and <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-back">Menu Back</a> is an image control for the background image.</p>
<h4 id="menu-switch"><a class="header" href="#menu-switch">Menu Switch</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control is used to open the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menu-root">Menu Root</a> template as a pop-up. Since it is combined with a background image and a text, the switch itself does not require any graphics. To open the pop-up menu, the properties of the switch must be set to the following values:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Values</th></tr></thead><tbody>
<tr><td style="text-align: left">Mode</td><td style="text-align: left">push</td></tr>
<tr><td style="text-align: left">Style</td><td style="text-align: left">Popup</td></tr>
<tr><td style="text-align: left">Template</td><td style="text-align: left">Menu Root</td></tr>
<tr><td style="text-align: left">Close on Click</td><td style="text-align: left">Outside</td></tr>
<tr><td style="text-align: left">Placement</td><td style="text-align: left">Place Left, Place Right, Place Below</td></tr>
</tbody></table>
</div>
<h4 id="menu-value"><a class="header" href="#menu-value">Menu Value</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control is connected to the oscillator type parameter and displays the selected type.</p>
<h4 id="menu-back"><a class="header" href="#menu-back">Menu Back</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays a backgroud image, in this case, a black panel.</p>
<h3 id="menu-root"><a class="header" href="#menu-root">Menu Root</a></h3>
<p>This template contains four instances of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#rootmenuentry">RootMenuEntry</a> template, one for each oscillator subgroup. The entries are determined by their template parameters: The names of the entries is set with the MenuText parameter (Standard, Sync, Cross, or XOR). All four entries must be connected to the same Popup List variable <code>@submenus</code> and the OnValues must be set accordingly (1-4). When hovering the mouse over a menu entry, it will open the submenu template that refers to the OnValues 1-4.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menu-Root-Entry.png" alt="Custom Multi-Level Menu Root Entry" /></p>
<h4 id="variables-submenus"><a class="header" href="#variables-submenus">Variables submenus</a></h4>
<p>The Popup List variable "submenus" selects the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1,2,3,4</a> templates for the respective entry. The order of the list refers to the OnValues 1-4.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menu-Popup-List.png" alt="Custom Multi-Level Menu Popup List" /></p>
<h3 id="rootmenuentry"><a class="header" href="#rootmenuentry">RootMenuEntry</a></h3>
<p>This template represents one entry of the root menu. It consists of four elements:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-RootMenuEntry.png" alt="Custom Multi-Level RootMenuEntry" /></p>
<h4 id="triangle"><a class="header" href="#triangle">Triangle</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays a open menu triangle.</p>
<h4 id="text-1"><a class="header" href="#text-1">Text</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control displays the name of the entry. The Style of the control is set to Read-Only so that the text cannot be edited. The Value of the text is exported and the name is set to MenuText on the template level.</p>
<h4 id="switch-1"><a class="header" href="#switch-1">Switch</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control uses the hover exclusive mode to open the respective submenu template when you hover over an entry. Since it is combined with a background image and a text, the switch itself does not require any graphics. To open the submenu template, the properties of the switch must be set to the following values:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Values</th></tr></thead><tbody>
<tr><td style="text-align: left">Value</td><td style="text-align: left">Exported to the template level.</td></tr>
<tr><td style="text-align: left">Mode</td><td style="text-align: left">hover exclusive</td></tr>
<tr><td style="text-align: left">Style</td><td style="text-align: left">Popup, Scalable</td></tr>
<tr><td style="text-align: left">Close on Click</td><td style="text-align: left">Inside, Outside</td></tr>
<tr><td style="text-align: left">Placement</td><td style="text-align: left">Place Right, Place Below</td></tr>
<tr><td style="text-align: left">Bmp On</td><td style="text-align: left">MenuHover</td></tr>
<tr><td style="text-align: left">Onvalue</td><td style="text-align: left">Exported to the template level.</td></tr>
</tbody></table>
</div>
<h4 id="image-1"><a class="header" href="#image-1">Image</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays a background image for the entry.</p>
<h3 id="submenu_1-2-3-4"><a class="header" href="#submenu_1-2-3-4">SubMenu_1, 2, 3, 4</a></h3>
<p>Each of these templates contains four instances of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#menuentry">MenuEntry</a> template, one for each oscillator type. The entries are determined by their template parameters: The names of the entries is set with the MenuText parameter (e.g., Sine, Triangle, Saw, or Squ PWM). All four entries must be connected to the Type parameter of the desired oscillator and the OnValues must be set accordingly (0-15).</p>
<p>For example:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">MenuText</td><td style="text-align: left">Sine</td></tr>
<tr><td style="text-align: left">OnValue</td><td style="text-align: left">0</td></tr>
<tr><td style="text-align: left">Value</td><td style="text-align: left">@0:Zone 1/@id:b0001</td></tr>
</tbody></table>
</div>
<p>for the Sine oscillator or</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Parameter</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">MenuText</td><td style="text-align: left">Sine Sync</td></tr>
<tr><td style="text-align: left">OnValue</td><td style="text-align: left">4</td></tr>
<tr><td style="text-align: left">Value</td><td style="text-align: left">@0:Zone 1/@id:b0001</td></tr>
</tbody></table>
</div>
<p>for the Sine Sync oscillator.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menu-SubMenu-2.png" alt="Custom Multi-Level Menu SubMenu 2" /></p>
<h3 id="menuentry"><a class="header" href="#menuentry">MenuEntry</a></h3>
<p>This template represents one menu entry of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html#submenu_1-2-3-4">SubMenu_1,2,3,4</a> templates and must be instantiated for each oscillator type. It consists of three elements:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-MenuEntry.png" alt="Custom Multi-Level MenuEntry" /></p>
<h4 id="text-2"><a class="header" href="#text-2">Text</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control displays the name of the entry. The Style of the control is set to Read-Only so that the text cannot be edited. The Value of the text is exported and the name is set to MenuText on the template level.</p>
<h4 id="switch-2"><a class="header" href="#switch-2">Switch</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control uses the exclusive mode to set the respective oscillator type when you select an entry. Since it is combined with a background image and a text, the switch itself does not require any graphics. The properties of the switch must be set to the following values:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Values</th></tr></thead><tbody>
<tr><td style="text-align: left">Value</td><td style="text-align: left">Exported to the template level.</td></tr>
<tr><td style="text-align: left">Mode</td><td style="text-align: left">exclusive</td></tr>
<tr><td style="text-align: left">Style</td><td style="text-align: left">Hover, Scalable</td></tr>
<tr><td style="text-align: left">Bmp Hov</td><td style="text-align: left">MenuHover</td></tr>
<tr><td style="text-align: left">Onvalue</td><td style="text-align: left">Exported to the template level.</td></tr>
</tbody></table>
</div>
<h4 id="image-2"><a class="header" href="#image-2">Image</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays a background image for the entry.</p>
<blockquote>
<p>❕ Pop-up menus can only be displayed within the dimensions of the macro page. If a pop-up menu is too large, it will be clipped. To prevent this, you can either change the direction in which the pop-up menu opens, e.g., open it to the top instead of to the bottom, or you can change the size of the template, so that it fits, and then activate the scrollbar to be able to scroll to the available entries.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="custom-multi-level-menus-ii"><a class="header" href="#custom-multi-level-menus-ii">Custom Multi-Level Menus II</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#overview-of-templates">Overview of Templates</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#importing-the-templates">Importing the Templates</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#how-the-elements-interact">How the Elements Interact</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenu">RootMenu</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#menuentry">MenuEntry</a></li>
</ul>
</li>
</ul>
<hr />
<p>This how-to describes another way to build custom pop-up menus. The solution shown can be used to build single-level or multi-level pop-up menus. An example of a single-level pop-up menu can be found in <a href="HALion-Tutorials-Guidelines/pages/./Working-with-Exported-Variables.html">Working with Exported Variables</a>.</p>
<p>The example below demonstrates how to build a custom multi-level menu for the oscillator type of the synth oscillator. The example is intended as an inspiration for you to develop your own solutions and ideas. You can adapt the look and feel, the number of menu entries, etc. by editing the corresponding templates.</p>
<h2 id="example-vst-preset-6"><a class="header" href="#example-vst-preset-6">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Custom%20Multi-Level%20Menus%20II.vstpreset">Custom Multi-Level Menus II.vstpreset</a></li>
</ul>
<h2 id="prerequisites-3"><a class="header" href="#prerequisites-3">Prerequisites</a></h2>
<ol>
<li>Load a program with a synth zone.</li>
<li>Open the <strong>Macro Page Designer</strong> and click <strong>Create New Macro Page/Library</strong>.</li>
</ol>
<h2 id="overview-of-templates"><a class="header" href="#overview-of-templates">Overview of Templates</a></h2>
<p>In this example, you will add the following templates from the <strong>Basic Controls</strong> library to the <strong>Template List</strong>:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-Templates.png" alt="Custom Multi-Level Menus II Templates" /></p>
<h2 id="importing-the-templates"><a class="header" href="#importing-the-templates">Importing the Templates</a></h2>
<ol>
<li>In the <strong>Resource/Library Browser</strong>, open the <strong>Basic Controls</strong> library and navigate to <strong>./Menus/Custom</strong>.</li>
<li>Drag the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a> template to your macro page.</li>
<li>Set the <strong>Template Parameters</strong> of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a> template as follows:
<ul>
<li>Set <strong>Popup</strong> to 'RootMenu'.</li>
<li>Connect <strong>Value</strong> to the Osc1 Type parameter, e.g., <code>@0:Zone 1/@id:b0001</code>.</li>
<li>Set <strong>Label</strong> to 'WAVEFORM'.</li>
</ul>
</li>
<li>Go to the <strong>Template List</strong>. Drag the following templates from the <strong>Resource/Library Browser</strong> to the <strong>Template List</strong>:
<ul>
<li>Basic Controls/Menus/Custom/Nested Menu/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenu">RootMenu</a></li>
<li>Basic Controls/Menus/Custom/Nested Menu/Sub Menus/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Menu_Standard</a></li>
<li>Basic Controls/Menus/Custom/Nested Menu/Sub Menus/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Menu_Sync</a></li>
<li>Basic Controls/Menus/Custom/Nested Menu/Sub Menus/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Menu_Crossmod</a></li>
<li>Basic Controls/Menus/Custom/Nested Menu/Sub Menus/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Menu_XOR</a></li>
</ul>
</li>
</ol>
<p>The following templates will be added automatically:</p>
<ul>
<li>Basic Controls/Menus/Custom/Nested Menu/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a></li>
<li>Basic Controls/Menus/Custom/Simple Menu/<a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#menuentry">MenuEntry</a></li>
</ul>
<p>If you have followed the described steps exactly, the menu should already work.</p>
<h2 id="how-the-elements-interact-1"><a class="header" href="#how-the-elements-interact-1">How the Elements Interact</a></h2>
<h3 id="selector"><a class="header" href="#selector">Selector</a></h3>
<p>The Selector template contains the elements which are required to open the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenu">RootMenu</a> template and display the selected value.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-Selector.png" alt="Custom Multi-Level Menus II Selector" /></p>
<h4 id="ui-variables-7"><a class="header" href="#ui-variables-7">UI Variables</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>sel</strong></td><td style="text-align: left">This variable is used by all menu entries of the pop-up menu. <code>sel</code> is exported as 'Value' and combined with the Value property of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control.  As a result, the display string of the connected engine parameter will be displayed instead of the integer value.</td><td style="text-align: left">Integer</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ For further information about exported variables, see <a href="HALion-Tutorials-Guidelines/pages/./Working-with-Exported-Variables.html">Working with Exported Variables</a>.</p>
</blockquote>
<h4 id="controls-and-subtemplates-18"><a class="header" href="#controls-and-subtemplates-18">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Switch</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control that opens the pop-up menu. Its Popup Template property is exported as 'Popup'. This allows you to select which pop-up menu to open for each instance of the Selector template.</td></tr>
<tr><td style="text-align: left"><strong>Text</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control for displaying the display string of the connected engine parameter. This is achieved by exporting the Value property as 'Value'. Since the <code>sel</code> UI variable is also exported as 'Value', both are combined into one template parameter, creating the interface for connecting the engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>Triangle</strong></td><td style="text-align: left">An <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control to indicate that a pop-up menu can be opened.</td></tr>
<tr><td style="text-align: left"><strong>Decor</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Decor-Control.html">Decor</a> control used as background.</td></tr>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control for displaying the name of the connected parameter. Its Text property is exported as 'Label'. This allows you to name the Selector template differently for each instance.</td></tr>
</tbody></table>
</div>
<h3 id="rootmenu"><a class="header" href="#rootmenu">RootMenu</a></h3>
<p>The RootMenu template is displayed when clicking the selector on the macro page. It defines the menu entries and opens the assigned <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> templates when navigating through the menu.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-RootMenu.png" alt="Custom Multi-Level Menus II RootMenu" /></p>
<h4 id="ui-variables-8"><a class="header" href="#ui-variables-8">UI Variables</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Range</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>submenus</strong></td><td style="text-align: left">This Popup List variable is required to assign the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> templates to the entries of the RootMenu template. The entries in the Popup List correspond to the names of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> templates to be opened when navigating through the menu. The Popup List variable opens the assigned <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> template when it receives the OnValue of the corresponding <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a> template.</td><td style="text-align: left">String</td><td style="text-align: left">Menu_Standard, Menu_Sync, Menu_Crossmod, Menu_XOR</td></tr>
</tbody></table>
</div>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-PopupListVar.png" alt="Custom Multi-Level Menus II PopupListVariable" /></p>
<h4 id="controls-and-subtemplates-19"><a class="header" href="#controls-and-subtemplates-19">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Standard, Sync, Crossmod, XOR</strong></td><td style="text-align: left">These represent the four entries of the menu. They use the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a> template which defines the look and functionality of an entry. The Value parameter of all <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a> templates must be set to <code>@submenus</code>. The OnValue parameters of the specific <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a> templates must be set to the index of the corresponding entry in the Popup List variable. The OnValue will be sent to the Value parameter which is sent to the <code>submenu</code> Popup List variable which opens the corresponding <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">RootMenuEntry</a> template. The Label parameter defines the name of the entry to be displayed in the menu.</td></tr>
</tbody></table>
</div>
<h3 id="rootmenuentry-1"><a class="header" href="#rootmenuentry-1">RootMenuEntry</a></h3>
<p>This template represents one entry in the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenu">RootMenu</a> template. It consists of two elements:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-RootMenuEntry.png" alt="Custom Multi-Level Menus II RootMenuEntry" /></p>
<h4 id="controls-and-subtemplates-20"><a class="header" href="#controls-and-subtemplates-20">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control to display the name of the menu entry. Its Text property is exported as 'Label'. This allows you to name the template differently for each instance.</td></tr>
<tr><td style="text-align: left"><strong>Switch</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control with hover exclusive mode which sends its OnValue when the mouse is above the menu entry. The OnValue and Value properties are exported to be set by each instance of the template. See <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenu">RootMenu</a> for details.</td></tr>
</tbody></table>
</div>
<h3 id="submenu"><a class="header" href="#submenu">Submenu</a></h3>
<p>There are four submenu templates in the Template List: Menu_Standard, Menu_Sync, Menu_Crossmod, and Menu_XOR. Each Submenu template contains four <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#menuentry">MenuEntry</a> templates that define the entries of the submenu.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-Menu_Standard.png" alt="Custom Multi-Level Menus II Menu_Standard" /></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Sine, Triangle, Saw, Square</strong></td><td style="text-align: left">These represent the four entries of the submenu. They use the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#menuentry">MenuEntry</a> template which defines the look and functionality of an entry. The OnValue parameter of each <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">MenuEntry</a> template must be set to the corresponding value of the engine parameter it selects. This value will be sent to the <code>sel</code> variable. See <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#rootmenuentry">MenuEntry</a> and <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#ui-variables">Selector/UI Variables</a> for details. The Label parameter defines the name of the entry to be displayed in the menu.</td></tr>
</tbody></table>
</div>
<h3 id="menuentry-1"><a class="header" href="#menuentry-1">MenuEntry</a></h3>
<p>This template represents one entry in the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> template. It consists of two elements:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Multi-Level-Menus-II-MenuEntry.png" alt="Custom Multi-Level Menus II MenuEntry" /></p>
<h4 id="controls-and-subtemplates-21"><a class="header" href="#controls-and-subtemplates-21">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control to display the name of the menu entry. Its Text property is exported as 'Label'. This allows you to name the template differently for each instance.</td></tr>
<tr><td style="text-align: left"><strong>Switch</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control with exclusive mode. The OnValue property is exported to be set by each instance of the template. See <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#submenu">Submenu</a> for details. The Value property must be set to <code>@sel</code>, the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#ui-variables">UI variable</a> of the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a> template. The OnValue will be sent to the Value parameter which is sent to the <code>sel</code> variable. As a result, the currently selected value will be sent to the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a> template which is connected to the engine parameter and the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control within the <a href="HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus-II.html#selector">Selector</a> template shows the display string of the engine parameter.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ Pop-up menus can only be displayed within the dimensions of the macro page. If a pop-up menu is too large, it will be clipped. To prevent this, you can either change the direction in which the pop-up menu opens, e.g., open it to the top instead of to the bottom, or you can change the size of the template, so that it fits, and then activate the scrollbar to be able to scroll to the available entries.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="custom-popup-menus"><a class="header" href="#custom-popup-menus">Custom Popup Menus</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#how-the-elements-interact">How the Elements Interact</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#custom-popup">Custom Popup</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simple-menu">Simple Menu</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simplemenuentry">SimpleMenuEntry</a></li>
</ul>
</li>
</ul>
<hr />
<p>The standard menu control can be used to set parameters offering a list of options, e.g., the oscillator type of a synth oscillator. Allthough the menu control is a fast way to implement selection menus, its disadvantge is that it always uses the look of the operating system menus. If you want to implement a menu that follows the look and design language of your instrument, you can create menu templates that are openend via a switch using the pop-up style.</p>
<p>This how-to demonstrates how to build a custom pop-up menu for the ocillator type of a synth oscillator. This is how it looks on the macro page if the pop-up menu is opened:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menu-Opened.png" alt="Custom Popup Menu Opened" /></p>
<blockquote>
<p>❕ The menu in the example below shows all oscillator types in a long list. If you want to create a menu with mutiple levels, please refer to <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus.html">Custom Multi-Level Menus</a>, <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus-II.html">Custom Multi-level Menus II</a> or <a href="HALion-Tutorials-Guidelines/pages/./Multi-Level-System-Menus.html">Multi-Level System Menus</a>.</p>
</blockquote>
<blockquote>
<p>❕ HALion 7 introduced another method for creating custom pop-up menus making use of exported variables. See <a href="HALion-Tutorials-Guidelines/pages/./Working-with-Exported-Properties.html">Working with Exported Variables</a> for details.</p>
</blockquote>
<h2 id="example-vst-preset-7"><a class="header" href="#example-vst-preset-7">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Custom%20Popup%20Menus.vstpreset">Custom Popup Menus.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menus.png" alt="Custom Popup Menus" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Custom%20Popup%20Menus.vstpreset">Custom Popup Menus.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>Templates Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="prerequisites-4"><a class="header" href="#prerequisites-4">Prerequisites</a></h2>
<ul>
<li>A program with a synth zone and a macro page.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Group.html">Group</a> with a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a>, a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> and an <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simple-menu">Simple Menu</a> template for the pop-up menu.</li>
<li>A <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simplemenuentry">SimpleMenuEntry</a> template for creating the entries of the pop-up menu.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menu-Templates.png" alt="Custom Popup Menu Templates" /></p>
<h2 id="how-the-elements-interact-2"><a class="header" href="#how-the-elements-interact-2">How the Elements Interact</a></h2>
<h3 id="custom-popup"><a class="header" href="#custom-popup">Custom Popup</a></h3>
<p>The Custom Popup <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Group.html">Group</a> contains the elements that are needed to open the pop-up menu and to display the selected value.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menu-Group.png" alt="Custom Popup Group" /></p>
<p><a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#menu-switch">Menu Switch</a> is a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control that is configured to open the pop-up menu. It uses the Popup style with the <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simple-menu">Simple Menu</a> template which contains a Template List that uses the <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simplemenuentry">SimpleMenuEntry</a> template for displaying the available options. <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#menu-value">Menu Value</a> is a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control for displaying the current value and <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#menu-back">Menu Back</a> is an <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control for the background image.</p>
<h4 id="menu-switch-1"><a class="header" href="#menu-switch-1">Menu Switch</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control is used to open the <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simple-menu">Simple Menu</a> template as a pop-up. Since it is combined with a background image and a text, the switch itself does not require any graphics. To open the pop-up menu, the properties of the switch must be set to the following values:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Values</th></tr></thead><tbody>
<tr><td style="text-align: left">Mode</td><td style="text-align: left">push</td></tr>
<tr><td style="text-align: left">Style</td><td style="text-align: left">Popup</td></tr>
<tr><td style="text-align: left">Template</td><td style="text-align: left">Simple Menu</td></tr>
<tr><td style="text-align: left">Close on Click</td><td style="text-align: left">Inside, Outside</td></tr>
<tr><td style="text-align: left">Placement</td><td style="text-align: left">Place Left, Place Right, Place Below</td></tr>
</tbody></table>
</div>
<h4 id="menu-value-1"><a class="header" href="#menu-value-1">Menu Value</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control is connected to the oscillator type parameter and displays the selected type.</p>
<h4 id="menu-back-1"><a class="header" href="#menu-back-1">Menu Back</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays the background image, in this case, a black panel.</p>
<h3 id="simple-menu"><a class="header" href="#simple-menu">Simple Menu</a></h3>
<p>This template contains a template list view that uses the <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simplemenuentry">SimpleMenuEntry</a> template to create the entries of the pop-up menu.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menu-Simple-Menu.png" alt="Custom Popup Menu Simple Menu" /></p>
<p>The Value is connected to the oscillator type for switching the types. To create the entries for the available types, the template parameter MenuText must be connected to the oscillator type. The look of the entries is defined in the <a href="HALion-Tutorials-Guidelines/pages/Custom-Popup-Menus.html#simplemenuentry">SimpleMenuEntry</a> template.</p>
<h3 id="simplemenuentry"><a class="header" href="#simplemenuentry">SimpleMenuEntry</a></h3>
<p>This template represents one entry in the pop-up menu and is instanciated for each oscillator type.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Custom-Popup-Menu-SimpleMenuEntry.png" alt="Custom Popup Menu SimpleMenuEntry" /></p>
<h4 id="text-3"><a class="header" href="#text-3">Text</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control displays the name of an entry. The control is set to Read-only so that the text cannot be edited. The Value property is exported and named MenuText on the template level. The entries in the pop-up are created by connecting the exported parameter in the template list view to the oscillator type.</p>
<h4 id="switch-3"><a class="header" href="#switch-3">Switch</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control provides the hover image when moving the mouse over an entry.</p>
<h4 id="image-3"><a class="header" href="#image-3">Image</a></h4>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control displays the gray background for an entry.</p>
<blockquote>
<p>❕ Pop-up menus can only be displayed within the dimensions of the macro page. If a pop-up menu is too large, it will be clipped. To prevent this, you can either change the direction in which the pop-up menu opens, e.g., open it to the top instead of to the bottom, or you can change the size of the template, so that it fits, and then activate the scrollbar to be able to scroll to the available entries.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="dynamic-template-references"><a class="header" href="#dynamic-template-references">Dynamic Template References</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#how-the-elements-interact">How the Elements Interact</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#ui-variables">UI Variables</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#menu">Menu</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#dynamic-editor">Dynamic Editor</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Dynamic-Template-References.html#more-options">More Options</a></li>
</ul>
<hr />
<p>When building macro pages that use multiple, switchable editors, e.g., for different articulations of an instrument, it is advanteageous to use dynamic template references instead of stacked pages. The advantage of using a stack is that you always have access to all subpages from the GUI Tree and that you can establish connections with engine parameters easily. The disadvantage is that the entire macro page with all subpages must be kept in memory, even if only parts of it are displayed. A more economic way to deal with multiple editors is to work with template views and to switch the template reference using a script or a stringlist variable.</p>
<p>This how-to demonstrates how to use a stringlist variable with template references for switching between two templates.</p>
<h2 id="example-vst-preset-8"><a class="header" href="#example-vst-preset-8">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Dynamic%20Template%20Reference.vstpreset">Dynamic Template References.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Dynamic-Template-References.png" alt="Dynamic Template References" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Dynamic%20Template%20Reference.vstpreset">Dynamic Template References.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>Templates Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="prerequisites-5"><a class="header" href="#prerequisites-5">Prerequisites</a></h2>
<ul>
<li>A macro page with a template view.</li>
<li>Two templates, One and Two, to be shown alternatively in the template Dynamic Editor.</li>
<li>A stringlist variable t determining the names of the templates.</li>
<li>A Menu template to select the template to be displayed.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Dynamic-Template-References-GUI-Tree.png" alt="Dynamic Template References GUI Tree" /></p>
<h2 id="how-the-elements-interact-3"><a class="header" href="#how-the-elements-interact-3">How the Elements Interact</a></h2>
<p>The UI variable defines the names of the templates, One and Two, that are to be switched. The templates One and Two have been set up separately. You find them in the Templates Tree. They are referenced by the template Dynamic Editor, which displays only one of them, depending on which template is selected by the Menu template. This is achieved by setting the Template property of the Dynamic Editor and the Value property of the Menu template both to the UI variable <code>@t</code>.</p>
<h3 id="ui-variables-9"><a class="header" href="#ui-variables-9">UI Variables</a></h3>
<p>This variable defines the templates to be switched and it connects the Menu and Dynamic Editor templates.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th><th style="text-align: left">Values</th></tr></thead><tbody>
<tr><td style="text-align: left">t</td><td style="text-align: left">Switches between the defined templates.</td><td style="text-align: left">stringlist</td><td style="text-align: left">One, Two</td></tr>
</tbody></table>
</div>
<h3 id="menu-1"><a class="header" href="#menu-1">Menu</a></h3>
<p>This Menu template switches between the templates One and Two. Its Value must be set to the UI Variable <code>@t</code>.</p>
<h3 id="dynamic-editor"><a class="header" href="#dynamic-editor">Dynamic Editor</a></h3>
<p>This <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Template.html">Template</a> control references and displays the templates One or Two, depending on which template is selected by the Menu template. The Template property must be set to the UI variable <code>@t</code>.</p>
<h2 id="more-options"><a class="header" href="#more-options">More Options</a></h2>
<ul>
<li>Instead of using a stringlist variable, you can control the template reference using a UI script parameter.</li>
<li>When using a UI variable or a UI script parameter, the selected template reference will not be saved with the preset, instead the state will only be saved and restored with projects. If you want to save and restore the state with presets, you must use a Lua Script MIDI module with a corresponding parameter defined.</li>
<li>Instead of using a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Menu.html">Menu</a> control, you can also use exclusive switches to select the template reference.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="map-samples-to-root-key"><a class="header" href="#map-samples-to-root-key">Map Samples to Root Key</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Map-Samples-to-Root-Key.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Map-Samples-to-Root-Key.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Map-Samples-to-Root-Key.html#mapping-samples-to-the-root-key">Mapping Samples to the Root Key</a></li>
</ul>
<hr />
<p>This how-to shows how to map sample zones automatically to the root key that matches the analyzed pitch of the sample. Such helper functions can be useful during the production of large-scale sample libraries.</p>
<h2 id="example-vst-preset-9"><a class="header" href="#example-vst-preset-9">Example VST Preset</a></h2>
<p>The script parameters Start, Cancel and Channel can be accessed from the macro page of the example VST preset.</p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Map%20Samples%20to%20Root%20Key.vstpreset">Map Samples to Root Key.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Map-Samples-to-Root-Key.png" alt="Map Samples to Root Key" /></p>
<blockquote>
<p>❕ The example VST preset requires the factory content of HALion.</p>
</blockquote>
<h2 id="prerequisites-6"><a class="header" href="#prerequisites-6">Prerequisites</a></h2>
<ul>
<li>A program with sample zones.</li>
<li>The samples have a distinct pitch.</li>
</ul>
<h2 id="mapping-samples-to-the-root-key"><a class="header" href="#mapping-samples-to-the-root-key">Mapping Samples to the Root Key</a></h2>
<p>The example below assumes that you have a program with sample zones that are not mapped to the root key yet.</p>
<ol start = "1"><li>Add a Lua Script module to your program.</li><li>Copy the following code to the Lua Script module.</li></ol>
<pre><code class="language-lua">channelNames = { [0] = "All", "Left", "Right" }
 
defineParameter( "Channel", nil, 0, channelNames)
defineParameter( "Start", nil, false, function() if Start then onStart() end end)
defineParameter( "Cancel", nil, false)
 
function onPitchAnalysisFinished(audioFile, channelNum)
    print("Progress: 100%")
    print(channelNames[channelNum].." channel(s) of "..audioFile.fileName.." analyzed.")
end
 
function onStart()
    zones = this.parent:findZones(true)
    for i, zone in ipairs(zones) do
        local samplePath = zone:getParameter("SampleOsc.Filename")
        print("File: "..samplePath)
        local afile = AudioFile.open(samplePath)
        afile:analyzePitch(onPitchAnalysisFinished, Channel)
        while afile:getPitchAnalysisProgress(Channel) &lt; 1 do
            if Cancel then
                afile:cancelPitchAnalysis(Channel)
                break
            end
            local progressPercent = 100 * afile:getPitchAnalysisProgress(Channel)
            print(string.format("Progress: %2d%%", progressPercent))
            wait(2000)
        end
        if Cancel then
            Cancel = false
            print("Canceled!")
            break
        end
        local pitch = afile:getPitch(0, -1, Channel)
 
        pitch = math.floor(pitch+0.5)
         
        print("Analyzed Pitch: "..pitch)
 
        zone:setParameter("SampleOsc.Rootkey", pitch)
        zone.keyLow = pitch
        zone.keyHigh = pitch
 
    end
    print("Done!")
    Start = false
end
</code></pre>
<ol start = "3"><li>Go to the Parameter List and activate "Start".</li><li>Open the Mapping editor.</li></ol>
<p>The sample zones will be mapped automatically to the matching root key.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="midi-note-parameters"><a class="header" href="#midi-note-parameters">MIDI Note Parameters</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/MIDI-Note-Parameters.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MIDI-Note-Parameters.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MIDI-Note-Parameters.html#defining-a-parameter-for-midi-notes">Defining a Parameter for MIDI Notes</a></li>
</ul>
<hr />
<p>In HALion, value boxes for MIDI notes display the name of the MIDI note. You can set the value of a MIDI note in one of the following ways:</p>
<ul>
<li>Enter the MIDI note number (0 – 127),</li>
<li>Enter the MIDI note name (C-2 – G8),</li>
<li>Play the key on your MIDI keyboard.</li>
</ul>
<p>By using the parameter definition of a MIDI note parameter, you can create a script parameter for this.</p>
<h2 id="example-vst-preset-10"><a class="header" href="#example-vst-preset-10">Example VST Preset</a></h2>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/MIDI%20Note%20Parameters.vstpreset">MIDI Note Parameters.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/MIDI-Note-Parameters.png" alt="MIDI Note Parameters" /></p>
<h2 id="prerequisites-7"><a class="header" href="#prerequisites-7">Prerequisites</a></h2>
<ul>
<li>A program with a Lua Script module and a synth zone.</li>
<li>A macro page with a value box.</li>
</ul>
<h2 id="defining-a-parameter-for-midi-notes"><a class="header" href="#defining-a-parameter-for-midi-notes">Defining a Parameter for MIDI Notes</a></h2>
<p>The following example assumes that you want to split the MIDI keyboard with a split key.</p>
<ol>
<li>Copy the following code to the Lua Script module.</li>
</ol>
<pre><code class="language-lua">-- Get a parameter definition of a MIDI note parameter, e.g., the LowKey parameter of the parent layer.

local paramDef = this.parent:getParameterDefinition("LowKey")

-- Define a SplitKey parameter with this parameter definition.
-- By using the parameter definition of the LowKey parameter, the script parameter will act the same.

defineParameter("SplitKey", "Split Key", paramDef, function() onSplitKeyChanged() end)
 
function onSplitKeyChanged()
    print(SplitKey)
end
</code></pre>
<ol start="2">
<li>Connect the script parameter to the value box on the macro page.</li>
</ol>
<p>The SplitKey parameter will act like any MIDI note parameter in HALion: The value box displays the name of the MIDI note and you can enter values as MIDI note number, MIDI note name, or by playing the key on your MIDI keyboard.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="modifying-svgs-with-multiple-objects"><a class="header" href="#modifying-svgs-with-multiple-objects">Modifying SVGs with Multiple Objects</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html#creating-a-checkbox-control">Creating a Checkbox Control</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html#creating-an-svg-file">Creating an SVG file</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html#adding-objects">Adding Objects</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html#creating-multiple-checkbox-states">Creating Multiple Checkbox States</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="creating-a-checkbox-control"><a class="header" href="#creating-a-checkbox-control">Creating a Checkbox Control</a></h2>
<p>The example below demonstrates how to build a checkbox with two states, the off-state and on-state, from a single SVG file.</p>
<h3 id="creating-an-svg-file"><a class="header" href="#creating-an-svg-file">Creating an SVG file</a></h3>
<p>Before you can build the checkbox in HALion, you need an SVG file with the representation of a typical checkbox, e.g. two concentric circles.</p>
<ol>
<li>Create an SVG file, for example with <a href="https://inkscape.org/">Inkscape</a>, an open source SVG editor.</li>
<li>Add two concentric circles and name them 'Back' for the background of the checkbox and 'Check' for the dot that indicates the checked state.</li>
</ol>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-Checkbox.png" alt="Modifying SVGs with Multiple Objects Checkbox" /></p>
<p>By viewing SVG files in a text editor you gain insight about the available objects and their values. If you open the SVG file in a text editor, it might look like this:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-Text-Editor.png" alt="Modifying SVGs with Multiple Objects Text Editor" /></p>
<ol start="3">
<li>In HALion, open the Macro Page Designer, add an SVG resource in the <strong>Resources Tree</strong> and set the Path to the SVG file.</li>
</ol>
<p>In this example, the added <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource is named 'SVG original' and looks the same as in the SVG editor.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-Original.png" alt="Modifying SVGs with Multiple Objects Original" /></p>
<h3 id="adding-objects"><a class="header" href="#adding-objects">Adding Objects</a></h3>
<p>To edit the objects, you must enter the ID of the object, the property you want to change and the corresponding values. If an SVG file contains more than one object, these objects and their properties can be added for further editing like this.</p>
<ol>
<li>Go to the <strong>Resource Tree</strong> and select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource your want to edit.</li>
<li>In the <strong>Objects</strong> line, click <strong>+</strong>.</li>
<li>Set the <strong>ID</strong> of the additional object.</li>
<li>Set the properties and values of the object.</li>
</ol>
<h3 id="creating-multiple-checkbox-states"><a class="header" href="#creating-multiple-checkbox-states">Creating Multiple Checkbox States</a></h3>
<h4 id="prerequisites-8"><a class="header" href="#prerequisites-8">Prerequisites.</a></h4>
<ul>
<li>A program with a macro page.</li>
</ul>
<h4 id="creating-the-checkbox-states"><a class="header" href="#creating-the-checkbox-states">Creating the Checkbox States</a></h4>
<ol>
<li>Duplicate the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource 'SVG original' and name it 'SVG Checkbox Off'.</li>
<li>In the 'SVG Checkbox Off' resource, add the objects 'Back' and 'Check' as described above in <a href="HALion-Tutorials-Guidelines/pages/Modifying-SVGs-with-Multiple-Objects.html#adding-objects">Adding Objects</a>.</li>
<li>Adapt the look to your liking. In this example, 'Back' is set to <code>fill</code> and <code>orange</code> and 'Check' is set to <code>fill</code> and <code>rgba (0,0,0,0.4)</code> which is black with an opacity of 40 %.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-Off.png" alt="Modifying SVGs with Multiple Objects Off" /></p></li>
<li>Duplicate the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource 'SVG Checkbox Off' and name it 'SVG Checkbox On'.</li>
<li>In the 'SVG Checkbox On' resource, set the <code>fill</code> property of the 'Check' circle to <code>black</code>.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-On.png" alt="Modifying SVGs with Multiple Objects On" /></p></li>
<li>In the <strong>GUI Tree</strong>, add a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control and set its Mode to 'onoff'.</li>
<li>Assign the 'SVG Checkbox Off' and 'SVG Checkbox On' resources to the Bitmaps Off and On, respectively.<p><img src="HALion-Tutorials-Guidelines/pages/../images/Modifying-SVGs-with-Multiple-Objects-Switch.png" alt="Modifying SVGs with Multiple Objects Switch" /></p></li>
</ol>
<p>If you want, you can create more variants to implement additional hover-state resources, for example.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="multi-level-system-menus"><a class="header" href="#multi-level-system-menus">Multi-Level System Menus</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#defining-parameters-for-the-menu">Defining Parameters for the Menu</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#example">Example</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#system-menu">System Menu</a></li>
</ul>
<hr />
<p>For most applications, standard menus are well suited to select options from a list of strings, e.g., a menu that contains various filter types. However, if the number of entries is too high, for example, a subdivided menu might be preferable. To create a subdivided menu, you must implement the menu entries as a stringlist parameter with strings in the following notation:</p>
<p><code>/Folder/Subfolder/../Menu Entry</code></p>
<p>Please see the example below for details.</p>
<blockquote>
<p>❕ This how-to demonstrates multi-level menus using the generic look of the operating system. If you want to create menus with a customized look, please refer to <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus.html">Custom Multi-Level Menus</a>, <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus-II.html">Custom Multi-Level Menus II</a> or <a href="HALion-Tutorials-Guidelines/pages/./Custom-Popup-Menus.html">Custom Popup Menus</a>.</p>
</blockquote>
<h2 id="example-vst-preset-11"><a class="header" href="#example-vst-preset-11">Example VST Preset</a></h2>
<p><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Multi-Level%20System%20Menu.vstpreset">Multi-Level System Menu.vstpreset</a></p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Multi-Level-System-Menu.png" alt="Multi-Level System Menu" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Multi-Level%20System%20Menu.vstpreset">Multi-Level System Menu.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>Templates Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h2 id="prerequisites-9"><a class="header" href="#prerequisites-9">Prerequisites</a></h2>
<ul>
<li>A macro page with a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Menu.html">Menu</a>, a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a>, and a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control, optionally combined as a template.</li>
<li>A MIDI or UI script that provides parameter definitons and functions</li>
</ul>
<h2 id="defining-parameters-for-the-menu"><a class="header" href="#defining-parameters-for-the-menu">Defining Parameters for the Menu</a></h2>
<p>The following code example shows how to create the menu entries and the resulting display string using a UI script.</p>
<h3 id="example-311"><a class="header" href="#example-311">Example</a></h3>
<pre><code class="language-lua"> -- Create tables for menu entry strings and display output strings
entry_and_output = {
    { "/Folder1/Entry1", "Value 1" },
    { "/Folder1/Entry2", "Value 2" },
    { "/Folder2/Entry1", "Value 3" },
    { "/Folder2/Entry2", "Value 4" },
}
entries = {}
outputs = {}
for i,v in ipairs(entry_and_output) do
 entries[i] = v[1]
 outputs[i] = v[2]
end
-- Define the parameter "Entry" to be connected to a menu control and the parameter "Output" to display the selected menu entry
defineParameter("Entry", nil, 1, entries, function() Output = Entry end)
defineParameter("Output", nil, 1, outputs)
</code></pre>
<p>In the <a href="HALion-Tutorials-Guidelines/pages/Multi-Level-System-Menus.html#example-vst-preset">Example VST Preset</a>, the UI script is attached to the macro page.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Multi-Level-System-Menu-UI-Script.png" alt="Multi Level System Menu UI Script" /></p>
<h2 id="system-menu"><a class="header" href="#system-menu">System Menu</a></h2>
<p>The System Menu contains the elements that are needed to display the selected value. The template parameters Text Output and Menu Entries must be connected to the corresponding parameters <code>@Output</code> and <code>@Entry</code> of the UI script.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Multi-Level-System-Menu-Template.png" alt="Multi Level System Menu Template" /></p>
<p>In this example, the Output parameter is not connected to a physical parameter. To set the value of a parameter, the Output parameter of the UI script must be connected to this parameter in the program.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="relative-paths"><a class="header" href="#relative-paths">Relative Paths</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Relative-Paths.html#example">Example</a></li>
</ul>
<hr />
<p>Functions like <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Script/pages/loadPreset.html">loadPreset</a> require a file path as argument. The function <code>debug.getinfo</code> from the Lua debug library returns the file path of the running script. You can use this information to create a relative file path for your script. The folders in the 'if branch' of the following script example must match the working directory on your hard disk. How to create a working directory is described in <a href="HALion-Tutorials-Guidelines/pages/./Using-Relative-Paths.html">Using Relative Paths</a>. The folders in the 'else branch' must match the folders that you specified in the <strong>Library Creator</strong>. If the folder on the hard disk cannot be found, the file path of the VST sound container will be used instead. Note that the VST sound container must be mounted for this to work.</p>
<h2 id="example-312"><a class="header" href="#example-312">Example</a></h2>
<pre><code class="language-lua">-- Load a sub preset from hard disk or VST sound.
-- Find relative path on hard disk.

local info = debug.getinfo(1,'S') -- Function from the Lua debug library.
local source = info.source
local pos = string.find(source, "/library/") -- Assumes the folder "/library/" contains subfolders like "/samples/", "/scripts/", "/VST3 Sub Presets/", etc.

if pos then
    contentPath = string.sub(source, 1, pos - 1).."/library/VST3 Sub Presets/"  -- The folder on disk with sub presets, for example.
else
    -- Extract VST sound GUID, e.g. "vstsound://ABCDEFGHIJKLMNOPQRSTUVWXYZ123456".
    -- The GUID of the VST sound can be found in the library creator.
    -- "SomeFolderName" is defined in the library creator.
    -- The library creator prepends "/.AppData/Steinberg/" when building the library.
    -- The content must be in the same VST sound as the script.
    contentPath = source:sub(1, 43) .. "/.AppData/Steinberg/SomeFolderName/" -- The location of the sub presets inside the vstsound.
end
 
-- Load the sub preset from the respective contentPath.
layer = loadPreset(contentPath.."SomePreset.vstpreset")
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="switching-control-templates"><a class="header" href="#switching-control-templates">Switching Control Templates</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Switching-Control-Templates.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Switching-Control-Templates.html#prerequisites">Prerequisites</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Switching-Control-Templates.html#connecting-the-controls">Connecting the Controls</a></li>
</ul>
<hr />
<p>Usually, parameters are connected to specific controls that have a certain look which never changes during the usage of the macro page. However, in some cases it might be useful to be able to change the look, either to allow the user to choose between different styles, or because one editor template is used to edit different parameters with different scopes which should be indicated by different controls. A simple example would be a template that provides several knobs to control oscillators 1, 2, and 3 of a synth zone, where each set of knobs has a different color to better distinguish between them.</p>
<p>This example demonstrates how to use a Lua Script MIDI module with a KnobType parameter to switch between two different knob templates. The parameter is defined in a MIDI module, which saves and restores the state with the preset.</p>
<blockquote>
<p>❕ If you do not want to save and restore the KnobType with the preset, but only with a project, you can implement this parameter in a UI script.</p>
</blockquote>
<h2 id="example-vst-preset-12"><a class="header" href="#example-vst-preset-12">Example VST Preset</a></h2>
<p><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Switching%20Control%20Templates.vstpreset">Switching Control Templates.vstpreset</a></p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Switching-Control-Templates.png" alt="Switching Control Templates" /></p>
<h2 id="prerequisites-10"><a class="header" href="#prerequisites-10">Prerequisites</a></h2>
<ul>
<li>A macro page with a Switchable Knob template.</li>
<li>A MIDI module script with a KnobType parameter.</li>
<li>Two knob templates: KnobLC1 and Knob BB.</li>
<li>A Menu template to select the knob template that should be displayed.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Switching-Control-Templates-GUI-Tree.png" alt="Switcing Control Templates GUI Tree" /></p>
<h2 id="connecting-the-controls"><a class="header" href="#connecting-the-controls">Connecting the Controls</a></h2>
<ol>
<li>Add a Lua Script MIDI module to the program and define the parameter KnobType.</li>
</ol>
<pre><code class="language-lua">defineParameter{
    name = "KnobType",
    default = 1,
    strings = { "Knob BB", "Knob LC1" },
}
</code></pre>
<ol start="2">
<li>Edit the knob templates and export the parameters that you want to use on the template level, e.g., Value, Label, Text.</li>
<li>Connect the Switchable Knob template with the script parameter by setting its Template property to <code>@0:Lua Script/@par:KnobType</code>.</li>
<li>Connect the Menu template with the script parameter by setting its Value property to <code>@0:Lua Script/@par:KnobType</code>.</li>
<li>Connect the Value of the Switchable Knob template to an engine parameter.</li>
</ol>
<p><strong>Result:</strong> You can use the menu to switch the template reference between Knob LC1 and Knob BB. If you save the program,
the knob type is saved and restored with the preset.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./How-tos.html">How-tos</a> /</p>
<h1 id="using-mouse-states-in-svgs"><a class="header" href="#using-mouse-states-in-svgs">Using Mouse States in SVGs</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Mouse-States-in-SVGs.html#defining-mouse-states">Defining Mouse States</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Mouse-States-in-SVGs.html#using-mouse-states">Using Mouse States</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Mouse-States-in-SVGs.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Using-Mouse-States-in-SVGs.html#indicating-mouse-states">Indicating Mouse States</a></li>
</ul>
</li>
</ul>
<hr />
<p>You can use variables related to mouse actions to modify a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource that is assigned to a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control. The advantage is that you don't have to assign separate resources to the different states of a <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control to indicate its current state. The indication of a particular state is defined within the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource itself using Lua expressions. Please note that this cannot be used in combination with animations, as these are only executed when switching between the different states of a switch and the assigned resources.</p>
<blockquote>
<p>❕ See <a href="HALion-Tutorials-Guidelines/pages/./Animating-Switches-Using-SVGs.html">Animating Switches Using SVGs</a> for details on using animations with <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> controls.</p>
</blockquote>
<h2 id="defining-mouse-states"><a class="header" href="#defining-mouse-states">Defining Mouse States</a></h2>
<p>The mouse states are defined in the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource properties by using Lua expressions. An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>You can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>On</strong></td><td style="text-align: left">The on-state of the switch.</td></tr>
<tr><td style="text-align: left"><strong>Down</strong></td><td style="text-align: left">The down-state of the switch.</td></tr>
<tr><td style="text-align: left"><strong>Hover</strong></td><td style="text-align: left">The hover-state of the switch.</td></tr>
</tbody></table>
</div>
<h2 id="using-mouse-states"><a class="header" href="#using-mouse-states">Using Mouse States</a></h2>
<p>The following example is intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset-13"><a class="header" href="#example-vst-preset-13">Example VST Preset</a></h3>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Using%20Mouse%20States%20in%20SVGs.vstpreset">Using Mouse States in SVGs.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Using-Mouse-States-in-SVGs.png" alt="Using Mouse States in SVGs" /></p>
<p><strong>To explore the template in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Using%20Mouse%20States%20in%20SVGs.vstpreset">Using Mouse States in SVGs.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the 'SVG Mod Switch' template.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control. Take a look at which <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resource has been assigned to the off-state of the switch.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/SVG.html">SVG</a> resource. Take a look at the IDs, properties and values as listed below.</li>
</ol>
<h3 id="indicating-mouse-states"><a class="header" href="#indicating-mouse-states">Indicating Mouse States</a></h3>
<h4 id="mouse-states"><a class="header" href="#mouse-states">Mouse States</a></h4>
<p><strong>Resources:</strong> SVGMod_Rect SW.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,$(0+On*40)%,$(30+Hover*20+On*20)%,1)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Each state of the switch shows a different color, including the hover-states for the on- and off-states.</p>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Tutorials.html">Tutorials</a> /</p>
<h1 id="working-with-exported-variables"><a class="header" href="#working-with-exported-variables">Working with Exported Variables</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#single-level-pop-up-menu">Single-Level Pop-up Menu</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#example-vst-preset">Example VST Preset</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#overview">Overview</a></li>
</ul>
</li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#how-the-elements-interact">How the Elements Interact</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a></li>
</ul>
</li>
</ul>
<hr />
<p>UI variables can be defined within any template. The UI variables inside a template can be used to connect multiple controls, for example. By exporting the value of a property and the UI variable itself to the same template parameter, you create an interface for connecting engine parameters outside of the template to the property and UI variable within the template. The following example illustrates this using a single-level pop-up menu. An example of a multi-level pop-up menu using an exported variable can be found in <a href="HALion-Tutorials-Guidelines/pages/./Custom-Multi-Level-Menus-II.html">Custom Multi-Level Menu II</a>.</p>
<h2 id="single-level-pop-up-menu"><a class="header" href="#single-level-pop-up-menu">Single-Level Pop-up Menu</a></h2>
<p>The single-level pop-up menu is implemented through a combination of a <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a>, a <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> and a <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> template. The <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template opens the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template for selecting the values and contains the controls for displaying the display string of the connected engine parameter. The <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template contains four <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> templates which represent the selectable values.</p>
<h3 id="example-vst-preset-14"><a class="header" href="#example-vst-preset-14">Example VST Preset</a></h3>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Working%20with%20Exported%20Variables.vstpreset">Working with Exported Variables.vstpreset</a></li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables.png" alt="Working with Exported Variables" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="HALion-Tutorials-Guidelines/pages/../vstpresets/Working%20with%20Exported%20Variables.vstpreset">Working with Exported Variables.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>Templates Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="HALion-Tutorials-Guidelines/pages/../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
</ol>
<h3 id="overview"><a class="header" href="#overview">Overview</a></h3>
<p>In this example, there is one exported UI variable. Look for the the <code>sel</code> UI variable inside the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-sel-Variable.png" alt="Working with Exported Variables sel Variable" /></p>
<p>Within the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template, the <code>sel</code> UI variable and the Value property of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control are both exported as 'Value'. This creates the interface for connecting the engine parameter, in this case, the oscillator type of Zone 1.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-GUI-Tree.png" alt="Working with Exported Variables GUI Tree" /></p>
<p>The Popup parameter of the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template is defined to open the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template. The <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template contains four <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> templates which represent the values that you can select.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-Menu.png" alt="Working with Exported Variables Menu" /></p>
<p>The Value property of the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> template has the <code>sel</code> UI variable assigned. As a result, the currently selected value will be sent to the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template that is connected to the engine parameter and the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control within the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template shows the display string of the engine parameter.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-MenuEntry.png" alt="Working with Exported Variables MenuEntry" /></p>
<h2 id="how-the-elements-interact-4"><a class="header" href="#how-the-elements-interact-4">How the Elements Interact</a></h2>
<h3 id="selector-1"><a class="header" href="#selector-1">Selector</a></h3>
<p>The Selector template contains the elements that are required to open the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template and display the selected value.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-Selector.png" alt="Working with Exported Variables Selector" /></p>
<h4 id="ui-variables-10"><a class="header" href="#ui-variables-10">UI Variables</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>sel</strong></td><td style="text-align: left">This variable is used by all menu entries of the pop-up menu. <code>sel</code> is exported as 'Value' and combined with the Value property of the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control. As a result, the display string of the connected engine parameter will be displayed instead of the integer value.</td><td style="text-align: left">Integer</td></tr>
</tbody></table>
</div>
<h4 id="controls-and-subtemplates-22"><a class="header" href="#controls-and-subtemplates-22">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Switch</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control that opens the popup menu. Its Popup Template property is exported as 'Popup'. This allows you to select which pop-up menu to open for each instance of the Selector template.</td></tr>
<tr><td style="text-align: left"><strong>Text</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control for displaying the display string of the connected engine parameter.  This is achieved by exporting the Value property as 'Value'. Since the <code>sel</code> UI variable is also exported as 'Value', both are combined into one template parameter, creating the interface for connecting the engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>Triangle</strong></td><td style="text-align: left">An <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Image.html">Image</a> control to indicate that a pop-up menu can be opened.</td></tr>
<tr><td style="text-align: left"><strong>Decor</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Decor-Control.html">Decor</a> control used as background.</td></tr>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control for displaying the name of the connected parameter. Its Text property is exported as 'Label'. This allows you to name the Selector template differently for each instance.</td></tr>
</tbody></table>
</div>
<h3 id="menu-2"><a class="header" href="#menu-2">Menu</a></h3>
<p>The Menu template contains four <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> templates that define the entries of the menu.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-Menu.png" alt="Working with Exported Variables Menu" /></p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Sine, Triangle, Saw, Square</strong></td><td style="text-align: left">These represent the four entries of the submenu. They use the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menuentry">MenuEntry</a> template which defines the look and functionality of an entry. The OnValue parameter of each <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#rootmenuentry">MenuEntry</a> template must be set to the corresponding value of the engine parameter it selects. This value will be sent to the <code>sel</code> variable. See <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#rootmenuentry">MenuEntry</a> and <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#ui-variables">Selector/UI Variables</a> for details. The Label parameter defines the name of the entry to be displayed in the menu.</td></tr>
</tbody></table>
</div>
<h3 id="menuentry-2"><a class="header" href="#menuentry-2">MenuEntry</a></h3>
<p>This template represents one entry in the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#menu">Menu</a> template. It consists of two elements:</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Working-with-Exported-Variables-MenuEntry.png" alt="Working with Exported Variables MenuEntry" /></p>
<h4 id="controls-and-subtemplates-23"><a class="header" href="#controls-and-subtemplates-23">Controls and Subtemplates</a></h4>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Element</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Label</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Label.html">Label</a> control to display the name of the menu entry. Its Text property is exported as 'Label'. This allows you to name the template differently for each instance.</td></tr>
<tr><td style="text-align: left"><strong>Switch</strong></td><td style="text-align: left">A <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Switch.html">Switch</a> control with exclusive mode. The OnValue property is exported to be set by each instance of the template. See <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#submenu">Menu</a> for details. The Value property must be set to <code>@sel</code>, the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#ui-variables">UI variable</a> of the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template. The OnValue will be sent to the Value parameter which is sent to the <code>sel</code> variable. As a result, the currently selected value will be sent to the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template which is connected to the engine parameter and the <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Macro-Page/pages/Text.html">Text</a> control within the <a href="HALion-Tutorials-Guidelines/pages/Working-with-Exported-Variables.html#selector">Selector</a> template shows the display string of the engine parameter.</td></tr>
</tbody></table>
</div>
<blockquote>
<p>❕ Pop-up menus can only be displayed within the dimensions of the macro page. If a pop-up menu is too large, it will be clipped. To prevent this, you can either change the direction in which the pop-up menu opens, e.g., open it to the top instead of to the bottom, or you can change the size of the template, so that it fits, and then activate the scrollbar to be able to scroll to the available entries.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> /</p>
<h1 id="guidelines-1"><a class="header" href="#guidelines-1">Guidelines</a></h1>
<p>In this section you find Steinberg's guidelines for creating libraries and many details on how to build your own instruments that work in HALion Sonic. Following these guidelines ensures an equal quality of the libraries and, therefore, improves the user experience and the success of your library.</p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/./HS-Preset-Guideline.html">HS Preset Guideline</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./Quick-Controls-Guideline.html">Quick Controls Guideline</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/./MediaBay-Guideline.html">MediaBay Guideline</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Guidelines.html">Guidelines</a> /</p>
<h1 id="hs-preset-guideline"><a class="header" href="#hs-preset-guideline">HS Preset Guideline</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#sound-design-conventions">Sound Design Conventions</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#modulation-wheel-midi-ccs-and-quick-controls">Modulation Wheel, MIDI CCs and Quick Controls</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#trigger-pads">Trigger Pads</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#level-settings">Level Settings</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#transpose-settings">Transpose Settings</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#effect-settings">Effect Settings</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#tempo-sync">Tempo Sync</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#orphaned-settings">Orphaned Settings</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/HS-Preset-Guideline.html#preset-naming-conventions">Preset Naming Conventions</a></li>
</ul>
</li>
</ul>
<hr />
<p>When you create the final HALion Sonic Program presets, you should follow the guideline below. For example, if the library manufacturers adjust preset levels using different standards, the user might have to adjust the mixer level with every preset to compensate for this. Following the guideline below ensures an equal quality of the libraries and, therefore, improves the user experience and the success of your library.</p>
<h2 id="sound-design-conventions"><a class="header" href="#sound-design-conventions">Sound Design Conventions</a></h2>
<h3 id="modulation-wheel-midi-ccs-and-quick-controls"><a class="header" href="#modulation-wheel-midi-ccs-and-quick-controls">Modulation Wheel, MIDI CCs and Quick Controls</a></h3>
<ul>
<li>The modulation wheel should always be assigned. You can assign the modulation wheel as MIDI CC in the modulation matrix or as a quick control.</li>
<li>Do not assign any MIDI CCs to controls on the interface. They are not saved with VST3 presets.</li>
<li>For details how to assign the quick controls, see the <a href="HALion-Tutorials-Guidelines/pages/./Quick-Controls-Guideline.html">Quick Controls Guideline</a>.</li>
</ul>
<h3 id="trigger-pads"><a class="header" href="#trigger-pads">Trigger Pads</a></h3>
<ul>
<li>Please assign the Trigger Pads where you think it is useful. For example, to trigger different chords or phrases.</li>
<li>If you assign the Trigger Pads, please always start with the top row and assign the pads from left to right. If you assign a mix of variations and chords, please use the top row for the variations and the bottom row for the chords.</li>
<li>If you assign chords to the Trigger Pads, please use the chord as pad name, e.g., Cm, C, CMaj7, C7, etc. If you assign variations to the Trigger Pads, please use Vari 1, Vari 2, Vari 3, etc., as pad name. Arp 1, Arp 2, Arp 3, etc., can also be used.</li>
</ul>
<h3 id="level-settings"><a class="header" href="#level-settings">Level Settings</a></h3>
<ul>
<li>If you use the plug-in in a sequencer: Start a default project. The slot level of the program in HALion Sonic should be set to the default setting. The master fader and any other levels in the project should be set to the default settings as well. To check the level, open the mixer in the sequencer and check the peak level of the master channel. The clipping LED should not light up.</li>
<li>If you use the standalone version of the plug-in: Start the plug-in with the factory default settings. The Master Volume of the plug-in and and the slot level should be set to the default values. The clipping LED of the slot should not light up.</li>
<li>Bass and lead sounds should be between -1 dB and 0 dB if you play a single note at full velocity.</li>
<li>Polyphonic sounds, e.g., pads, should be at -6 dB if you play a single note at full velocity.</li>
</ul>
<h3 id="transpose-settings"><a class="header" href="#transpose-settings">Transpose Settings</a></h3>
<ul>
<li>Sounds like leads, pads, and comps should not be transposed. A3 (69) should play 440 Hz.</li>
<li>(Synth) Bass sounds can be transposed -2 octaves below the normal sounds. This allows for playing bass sounds without transposing, e.g., on small two-octave MIDI controller keyboards.</li>
</ul>
<h3 id="effect-settings"><a class="header" href="#effect-settings">Effect Settings</a></h3>
<ul>
<li>You can assign insert effects to the layers and the program on the <strong>Inserts</strong> tab in HALion Sonic. Please do not use any AUX effects, because they are not saved with program presets.</li>
<li>If you use REVerence for your presets, remember that it can be quite heavy on the CPU. Consider using the algorithmic reverb instead.</li>
<li>Remove any effects that you do not use.</li>
<li>Avoid empty slots in the <strong>Insert</strong> rack.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/HS-Inserts-Tab.png" alt="HS Inserts Tab" /></p>
<p>In the example above, the second insert effect is deactivated and the third insert slot is empty. This should be avoided.</p>
<h3 id="tempo-sync"><a class="header" href="#tempo-sync">Tempo Sync</a></h3>
<ul>
<li>Sounds that typically play in sync with the song tempo, e.g., dance and sequencer sounds, should make use of the sync settings for the LFOs and effects. Use 120 BPM as your base song tempo.</li>
</ul>
<h3 id="orphaned-settings"><a class="header" href="#orphaned-settings">Orphaned Settings</a></h3>
<ul>
<li>Oscillators and other settings that are not in use should be switched off. However, if a setting is switched off and the user activates this setting, the sound should still be OK.</li>
<li>If you copy and modify a preset, any orphaned settings might not sound OK. Please set these to useful default values.</li>
</ul>
<h3 id="preset-naming-conventions"><a class="header" href="#preset-naming-conventions">Preset Naming Conventions</a></h3>
<ul>
<li>Use only English names.</li>
<li>Avoid names of companies, artists, or song names.</li>
<li>Decades in preset names should always be named like this: 70s, 80s, 90s, etc. Not 70ies or 80's, etc.</li>
<li>Presets should not start with numbers. Otherwise, they will be listed at the beginning of the results list. Instead of "80s Glamor", you should use "Glamorous 80s ", for example.</li>
<li>Avoid childish or offensive puns in your preset names.</li>
<li>Avoid generic names, e.g., Digi Bass, Ana Lead, Smooth Pad, etc. It is likely that such names are already used.</li>
<li>Do not use the instrument category in the name. For example, bass, lead, pad, synth brass, etc. are already covered by the MediaBay’s category and subcategory. Therefore, these words should not be used in the preset name. It would be redundant information.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Guidelines.html">Guidelines</a> /</p>
<h1 id="quick-controls-guideline"><a class="header" href="#quick-controls-guideline">Quick Controls Guideline</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/Quick-Controls-Guideline.html#show-layer-qc">Show Layer QC</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/Quick-Controls-Guideline.html#quick-controls-conventions">Quick Controls Conventions</a></li>
</ul>
<hr />
<p>In previous releases of HALion Sonic (&lt; 3.0.10), parameters of layers could only be assigned to layer quick controls and direct assignments to program quick controls were not possible. This restraint was removed for more flexibility and to simplify the sound design process.</p>
<h2 id="show-layer-qc"><a class="header" href="#show-layer-qc">Show Layer QC</a></h2>
<p>On HALion Sonic's <strong>Options</strong> page, there is a new option in the Global section: <strong>Show Layer QC</strong>.</p>
<p>If <strong>Show Layer QC</strong> is switched off:</p>
<ul>
<li>The quick control section shows only the program quick controls.</li>
<li>New quick control assignments can only be made for the program.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Show-Layer-QC-Off.png" alt="Show Layer QC Off" /></p>
<p>If <strong>Show layer QC</strong> is switched on:</p>
<ul>
<li>The quick control section of HALion Sonic shows program or layer quick controls. You can switch between those quick controls using the buttons on the left.</li>
<li>New quick control assignments can be made for the program or for layers 1-4.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Show-Layer-QC-On.png" alt="Show Layer QC On" /></p>
<p>By default, <strong>Show Layer QC</strong> is switched off.</p>
<h2 id="quick-controls-conventions"><a class="header" href="#quick-controls-conventions">Quick Controls Conventions</a></h2>
<ul>
<li>If possible, all quick controls of the program should be assigned. They can be used to control the most important parameters of the insert effects, for example.</li>
<li>Please also assign the sphere control of the program. Try to keep the sphere always centered. This way, the user can default the sphere, if needed. This is not possible if the sphere has an offset from its center position.</li>
<li>The quick controls and spheres of the layers do not have to be assigned. They can be left empty.</li>
<li>Quick controls should be assigned from left to right with no empty quick controls in between.</li>
<li>Sound parameters should be assigned to the first quick controls (QC 1 to QC 4) and effect parameters should be assigned to the last quick controls (QC 5 to QC 8).</li>
<li>Keep the layout of the quick control assignments consistent. For example, if you assign Filter Cutoff and Fitler Resonance for all your presets, always assign them to the same quick controls.</li>
<li>Assign effect parameters in groups with the Mix parameter as last quick control assignment. For example, like this:</li>
</ul>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">[...]</th><th style="text-align: left">QC5</th><th style="text-align: left">QC6</th><th style="text-align: left">QC7</th><th style="text-align: left">QC8</th></tr></thead><tbody>
<tr><td style="text-align: left">[...]</td><td style="text-align: left">Delay Time</td><td style="text-align: left">Delay Mix</td><td style="text-align: left">Reverb Time</td><td style="text-align: left">Reverb Mix</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><p>/ <a href="HALion-Tutorials-Guidelines/pages/../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="HALion-Tutorials-Guidelines/pages/./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="HALion-Tutorials-Guidelines/pages/./Guidelines.html">Guidelines</a> /</p>
<h1 id="mediabay-guideline"><a class="header" href="#mediabay-guideline">MediaBay Guideline</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#library-creator-properties">Library Creator Properties</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#which-media-files-must-get-attributes">Which Media Files Must Get Attributes?</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#vst3-preset-attribute-conventions">VST3 Preset Attribute Conventions</a>
<ul>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#common-attributes">Common Attributes</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#properties-moods-and-articulations">Properties, Moods and Articulations</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#additional-attributes">Additional Attributes</a></li>
<li><a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#special-attributes">Special Attributes</a></li>
</ul>
</li>
</ul>
<hr />
<p>With the help of MediaBay attributes, you can quickly and easily browse and search presets. Attributes are descriptive keywords that you can assign to your presets. Good search results in the MediaBay highly depend on accurately set attributes. When you specify attributes for your final HALion Sonic program presets, you should follow the guideline below. This ensures an equal quality of the attributes and, therefore, improves browsing and searching in the MediaBay.</p>
<blockquote>
<p>❕ Please use the MediaBay of HALion Sonic to specify attributes for your presets. Do not use the MediaBay of Cubase, because it contains attributes that are not supported by HAlion Sonic presets.</p>
</blockquote>
<h2 id="library-creator-properties"><a class="header" href="#library-creator-properties">Library Creator Properties</a></h2>
<p>The following attributes are assigned automatically to all your presets when you build your libraries using the <strong>Library Creator</strong>:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Library Creator Property</th><th style="text-align: left">MediaBay Attribute</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">Long Name</td><td style="text-align: left">Library Name</td><td style="text-align: left">If the Long Name is too long, the Name property is used instead.</td></tr>
<tr><td style="text-align: left">Manufacturer</td><td style="text-align: left">Library Manufacturer</td><td style="text-align: left">Your name or company name.</td></tr>
<tr><td style="text-align: left">Family</td><td style="text-align: left">PlugIn Name</td><td style="text-align: left">The target plug-in that the library was designed for.</td></tr>
</tbody></table>
</div>
<p>Any other attributes must be set manually.</p>
<h2 id="which-media-files-must-get-attributes"><a class="header" href="#which-media-files-must-get-attributes">Which Media Files Must Get Attributes?</a></h2>
<ul>
<li>The MediaBay scans only those VST3 presets that are located in the VST3 Presets folder of your library. This means that you must specify attributes for all VST3 presets that are located in this folder. Otherwise, the users cannot find the presets. In the <strong>Library Creator</strong>, a warning message is displayed if attributes were not set.</li>
<li>The subpresets in the VST3 Sub Presets folder are not scanned by the MediaBay and do not need attributes. These subpresets are loaded via a script and not with the MediaBay.</li>
<li>All samples of your library are located in a Private Audio folder. Private means that the MediaBay does not scan these samples and you do not need to add attributes to them. The samples are loaded together with the VST3 preset or via a script.</li>
</ul>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/Library-Creator-Structure.png" alt="Library Creator Structure" /></p>
<h2 id="vst3-preset-attribute-conventions"><a class="header" href="#vst3-preset-attribute-conventions">VST3 Preset Attribute Conventions</a></h2>
<p>The different preset categories require different sets of attributes. This guideline gives you advice on how to add the correct attributes.</p>
<ul>
<li>For regular instrument presets, the common attributes should be set.</li>
<li>For categories like Drum&amp;Perc &gt; Beats, for example, you should add additional attributes.</li>
</ul>
<h3 id="common-attributes"><a class="header" href="#common-attributes">Common Attributes</a></h3>
<p>The following MediaBay attributes must be set for each preset manually:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">MediaBay Attribute</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">Author</td><td style="text-align: left">The name of the company or of the sound designer.</td></tr>
<tr><td style="text-align: left">Category/Sub Category</td><td style="text-align: left">Use this attribute to classify the sound. If you set the Sub Category first, the Category is set automatically.</td></tr>
<tr><td style="text-align: left">Properties</td><td style="text-align: left">See <a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#properties-moods-and-articulations">Properties, Moods and Articulations</a>.</td></tr>
<tr><td style="text-align: left">Moods</td><td style="text-align: left">See <a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#properties-moods-and-articulations">Properties, Moods and Articulations</a>.</td></tr>
<tr><td style="text-align: left">Articulations</td><td style="text-align: left">See <a href="HALion-Tutorials-Guidelines/pages/MediaBay-Guideline.html#properties-moods-and-articulations">Properties, Moods and Articulations</a>.</td></tr>
<tr><td style="text-align: left">Rating</td><td style="text-align: left">A rating of three stars is recommended as starting point for presets. The users can then lower or raise the rating.</td></tr>
<tr><td style="text-align: left">Name</td><td style="text-align: left">This attribute is defined with the preset file name when the preset is saved.</td></tr>
</tbody></table>
</div>
<p>The following MediaBay attributes are set automatically by the <strong>Library Creator</strong>. You must set the corresponding properties in the <strong>Library Creator</strong> before you build the library.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">MediaBay Attribute</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">Library Manufacturer</td><td style="text-align: left">This attribute is defined with the Manufacturer property in the <strong>Library Creator</strong>.</td></tr>
<tr><td style="text-align: left">Library Name</td><td style="text-align: left">This attribute is defined with the Long Name property in the <strong>Library Creator</strong>.</td></tr>
<tr><td style="text-align: left">PlugIn Name</td><td style="text-align: left">This attribute is defined with the Family property in the <strong>Library Creator</strong>.</td></tr>
</tbody></table>
</div>
<h3 id="properties-moods-and-articulations"><a class="header" href="#properties-moods-and-articulations">Properties, Moods and Articulations</a></h3>
<p>Properties, Moods and Articulations describe the character of a sound with labels. As soon as you type, you get a suggestion of labels. You can select a suggested label to autocomplete it. This also helps to avoid spelling mistakes. You should at least set some Properties that describe the sound as you hear it. Moods and Articulations are optional. The difference between Properties and Moods is that the Properties describe a sound acoustically without rating it. The Moods describe a sound emotionally and therefore interpret and rate it. Articulations describe the way the sound or instrument is played, as a composer would describe it.</p>
<p>The libraries of FM Lab and Tales both use Properties. FM Lab even uses Articulations on some presets. You can use these two libraries as examples for your own productions.</p>
<p><img src="HALion-Tutorials-Guidelines/pages/../images/FM-Lab-MediaBay.png" alt="FM Lab MediaBay" /></p>
<ul>
<li>Set the Properties, Moods and Articulations so that they describe the preset as precisely as possible.</li>
<li>Labels that do not match what you hear should be avoided.</li>
<li>Fewer labels that perfectly match are much better than too many labels that only partially match.</li>
<li>Use the autocomplete feature to avoid spelling mistakes.</li>
</ul>
<blockquote>
<p>❕ Presets that use an arpeggiator should not get the Category Synth Lead &gt; Arpeggio by default. You should use this Category only for classic arpeggio sounds. If you have a synth bass with a step sequencer or arpeggio, you should set the Category Bass &gt; Synth Bass. To indicate that the preset contains an arpeggio or a sequence, set Arpeggio or Sequenced as label for the Properties, instead.</p>
</blockquote>
<h3 id="additional-attributes"><a class="header" href="#additional-attributes">Additional Attributes</a></h3>
<p>These attributes can be set in addition, e.g., for VST3 presets with the Category Drum&amp;Perc &gt; Beats.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">MediaBay Attribute</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">Signature</td><td style="text-align: left">The time signature as numerator and denominator.</td></tr>
<tr><td style="text-align: left">Style</td><td style="text-align: left">Use this attribute to classify the musical style. If you set the Sub Style first, the Style is set automatically.</td></tr>
<tr><td style="text-align: left">Sub Style</td><td style="text-align: left">Use this attribute to classify the musical style. If you set the Sub Style before the Style, the Style is set automatically.</td></tr>
<tr><td style="text-align: left">Tempo</td><td style="text-align: left">The tempo in beats per minute (bpm).</td></tr>
</tbody></table>
</div>
<h3 id="special-attributes"><a class="header" href="#special-attributes">Special Attributes</a></h3>
<p>These attributes are mainly needed to display information in HALion's <strong>Browser</strong>.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">MediaBay Attribute</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left">Bars &amp; Beats</td><td style="text-align: left">The number of bars and beats in a loop, for example. This attribute is set for samples, not for presets.</td></tr>
<tr><td style="text-align: left">Comment</td><td style="text-align: left">Use this attribute to add a comment to each preset.</td></tr>
<tr><td style="text-align: left">Family Name</td><td style="text-align: left">This attribute is used for sample sets. Samples with the same Family Name belong to the same sample set.</td></tr>
<tr><td style="text-align: left">Follow Tempo</td><td style="text-align: left">This attribute defines whether a loop uses AudioWarp to follow the host tempo.</td></tr>
<tr><td style="text-align: left">GM Sound</td><td style="text-align: left">This attribute defines the program number of a GM Sound.</td></tr>
<tr><td style="text-align: left">Key</td><td style="text-align: left">The key in which a loop was written, for example, a loop with chords or a loop with a melody.</td></tr>
<tr><td style="text-align: left">Keywords</td><td style="text-align: left">This attribute is set by HALion when you import third-party sampler programs.</td></tr>
</tbody></table>
</div>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <div id="footer" class="footer">
                <!-- Here comes the footer when available			 -->                
                © 2024 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="mermaid.min.js"></script>
        <script src="mermaid-init.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
