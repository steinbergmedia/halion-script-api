<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Animating SVGs with Additional Parameters - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="./How-tos.html">How-tos</a> /</p>
<h1 id="animating-svgs-with-additional-parameters"><a class="header" href="#animating-svgs-with-additional-parameters">Animating SVGs with Additional Parameters</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#defining-additional-svg-parameters">Defining Additional SVG Parameters</a></li>
<li><a href="#animating-additional-svg-parameters">Animating Additional SVG Parameters</a>
<ul>
<li><a href="#example-vst-preset">Example VST Preset</a></li>
<li><a href="#changing-multiple-svg-properties">Changing Multiple SVG Properties</a></li>
</ul>
</li>
</ul>
<hr />
<p><a href="../../HALion-Macro-Page/pages/Animation.html">Animation</a> controls can have more than one animatable SVG property.</p>
<h2 id="defining-additional-svg-parameters"><a class="header" href="#defining-additional-svg-parameters">Defining Additional SVG Parameters</a></h2>
<p>To define additional parameters, you must use a Lua expression with the V, N, or S variable extended by a name variable. An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>You can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>N</strong></td><td style="text-align: left">The normalized value (0 to 1.0) of the control itself.</td></tr>
<tr><td style="text-align: left"><strong>V</strong></td><td style="text-align: left">The value as sent by the connected engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>S</strong></td><td style="text-align: left">A string as sent by the connected parameter.</td></tr>
<tr><td style="text-align: left"><strong>Name</strong></td><td style="text-align: left">A definable name for the variable.</td></tr>
</tbody></table>
</div>
<p>The string of a S variable is set either by a stringlist variable or by MIDI script or UI script parameters. The ability to use the string output of a parameter allows you to transmit even a full sequence of values, such as the path of an object, for example.</p>
<blockquote>
<p><strong>$(VName) | $(NName) | $(SName)</strong></p>
</blockquote>
<p>The additional parameters must be defined in the respective SVG resource like this.</p>
<p><img src="../images/SVG-Properties-with-Additional-Parameters.png" alt="SVG Properties with Additional Parameters" /></p>
<p>These additional SVG resource attributes are introduced as supplementary values within an <a href="../../HALion-Macro-Page/pages/Animation.html">Animation</a> control. They can be connected to engine, MIDI script, or UI script parameters, analogous to other control values.</p>
<p><img src="../images/Animation-Properties-with-Additional-Parameters.png" alt="Animation Properties with Additional Parameters" /></p>
<p>This integration enables the manipulation of SVG elements and their subordinate objects in various ways. Each associated parameter governs a specific facet of the animation. For instance, one parameter might change object rotation, while another parameter concurrently adjusts dimensions, color properties, etc.</p>
<blockquote>
<p>❕ To animate SVGs without the utilization of UI scripts, see <a href="./Animating-Switches-Using-SVGs.html">Animating Switches Using SVGs</a> for details.</p>
</blockquote>
<h2 id="animating-additional-svg-parameters"><a class="header" href="#animating-additional-svg-parameters">Animating Additional SVG Parameters</a></h2>
<p>The following example is intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset"><a class="header" href="#example-vst-preset">Example VST Preset</a></h3>
<ul>
<li><a href="../vstpresets/Animating%20SVGs%20with%20Additional%20Parameters.vstpreset">Animating SVGs with Additional Parameters.vstpreset</a></li>
</ul>
<p><img src="../images/Animating-SVGs-with-Additional-Parameters.png" alt="Animating SVGs with Additional Parameters" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="../vstpresets/Animating%20SVGs%20with%20Additional%20Parameters.vstpreset">Animating SVGs with Additional Parameters.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the Animation Script Example template.</li>
<li>Click <strong>Edit Element</strong> <img src="../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select the <a href="../../HALion-Macro-Page/pages/Animation.html">Animation</a> control. Take a look at which <a href="../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resource has been assigned.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="changing-multiple-svg-properties"><a class="header" href="#changing-multiple-svg-properties">Changing Multiple SVG Properties</a></h3>
<p><strong>Resource:</strong> Rotating Star.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>scale($(1-NScale))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The star is faded out by scaling it from original to minimum size. The name of the additional parameter is 'Scale'.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate($(N*360), 50,50)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The star is rotated by 360 degrees. It does not need a name variable, because it uses the 'Value' parameter of the <a href="../../HALion-Macro-Page/pages/Animation.html">Animation</a> control.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rgb(255,$(math.floor(255-NColor*255)),$(math.floor(255-NColor*255)))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color fades from white to red. The name of the additional parameter is 'Color'.</p>
<p>The script has three outputs which are connected to the corresponding SVG properties. The speed for each animation is defined inside the script. The script is attached to the Animation Script Example Template.</p>
<p><img src="../images/Animation-Script-Example-Template.png" alt="Animation Script Example Template" /></p>
<pre><code class="language-lua">defineParameter{name = "on", default = false, onChanged = function() animate() end}   
defineParameter{name = "out1", default = 0, min = 0, max = 1}   
defineParameter{name = "out2", default = 0, min = 0, max = 1}   
defineParameter{name = "out3", default = 0, min = 0, max = 1}   
defineParameter{name = "frames", default = 65, min = 1, max = 1000, type = "integer"}   
defineParameter{name = "frameDuration", default = 50, min = 20, max = 10000, type = "integer"}   
  
-- The calcPhasor function returns a closure that maintains the counter value
-- and increments it by the specified increment.  
function calcPhasor(increment)  
    local counter = 0  
  
    return function()  
        counter = (counter + increment) % 1  
        return counter  
    end  
end  

function animate()
    -- Create phasors with different speed.
    local phasor1 = calcPhasor(1/frames)        -- Full speed.  
    local phasor2 = calcPhasor(1/(frames*2))    -- Half speed. 
    local phasor3 = calcPhasor(2*1/frames)      -- Double speed. 
    -- Call the phasor functions repeatedly. 
    while on do  
        out1 = phasor1()  
        out2 = phasor2()  
        out3 = phasor3()  
        wait(frameDuration)  
    end  
    out1, out2, out3 = 0, 0, 0  
end  
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Animating-and-Modifying-SVGs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Animating-Switches-Using-SVGs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
