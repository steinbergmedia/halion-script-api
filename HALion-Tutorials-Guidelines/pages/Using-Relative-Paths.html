<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Using Relative Paths - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="./Tutorials.html">Tutorials</a> /</p>
<h1 id="using-relative-paths"><a class="header" href="#using-relative-paths">Using Relative Paths</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#abolute-paths-vs-relative-paths">Abolute Paths vs. Relative Paths</a></li>
<li><a href="#creating-a-working-directory">Creating a Working Directory</a></li>
<li><a href="#achieving-relative-paths">Achieving Relative Paths</a>
<ul>
<li><a href="#overview-of-workflows">Overview of Workflows</a></li>
<li><a href="#exporting-vst-presets-to-the-working-directory">Exporting VST Presets to the Working Directory</a></li>
<li><a href="#using-source-files-from-the-working-directory">Using Source Files from the Working Directory</a></li>
</ul>
</li>
<li><a href="#using-export-program-as-vst3-preset-with-export-files">Using Export Program as VST3 Preset with Export Files</a></li>
<li><a href="#moving-a-library">Moving a Library</a></li>
<li><a href="#achieving-relative-paths-in-scripts">Achieving Relative Paths in Scripts</a>
<ul>
<li><a href="#example">Example</a></li>
</ul>
</li>
</ul>
<hr />
<h2 id="abolute-paths-vs-relative-paths"><a class="header" href="#abolute-paths-vs-relative-paths">Abolute Paths vs. Relative Paths</a></h2>
<p>Absolute paths use the full file path starting from the root directory of your system. If the source files of your library use absolute paths, you have to relocate them when moving the library to another directory or system. If you work in a team and you need to share your library with your teammates, you must work with relative paths. Relative paths start from a specific working directory, avoiding the need to provide the full file path. If the source files of your library use relative paths, you can move the library to another directory or system without having to relocate the files. Therefore, it is recommended to work with relative paths when creating libraries.</p>
<h2 id="creating-a-working-directory"><a class="header" href="#creating-a-working-directory">Creating a Working Directory</a></h2>
<p>Libraries and their source files can be moved and shared easily if you keep all files in one place: your working directory. It is recommended that you create one working directory for each library. This directory contains the required subfolders for the different types of source files. Typical subfolders are: VST presets, macropages, samples, scripts, etc. The working directory can be located anywhere on your system.</p>
<ul>
<li>To create a working directory and subfolders, use the file browser of your system.</li>
</ul>
<p>A typical folder structure could look like this:</p>
<p><img src="../images/Folder-Structure.png" alt="Folder Structure" /></p>
<h2 id="achieving-relative-paths"><a class="header" href="#achieving-relative-paths">Achieving Relative Paths</a></h2>
<h3 id="overview-of-workflows"><a class="header" href="#overview-of-workflows">Overview of Workflows</a></h3>
<ul>
<li>To export the VST preset to the working directory, you must use <strong>Export Program as VST3 Preset...</strong></li>
<li>Place the source files in the subfolders of the working directory and load them from there.</li>
<li>Load the source files from any location, then export them into the respective subfolders of the working directory using one of HALion's export functions. There are different functions for exporting samples, macro pages, etc. Then relocate the files with a replace function or load them from their new location.</li>
</ul>
<p>The different workflows will be explained in detail below.</p>
<blockquote>
<p>❕ You cannot create a working directory simply by moving the VST preset and all source files into one directory, because the file paths within the VST preset still point to the locations of the source files that were used when you saved the preset.</p>
</blockquote>
<h3 id="exporting-vst-presets-to-the-working-directory"><a class="header" href="#exporting-vst-presets-to-the-working-directory">Exporting VST Presets to the Working Directory</a></h3>
<p>If you want to save your VST preset for the first time, you might be tempted to use <strong>Save Program</strong> or <strong>Save Program As</strong>. However, the save functions only allow you to save programs in the default location for VST presets. The export function allows you to choose the location freely. You must use <strong>Export Program as VST3 Preset</strong> at least once to export your VST preset to the working directory. After loading the exported VST preset from the working directory, you can save your VST preset using the <strong>Save Program</strong> command or the export function. <strong>Save Program</strong> will not ask for a location or file name if the preset was loaded from the working directory.</p>
<p>To achieve relative paths for your VST preset:</p>
<ol>
<li>Export the VST preset with <strong>Export Program as VST3 Preset</strong> to the working directory.</li>
<li>Load the VST preset from the working directory.</li>
</ol>
<p>From now on, you can either use <strong>Save Program</strong> or the export function to save your VST preset.</p>
<blockquote>
<p>❕ If you are working on a HALion Sonic library, you usually want to save HALion Sonic layers and not HALion programs. In this case <strong>Save Program</strong> cannot be used and you must use <strong>Export Program as VST3 Preset</strong> with the options <strong>Export as HALion Sonic Layer</strong> and <strong>Verify HALion Sonic Layer Structure</strong> activated.</p>
</blockquote>
<h3 id="using-source-files-from-the-working-directory"><a class="header" href="#using-source-files-from-the-working-directory">Using Source Files from the Working Directory</a></h3>
<p>A practical way to achieve relative paths for your library is to place the source files, e.g., samples, bitmaps, scripts, etc., in the working directory before loading them. This is especially recommended if you already know which files you want to use in your library.</p>
<ul>
<li>Place the source files in the subfolders of the working directory and load them from there.</li>
</ul>
<blockquote>
<p>❕ Do not forget to save or export your VST preset after adding new ressources to it.</p>
</blockquote>
<h2 id="using-export-program-as-vst3-preset-with-export-files"><a class="header" href="#using-export-program-as-vst3-preset-with-export-files">Using Export Program as VST3 Preset with Export Files</a></h2>
<p><strong>Export Program as VST3 Preset</strong> with <strong>Export Files</strong> activated allows you to create a working directory and export all the required files to it in a single operation.</p>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the program and select <strong>Import/Export &gt; Export Program as VST3 Preset</strong></li>
<li>Activate <strong>Export Files</strong>.</li>
<li>If you are working on a HALion Sonic library, activate <strong>Export as HALion Sonic Layer</strong> and <strong>Verify HALion Sonic Layer Structure</strong>.</li>
<li>Choose a location and a file name. The location becomes your working directory. The file name should correspond to the name of your instrument.</li>
<li>Click <strong>OK</strong> to start the export.</li>
</ol>
<p>HALion now creates a VST preset and several subfolders in the working directory. The subfolders store all the ressources that were in use when you exported the program.</p>
<p><img src="../images/Export-Program-with-Files.png" alt="Export Program with Files" /></p>
<p>Subfolders containing ressources typically look like this:</p>
<p><img src="../images/Folder-Structure.png" alt="Folder Structure" /></p>
<p>To activate the relative paths, you must load the exported VST preset:</p>
<ul>
<li>Load the exported preset from the working directory. It uses only the exported files in the respective subfolders.</li>
</ul>
<h2 id="moving-a-library"><a class="header" href="#moving-a-library">Moving a Library</a></h2>
<p>If you need to move the library to a new location, you must move the whole working directory with its contents. As long as you do not change the folder structure inside the working directory, HALion will be able to load your library, even after moving it.</p>
<h2 id="achieving-relative-paths-in-scripts"><a class="header" href="#achieving-relative-paths-in-scripts">Achieving Relative Paths in Scripts</a></h2>
<p>Functions like <a href="../../HALion-Script/pages/loadPreset.html">loadPreset</a> require a file path as argument. The function <code>debug.getinfo</code> from the Lua debug library returns the file path of the running script. You can use this information to create a relative file path for your script. The folders in the 'if' branch of the following script example must match the working directory on your hard disk. How to create a working directory is described in <a href="#using-relative-paths">Using Relative Paths</a>. The folders in the 'else' branch must match the folders that you specified in the <strong>Library Creator</strong>. If the folder on the hard disk cannot be found, the file path of the VST sound will be used instead. Note that the VST sound must be mounted for this to work.</p>
<h3 id="example"><a class="header" href="#example">Example</a></h3>
<pre><code class="language-lua">-- Load a sub preset from hard disk or VST sound.
-- Find relative path on hard disk.
local info = debug.getinfo(1,'S') -- Function from the Lua debug library.
local source = info.source
local pos = string.find(source, "/library/") -- Assumes the folder "/library/" contains subfolders like "/samples/", "/scripts/", "/VST3 Sub Presets/", etc.
if pos then
    contentPath = string.sub(source, 1, pos - 1).."/library/VST3 Sub Presets/"  -- The folder on disk with sub presets, for example.
else
    -- Extract VST sound GUID, e.g. "vstsound://ABCDEFGHIJKLMNOPQRSTUVWXYZ123456".
    -- The GUID of the VST sound can be found in the library creator.
    -- "SomeFolderName" is defined in the library creator.
    -- The library creator prepends "/.AppData/Steinberg/" when building the library.
    -- The content must be in the same VST sound as the script.
    contentPath = source:sub(1, 43) .. "/.AppData/Steinberg/SomeFolderName/" -- The location of the sub presets inside the vstsound.
end
 
-- Load the sub preset from the respective contentPath.
layer = loadPreset(contentPath.."SomePreset.vstpreset")
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Using-Attribute-Rules.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Using-Velocity-Crossfades.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
