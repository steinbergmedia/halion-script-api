<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Animating and Modifying SVGs - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="./How-tos.html">How-tos</a> /</p>
<h1 id="animating-and-modifying-svgs"><a class="header" href="#animating-and-modifying-svgs">Animating and Modifying SVGs</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#lua-expressions">Lua Expressions</a></li>
<li><a href="#animating-and-modifying-svg-properties">Animating and Modifying SVG Properties</a>
<ul>
<li><a href="#example-vst-preset">Example VST Preset</a></li>
<li><a href="#changing-the-fill-color-of-an-object">Changing the Fill Color of an Object</a></li>
<li><a href="#changing-the-rotation-of-an-object">Changing the Rotation of an Object</a></li>
<li><a href="#changing-the-position-of-an-object">Changing the Position of an Object</a></li>
<li><a href="#changing-the-path-of-an-object">Changing the Path of an Object</a></li>
</ul>
</li>
</ul>
<hr />
<p>By harnessing the capabilities of Lua expressions, you can animate controls that incorporate Scalable Vector Graphics (SVGs). Through the manipulation of SVG properties using Lua expressions, you gain control over how the values of these properties are modified within the control itself. This enables you to create dynamic and visually appealing animations that enhance the user experience.</p>
<h2 id="lua-expressions"><a class="header" href="#lua-expressions">Lua Expressions</a></h2>
<p>An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>You can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>N</strong></td><td style="text-align: left">The normalized value (0 to 1.0) of the control itself.</td></tr>
<tr><td style="text-align: left"><strong>V</strong></td><td style="text-align: left">The value as sent by the connected engine parameter.</td></tr>
<tr><td style="text-align: left"><strong>S</strong></td><td style="text-align: left">A string as sent by the connected parameter.</td></tr>
</tbody></table>
</div>
<p>The string of a S variable is set either by a stringlist variable or by MIDI script or UI script parameters. The ability to use the string output of a parameter allows you to transmit even a full sequence of values, such as the path of an object, for example.</p>
<h2 id="animating-and-modifying-svg-properties"><a class="header" href="#animating-and-modifying-svg-properties">Animating and Modifying SVG Properties</a></h2>
<p>The following examples are intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset"><a class="header" href="#example-vst-preset">Example VST Preset</a></h3>
<ul>
<li><a href="../vstpresets/Animating%20and%20Modifying%20SVGs.vstpreset">Animating and Modifying SVGs.vstpreset</a></li>
</ul>
<p><img src="../images/Animating-and-Modifying-SVGs.png" alt="Animating and Modifying SVGs" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="../vstpresets/Animating%20and%20Modifying%20SVGs.vstpreset">Animating and Modifying SVGs.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the template you want to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select a <a href="../../HALion-Macro-Page/pages/Knob.html">Knob</a> control, for example. Take a look at which <a href="../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resource has been assigned.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="changing-the-fill-color-of-an-object"><a class="header" href="#changing-the-fill-color-of-an-object">Changing the Fill Color of an Object</a></h3>
<h4 id="knob-black"><a class="header" href="#knob-black">Knob Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb(0,0,0)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Static color, in this case black. The original color of the control was green.</p>
<h4 id="knob-red-to-black"><a class="header" href="#knob-red-to-black">Knob Red to Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Red.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb($(math.floor((1-N)*255)),0,0)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value (0 to 1.0) of the control scales the red channel from 255 to 0. This creates a fade from red to black.</p>
<h4 id="knob-black-to-white"><a class="header" href="#knob-black-to-white">Knob Black to White</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Blue.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>rgb($(math.floor(N*255)),$(math.floor(N*255)),$(math.floor(N*255)))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value (0 to 1.0) of the control scales all channels from 0 to 255. This creates a fade from black to white.</p>
<blockquote>
<p>❕ rgb values must be integer values, therefore <code>math.floor</code> is used in the examples above.</p>
</blockquote>
<h4 id="knob-opacity"><a class="header" href="#knob-opacity">Knob Opacity</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Blue_1.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Knob</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla (220,75%,62%,$(1-N))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The normalized value of the control scales the opacity from 1.0 to 0.</p>
<h4 id="rotating-star"><a class="header" href="#rotating-star">Rotating Star</a></h4>
<p><strong>Resource:</strong> Rotating Star</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Stern</td><td style="text-align: left">fill</td><td style="text-align: left"><code>$(SColor)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> An animation control changes its color to the value set by the string output of the connected script parameter. <code>$(SColor)</code>is an additional SVG Parameter, see <a href="./Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a> for details. The following script switches between two colors.</p>
<pre><code class="language-lua">function onSwitchChanged() 
    if Switch then
        this:setParameter("FillColor", "rgb(255,0,0)")
    else
        this:setParameter("FillColor", "rgb(255,255,255)")
    end
end

defineParameter("Switch", nil, false, onSwitchChanged)
defineParameter("FillColor", nil, "rgb(255,255,255)")
</code></pre>
<h3 id="changing-the-rotation-of-an-object"><a class="header" href="#changing-the-rotation-of-an-object">Changing the Rotation of an Object</a></h3>
<h4 id="knob-black-1"><a class="header" href="#knob-black-1">Knob Black</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">LineMain</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate(180,32,32)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The object is rotated by a fixed amount of 180 degrees around the center at x,y = 32,32 pixels. In this case, the scale is turned up side down.</p>
<h4 id="knob-black-knob-red-to-black-knob-black-to-white-knob-opacity"><a class="header" href="#knob-black-knob-red-to-black-knob-black-to-white-knob-opacity">Knob Black, Knob Red to Black, Knob Black to White, Knob Opacity</a></h4>
<p><strong>Resource:</strong> Knob11_Scale2_Green, Knob11_Scale2_Red, Knob11_Scale2_Blue and Knob11_Scale2_Blue_1.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">KnobLine</td><td style="text-align: left">transform</td><td style="text-align: left"><code>rotate($(-135+N*270),32,32)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> A knob control rotates the object by 270 degrees with a start offset of -135 degrees, around the center at x,y = 32,32 pixels. In this case, the indicator of the control is rotated displaying the current value.</p>
<h3 id="changing-the-position-of-an-object"><a class="header" href="#changing-the-position-of-an-object">Changing the Position of an Object</a></h3>
<h4 id="slider"><a class="header" href="#slider">Slider</a></h4>
<p><strong>Resource:</strong> Circle.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate(-0.5,0.5)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The upper left corner of the object is moved by a fixed amount, -0.5 pixels down and 0.5 pixels to the right. Here, it places the handle of the slider at the correct position.</p>
<h3 id="changing-the-path-of-an-object"><a class="header" href="#changing-the-path-of-an-object">Changing the Path of an Object</a></h3>
<h4 id="slider-1"><a class="header" href="#slider-1">Slider</a></h4>
<p><strong>Resource:</strong> LightStrip H3Uni.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Path</td><td style="text-align: left">d</td><td style="text-align: left"><code>M 0 9.5 L $(N*100) 9.5</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> Draws a horizontal line using the normalized value of the control.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/How-tos.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/How-tos.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
