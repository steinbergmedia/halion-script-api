<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Animating Switches Using SVGs - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Tutorials-Guidelines.html">HALion Tutorials &amp; Guidelines</a> / <a href="./How-tos.html">How-tos</a> /</p>
<h1 id="animating-switches-using-svgs"><a class="header" href="#animating-switches-using-svgs">Animating Switches Using SVGs</a></h1>
<p><span class="version-text">(Since HALion 7.0)</span></p>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#adding-an-animation-object">Adding an Animation Object</a></li>
<li><a href="#defining-the-animation">Defining the Animation</a></li>
<li><a href="#animating-switches">Animating Switches</a>
<ul>
<li><a href="#example-vst-preset">Example VST Preset</a></li>
<li><a href="#animated-dashed-line">Animated Dashed Line</a></li>
<li><a href="#animated-colors">Animated Colors</a></li>
<li><a href="#animated-size">Animated Size</a></li>
<li><a href="#animated-brackets">Animated Brackets</a></li>
</ul>
</li>
</ul>
<hr />
<p>Using SVGs as resources for the different states of a <a href="../../HALion-Macro-Page/pages/Switch.html">Switch</a> control allows for state-specific animations, to enhance the visibility of each state. The state-specific animations are defined by using Lua expressions in the resource properties of the SVG that is assigned to each state. The SVG resources to be animated require an <a href="#adding-an-animation-object">animation object</a> that defines the duration and number of cycles for the animation. This integration enables the manipulation of SVG objects without the need to use UI scripts.</p>
<blockquote>
<p>❕ See <a href="./Animating-SVGs-with-Additional-Parameters.html">Animating SVGs with Additional Parameters</a> for details on using UI scripts for animations.</p>
</blockquote>
<h2 id="adding-an-animation-object"><a class="header" href="#adding-an-animation-object">Adding an Animation Object</a></h2>
<p>Before you can define the animation in the SVG resource properties, you must add an additional animation object to the SVG resource you want to animate.</p>
<ol>
<li>Go to the <strong>Resource Tree</strong> and select the SVG resource you want to animate.</li>
<li>In the the <strong>Objects</strong> line, click <strong>+</strong>.</li>
</ol>
<p><img src="../images/Animating-Switches-Using-SVGs-Adding-Objects.png" alt="Adding Objects" /></p>
<ol start="3">
<li>Set the ID of the object to <code>animation</code>.</li>
<li>Add a <code>duration</code> property and set its value to '1'.</li>
<li>Add a <code>cycles</code> property and set its value to '200'.</li>
</ol>
<p><img src="../images/Animating-Switches-Using-SVGs-Animation-Object.png" alt="Animation Object" /></p>
<p>In this example, one cycle of the animation takes 1 second and the animation is played for 200 cycles. The settings should be sufficient to keep the animation running, even if you hover the mouse over the switch for a longer time, for example. Depending on the application of your animation, you can increase or decrease these values.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Property</th><th style="text-align: left">Description</th><th style="text-align: left">Type</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>duration</strong></td><td style="text-align: left">This property defines how long it takes to play one cycle of the animation in seconds.</td><td style="text-align: left">float</td></tr>
<tr><td style="text-align: left"><strong>cycles</strong></td><td style="text-align: left">This property defines how often the animation is played. The minimum number of cycles must be greater than 0.</td><td style="text-align: left">integer</td></tr>
</tbody></table>
</div>
<h2 id="defining-the-animation"><a class="header" href="#defining-the-animation">Defining the Animation</a></h2>
<p>The animations are defined in the SVG resource properties by using Lua expressions. An expression begins with <code>$</code> followed by <code>()</code>. Everything inside the brackets will be evaluated and returns the effective value for the property.</p>
<blockquote>
<p><strong>$(expression)</strong></p>
</blockquote>
<p>Assuming the presence of an <a href="#adding-an-animation-object">animation object</a>, you can use the following variables in Lua expressions:</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><strong>Duration</strong></td><td style="text-align: left">Corresponds to the value set by the <code>duration</code> property.</td></tr>
<tr><td style="text-align: left"><strong>T</strong></td><td style="text-align: left">The overal time since the start of the animation in seconds.</td></tr>
<tr><td style="text-align: left"><strong>t</strong></td><td style="text-align: left">The normalized time (0 to 1.0) within the current cycle.</td></tr>
<tr><td style="text-align: left"><strong>Cycle</strong></td><td style="text-align: left">The number of completed cycles, starting at 0. The <code>cycles</code> property defines the maximum number of cycles.</td></tr>
</tbody></table>
</div>
<h2 id="animating-switches"><a class="header" href="#animating-switches">Animating Switches</a></h2>
<p>The following examples are intended as an inspiration for you to develop your own solutions and ideas.</p>
<h3 id="example-vst-preset"><a class="header" href="#example-vst-preset">Example VST Preset</a></h3>
<ul>
<li><a href="../vstpresets/Animating%20Switches%20Using%20SVGs.vstpreset">Animating Switches Using SVGs.vstpreset</a></li>
</ul>
<p><img src="../images/Animating-Switches-Using-SVGs.png" alt="Animating Switches Using SVGs" /></p>
<p><strong>To explore the templates in this example:</strong></p>
<ol>
<li>Load <a href="../vstpresets/Animating%20Switches%20Using%20SVGs.vstpreset">Animating Switches Using SVGs.vstpreset</a>.</li>
<li>Open the <strong>Macro Page Designer</strong>, go to the <strong>GUI Tree</strong> and select the template you wish to explore.</li>
<li>Click <strong>Edit Element</strong> <img src="../images/EditElement.PNG" alt="Edit Element" /> to examine the template.</li>
<li>Inside the template, select the <a href="../../HALion-Macro-Page/pages/Switch.html">Switch</a> control. Take a look at which <a href="../../HALion-Macro-Page/pages/Bitmap.html">Bitmap</a> resources have been assigned to the different states of the switch.</li>
<li>Go to the <strong>Resources Tree</strong> and select the corresponding SVG resource. Take a look at the IDs, properties, and values as listed below.</li>
</ol>
<h3 id="animated-dashed-line"><a class="header" href="#animated-dashed-line">Animated Dashed Line</a></h3>
<h4 id="dashes-switch"><a class="header" href="#dashes-switch">Dashes Switch</a></h4>
<p>In this example, the same animation is used for the on and off states of the switch.</p>
<p><strong>Resources:</strong> AniRect SW1_Off_Hover, AniRect SW1_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">stroke-dashoffset</td><td style="text-align: left"><code>$(1+t*20)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> A dashed line moves counterclockwise around the switch when you hold the mouse over the switch. By using <code>$(1-t*20)</code> the dashed line moves clockwise around the switch.</p>
<h3 id="animated-colors"><a class="header" href="#animated-colors">Animated Colors</a></h3>
<p>In this example, different animations are used for the on and off states of the switch.</p>
<h4 id="colors-switch"><a class="header" href="#colors-switch">Colors Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW2_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,$(100-math.cos(t*6.28)*72)%,1)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color periodically fades between grey and white when you hold the mouse over the switch while the switch is in the off state.</p>
<p><strong>Resource:</strong> AniRect SW2_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Rect</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(214, $(100-math.cos(t*6.28)*40)%, $(80-math.cos(t*6.28)*20)%, 1)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The color periodically fades between white and blue when you hold the mouse over the switch while the switch is in the on state.</p>
<h3 id="animated-size"><a class="header" href="#animated-size">Animated Size</a></h3>
<p>In this example, different animations are used for the on and off states of the switch.</p>
<h4 id="size-switch"><a class="header" href="#size-switch">Size Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW5_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(7-math.abs(0.5-t)*10)</code></td></tr>
<tr><td style="text-align: left">feGaussianBlur1740</td><td style="text-align: left">stdDeviation</td><td style="text-align: left"><code>$(1-math.abs(0.5-t)*2)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The radius of the circle and the deviation of the blur change periodically when you hold the mouse over the switch while the switch is in the off state. The color is grey and the inner circle is smaller than the blur. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>. The 'stdDeviation' attribute defines the standard deviation for the blur.</p>
<p><strong>Resource:</strong> AniRect SW5_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(7-math.abs(0.5-t)*6)</code></td></tr>
<tr><td style="text-align: left">feGaussianBlur1740</td><td style="text-align: left">stdDeviation</td><td style="text-align: left"><code>$(1-math.abs(0.5-t)*2)</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The radius of the circle and the deviation of the blur change periodically when you hold the mouse over the switch while the switch is in the on state. The color is green and the inner circle is larger than in the off state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>. The 'stdDeviation' attribute defines the standard deviation for the blur.</p>
<h3 id="animated-brackets"><a class="header" href="#animated-brackets">Animated Brackets</a></h3>
<p>In this example, multiple properties get animated for each state and different animations are used for the on and off states of the switch.</p>
<h4 id="brackets-switch"><a class="header" href="#brackets-switch">Brackets Switch</a></h4>
<p><strong>Resource:</strong> AniRect SW6_Off_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,$(100-math.abs(0.5-t)*144)%,1)</code></td></tr>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(6-math.abs(0.5-t)*4)</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(-10+t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,80%,$(1-t*0.9))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(10-t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(100,0%,80%,$(1-t*0.9))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The switch blinks periodically in white and round brackets are moving from the outside to the inside when you hold the mouse over the switch while the switch is in the off state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>.</p>
<p><strong>Resource:</strong> AniRect SW6_On_Hover.</p>
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">ID</th><th style="text-align: left">Property</th><th style="text-align: left">Value</th></tr></thead><tbody>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,$(50-math.abs(0.5-t)*40)%,1)</code></td></tr>
<tr><td style="text-align: left">Circle</td><td style="text-align: left">r</td><td style="text-align: left"><code>$(6-math.abs(0.5-t)*4)</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(-10+t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowL</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,50%,$(1-t*0.9))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">transform</td><td style="text-align: left"><code>translate ($(12-t*20))</code></td></tr>
<tr><td style="text-align: left">ArrowR</td><td style="text-align: left">fill</td><td style="text-align: left"><code>hsla(154,40%,50%,$(1-t*0.9))</code></td></tr>
</tbody></table>
</div>
<p><strong>Description:</strong> The switch blinks periodically in green and round brackets are moving from the outside to the inside when you hold the mouse over the switch while the switch is in the on state. The 'r' property describes the radius of the 'Circle' element. A negative value for 'r' must be avoided with <code>math.abs</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Tutorials-Guidelines/pages/Animating-SVGs-with-Additional-Parameters.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Tutorials-Guidelines/pages/Custom-Multi-Level-Menus.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
