<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Protecting Layers - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Script.html">HALion Script</a> / <a href="./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="protecting-layers"><a class="header" href="#protecting-layers">Protecting Layers</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#using-layer-protection">Using Layer Protection</a>
<ul>
<li><a href="#setting-the-layer-protection">Setting the Layer Protection</a></li>
<li><a href="#applying-the-layer-protection-automatically">Applying the Layer Protection Automatically</a></li>
<li><a href="#applying-the-layer-protection-manually">Applying the Layer Protection Manually</a></li>
</ul>
</li>
<li><a href="#accessing-protected-layers-from-a-script">Accessing Protected Layers from a Script</a></li>
</ul>
<p><strong>Related pages:</strong></p>
<ul>
<li><a href="./addLayerPassword.html">addLayerPassword</a></li>
<li><a href="./Managing-Script-Modules.html">Managing Script Modules</a></li>
</ul>
<hr />
<p>You might want to avoid that users make edits to critical parts of the program. Moreover, how you built a program for your instrument might be a considerable part of your intellectual property. To safeguard the program and your work, you can protect the layers to which the users should not have access.</p>
<h2 id="using-layer-protection"><a class="header" href="#using-layer-protection">Using Layer Protection</a></h2>
<p>Protecting layers is a two-step process:</p>
<ul>
<li>First, you define the layers you want to protect by setting the <strong>Layer Protection</strong> in the <strong>Program Tree</strong>. This has the advantage that you can decide at an early stage which layers you want to be protected. You can continue your work as usual and you still can add or remove the protection as needed. The permanent activation of the layer protection happens later.</li>
<li>Before you release the instrument to the public, you export the program and apply the protection by using <strong>Export Program as VST3 Preset...</strong> with the <strong>Protect</strong> option activated. All layers for which the layer protection is set will be permanently protected in the exported program.</li>
</ul>
<blockquote>
<p>‚ùï Applying the layer protection permanently by exporting a protected VST 3 preset cannot be undone. For this reason, you should always keep a backup of the unprotected program.</p>
</blockquote>
<h3 id="setting-the-layer-protection"><a class="header" href="#setting-the-layer-protection">Setting the Layer Protection</a></h3>
<ol>
<li>In the <strong>Program Tree</strong>, right-click the column header and select <strong>Layer Protection</strong>. The column for setting the layer protection is added to the <strong>Program Tree</strong>. An open lock icon is displayed next to each layer, indicating that the layers are not protected yet.</li>
<li>Click the lock icon for the layer that you want to protect. A dialog opens where you can enter the password for the layer protection.</li>
<li>Enter a password in the text field. You must enter a password each time you protect a layer. You are free to use the same or different passwords for each of the layers.</li>
<li>Click <strong>OK</strong> to engage the layer protection.</li>
</ol>
<p>The <strong>Layer Protection</strong> is engaged if a closed lock icon is displayed next to the layer. If a child layer is protected through a parent layer, its lock will turn light gray to indicate this. To disengage the <strong>Layer Protection</strong>, click the closed lock icon of a layer, so that an open lock icon is shown. This also resets the password of the layer. To apply the <strong>Layer Protection</strong> permanently, you must build a library or export a protected version of the program or layer.</p>
<h3 id="applying-the-layer-protection-automatically"><a class="header" href="#applying-the-layer-protection-automatically">Applying the Layer Protection Automatically</a></h3>
<p>The <strong>Library Creator</strong> protects layers with activated protection automatically when building a VST Sound. This only affects the presets that go into the VST Sound container ‚Äì not your source presets on disk. Using the <strong>Library Creator</strong> is the preferred way to protect layers permanently for release.</p>
<ol>
<li>Set the <strong>Layer Protection</strong> as described above.</li>
<li>In the <strong>Library Creator</strong>, add the respective presets to your library.</li>
<li>Build the library and mount it.</li>
<li>Go to the <strong>MediaBay</strong> and load a preset from the library.</li>
</ol>
<p>Notice how the protected layers cannot be accessed in the <strong>Program Tree</strong> any longer.</p>
<h3 id="applying-the-layer-protection-manually"><a class="header" href="#applying-the-layer-protection-manually">Applying the Layer Protection Manually</a></h3>
<blockquote>
<p>‚ùï Applying the layer protection cannot be undone. Please keep a backup of the unprotected program if you need to edit the layers at a later stage.</p>
</blockquote>
<ol>
<li>Right-click in the <strong>Program Tree</strong> and go to the <strong>Import/Export</strong> submenu.</li>
<li>Select <strong>Export Program as VST3 Preset...</strong></li>
<li>Activate the <strong>Protect</strong> option.</li>
<li>Choose a location and file name.</li>
<li>Click <strong>Save</strong> to export the program and apply the layer protection permanently.</li>
</ol>
<p>When you load the exported program, the protected layers cannot be accessed in the <strong>Program Tree</strong> any longer.</p>
<h2 id="accessing-protected-layers-from-a-script"><a class="header" href="#accessing-protected-layers-from-a-script">Accessing Protected Layers from a Script</a></h2>
<p>By default, protected layers cannot be accessed by scripts. The parameters of a protected layer and any elements inside of it are hidden for scripts. This avoids unauthorized parsing of the <strong>Program Tree</strong> to retrieve hidden information. A script can access protected layers only by calling the function <strong>addLayerPassword</strong> with the correct password for the corresponding layers.</p>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-lua">-- Access the protected layer(s) which have the password "abc123".

addLayerPassword("abc123")
</code></pre>
<blockquote>
<p>‚ùï To hide the password in <a href="./addLayerPassword.html">addLayerPassword</a>, you must also protect the script module. See <a href="./Managing-Script-Modules.html">Managing Script Modules</a> for details.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Script/pages/Using-Slot-Local-Variables.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Script/pages/Managing-Script-Modules.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Script/pages/Using-Slot-Local-Variables.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Script/pages/Managing-Script-Modules.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                ¬© 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
