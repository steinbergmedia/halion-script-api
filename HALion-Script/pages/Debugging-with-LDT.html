<!DOCTYPE HTML>
<html lang="en" class="steinberg-light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Debugging with LDT - HALion 7.1.30</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-16x16.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-32x32.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-192x192.png" type="image/png">
        <link rel="shortcut icon" href="../../resources/favicon/favicon-256x256.png" type="image/png">

        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "steinberg-dark" : "steinberg-light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('steinberg-light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="steinberg-dark">Dark</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">HALion 7.1.30</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p>/ <a href="../../HALion-Developer-Resource.html">HALion Developer Resource</a> / <a href="./HALion-Script.html">HALion Script</a> / <a href="./Diving-Deeper.html">Diving Deeper</a> /</p>
<h1 id="debugging-with-ldt"><a class="header" href="#debugging-with-ldt">Debugging with LDT</a></h1>
<hr />
<p><strong>On this page:</strong></p>
<ul>
<li><a href="#installing-ldt">Installing LDT</a></li>
<li><a href="#setting-up-a-debug-session">Setting Up a Debug Session</a>
<ul>
<li><a href="#starting-ldt">Starting LDT</a></li>
<li><a href="#selecting-a-workspace">Selecting a Workspace</a></li>
<li><a href="#creating-a-project">Creating a Project</a></li>
<li><a href="#configuring-attach-debug">Configuring Attach Debug</a></li>
<li><a href="#changing-the-debug-port-on-mac">Changing the Debug Port on Mac</a></li>
</ul>
</li>
<li><a href="#starting-a-debug-session">Starting a Debug Session</a>
<ul>
<li><a href="#loading-the-code-example">Loading the Code Example</a></li>
<li><a href="#opening-the-debug-perspective">Opening the Debug Perspective</a></li>
<li><a href="#connecting-the-lua-script-module-with-ldt">Connecting the Lua Script module with LDT</a></li>
</ul>
</li>
<li><a href="#stopping-a-debug-session">Stopping a Debug Session</a></li>
<li><a href="#using-the-ldt-debugger">Using the LDT Debugger</a></li>
</ul>
<p><strong>External links:</strong></p>
<ul>
<li><a href="https://www.eclipse.org/ldt/">Eclipse LDT</a></li>
<li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">Java SE 8 JRE</a></li>
<li><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">Java SE 8 JDK</a></li>
<li><a href="https://wiki.eclipse.org/LDT/User_Area/User_Guides/User_Guide_1.3#Debugging_a_Lua_program">Debugging a Lua program</a></li>
</ul>
<hr />
<p>HALion uses <a href="https://www.eclipse.org/ldt/">Lua Development Tools (LDT)</a> by <a href="https://www.eclipse.org/">Eclipse Foundation</a> as the front end for debugging. LDT is an open source software for Windows and Mac OSX that provides you with an integrated development environment (IDE) for Lua with tools like code assistance, debugging, syntax coloring, code formatting, and many more. LDT allows you to debug scripts that run in HALion. After configuring Attach Debug in LDT, you can connect a Lua Script module for debugging its script. In LDT, you can monitor the script step by step, inspect variables and evaluate expressions. This way, you can identify and remove errors from your script more easily.</p>
<p>More information about LDT and support from the Eclipse community can be found here:</p>
<p><a href="https://wiki.eclipse.org/LDT">https://wiki.eclipse.org/LDT</a></p>
<h2 id="installing-ldt"><a class="header" href="#installing-ldt">Installing LDT</a></h2>
<p>LDT can be downloaded from here:</p>
<p><a href="https://www.eclipse.org/ldt/">https://www.eclipse.org/ldt/</a></p>
<ul>
<li>After downloading the package for your system, unpack the files into a folder of your choice.</li>
</ul>
<blockquote>
<p>❕ In addition, the Java SE 8 JRE (Windows) or the Java SE 8 JDK (Mac OSX) must be installed.</p>
</blockquote>
<p><strong>Windows</strong></p>
<p>The Java SE 8 JRE can be downloaded from here:</p>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html">https://www.oracle.com/technetwork/java/javase/downloads/jre8-downloads-2133155.html</a></p>
<p><strong>Mac OSX</strong></p>
<p>The Java SE 8 JDK can be downloaded from here:</p>
<p><a href="https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>
<blockquote>
<p>❕ Mac OSX might tell you that you need to install the legacy Java SE 6 runtime. Please ignore the message and install the Java SE 8 JDK instead.</p>
</blockquote>
<h2 id="setting-up-a-debug-session"><a class="header" href="#setting-up-a-debug-session">Setting Up a Debug Session</a></h2>
<p>Before starting a debug session, some preparations are required. In the following, you will be guided through all the necessary steps.</p>
<h3 id="starting-ldt"><a class="header" href="#starting-ldt">Starting LDT</a></h3>
<p><strong>Windows</strong></p>
<ul>
<li>Double-click <strong>LuaDevelopmentTools.exe</strong>.</li>
</ul>
<p><strong>Mac OSX</strong></p>
<ul>
<li>Double-click the <strong>Eclipse</strong> application.</li>
</ul>
<h3 id="selecting-a-workspace"><a class="header" href="#selecting-a-workspace">Selecting a Workspace</a></h3>
<p>Upon start of LDT, the Eclipse Launcher will ask you to select a directory as workspace.</p>
<ul>
<li>Choose a location for <strong>Workspace</strong> and click <strong>Launch</strong>.</li>
</ul>
<p><img src="../images/LDT-Select-Workspace.PNG" alt="Select Workspace" /></p>
<h3 id="creating-a-project"><a class="header" href="#creating-a-project">Creating a Project</a></h3>
<ol>
<li>
<p>Open <strong>File &gt; New &gt; Project</strong>, select <strong>Lua Project</strong> and click <strong>Next &gt;</strong>.</p>
</li>
<li>
<p>Enter a <strong>Project name</strong>.</p>
</li>
<li>
<p>Select <strong>Create project at existing location (from existing source)</strong> and set <strong>Directory</strong> to the location of your scripts.</p>
<p><img src="../images/LDT-Create-Lua-Project.PNG" alt="Create a Lua Project" /></p>
</li>
<li>
<p>Click <strong>Next &gt;</strong>. The contents of the specified directory will be scanned. You can ignore the warning that says, "Your project has no source folder defined."</p>
</li>
<li>
<p>Click <strong>Finish</strong>.</p>
<p><img src="../images/LDT-Script-Settings.PNG" alt="Script Settings" /></p>
</li>
</ol>
<p>The Lua scripts that have been found will appear in the Script Explorer of LDT. You can load them via double-click.</p>
<p><img src="../images/LDT-Script-Explorer.PNG" alt="Script Explorer" /></p>
<h3 id="configuring-attach-debug"><a class="header" href="#configuring-attach-debug">Configuring Attach Debug</a></h3>
<p>In order for incoming debug sessions to be accepted, you must create a <strong>Lua Attach to Application</strong> launch configuration.</p>
<ol>
<li>Open <strong>Run &gt; Debug Configurations...</strong></li>
<li>Select <strong>Lua Attach to Application</strong> and click the <strong>New</strong> button to create a configuration of this type.</li>
<li>Enter a name and click <strong>Apply</strong>.</li>
<li>Click <strong>Close</strong>, since we do not want to debug at the moment.</li>
</ol>
<p><img src="../images/LDT-Debug-Configurations.PNG" alt="Debug Configurations" /></p>
<h3 id="changing-the-debug-port-on-mac"><a class="header" href="#changing-the-debug-port-on-mac">Changing the Debug Port on Mac</a></h3>
<p>On Mac, you must change the debug server port before you can start a debug session.</p>
<ol>
<li>Open <strong>Lua  Development Tools Product &gt; Preferences...</strong> and go in <strong>Dynamic Languages &gt; Debug</strong>.</li>
<li>Change <strong>Port</strong> to "Custom" and enter the value "10001".</li>
<li>Click <strong>Apply and Close</strong>.</li>
</ol>
<p><img src="../images/LDT-Debug-Port.PNG" alt="Debug Port" /></p>
<blockquote>
<p>❕ Do not change the debug server port on Windows.</p>
</blockquote>
<h2 id="starting-a-debug-session"><a class="header" href="#starting-a-debug-session">Starting a Debug Session</a></h2>
<p>Please load the following code example for your first debug session.</p>
<h3 id="loading-the-code-example"><a class="header" href="#loading-the-code-example">Loading the Code Example</a></h3>
<p>Create a new Lua file in LDT.</p>
<ol>
<li>In <strong>File &gt; New &gt; Other...</strong>, select <strong>Lua File</strong> and click <strong>Next &gt;</strong>.</li>
<li>Enter a file name and click <strong>Finish</strong>.</li>
</ol>
<p><img src="../images/LDT-New-Lua-File.PNG" alt="New Lua File" /></p>
<blockquote>
<p>❕ New Lua files will be saved to the directory that you specified for the Lua project.</p>
</blockquote>
<ul>
<li>Copy the following code example to the editor area of LDT.</li>
</ul>
<h4 id="example"><a class="header" href="#example">Example</a></h4>
<pre><code class="language-lua">function onNote(ev)
  print(ev)
  postEvent(ev)
end
</code></pre>
<ul>
<li>Click <img src="../images/LDT-Save-Button.PNG" alt="Save Button" /> to save the script file in LDT.</li>
</ul>
<p>Now it is time to start HALion and to load the script.</p>
<ol>
<li>Open HALion, create a program with a synth zone and a Lua Script module.</li>
<li>Load the script file from the location where you saved it.</li>
</ol>
<p><img src="../images/HALion-with-Script.PNG" alt="HALion with Script" /></p>
<blockquote>
<p>❕ The script running in the Lua Script module of HALion must be loaded from the same location where LDT saved it. This ensures that the script in LDT and HALion are physically the same file. Otherwise, the debugger cannot establish a connection between LDT (debugger server) and the Lua Script module (debugger client).</p>
</blockquote>
<h3 id="opening-the-debug-perspective"><a class="header" href="#opening-the-debug-perspective">Opening the Debug Perspective</a></h3>
<p>Most of the debug functionality can be found in the Debug perspective of LDT.</p>
<ul>
<li>Click <img src="../images/LDT-Debug-Button.PNG" alt="Debug Button" /> in the top right corner of the editor area.</li>
<li>Alternatively, in <strong>Window &gt; Perspective &gt; Open Perspective &gt; Other...</strong>, select <strong>Debug</strong> and click <strong>Open</strong>.</li>
</ul>
<p>Breakpoints can be set by double-clicking the margin.</p>
<ul>
<li>Double-click the margin in line two, for example.</li>
</ul>
<p><img src="../images/LDT-Debug-Perspective.PNG" alt="Debug Perspective" /></p>
<h3 id="connecting-the-lua-script-module-with-ldt"><a class="header" href="#connecting-the-lua-script-module-with-ldt">Connecting the Lua Script module with LDT</a></h3>
<p>The following steps will establish a connection between LDT (debugger server) and the Lua Script module (debugger client).</p>
<ol>
<li>Open HALion, go to the Lua Script module and click the <strong>Connect to Debugger</strong> <img src="../images/Connect-Debugger-Gray.PNG" alt="Connect to Debugger Gray" />  button. This defines the Lua Script module as debugger client. The <strong>Connect to Debugger</strong> button turns blue <img src="../images/Connect-Debugger-Blue.PNG" alt="Connect to Debugger Blue" /> to indicate that it waits for the debugger server.</li>
<li>Open LDT and go to <strong>Run &gt; Debug Configurations</strong>. In <strong>Lua Attach to Application</strong>, select the configuarion you have previously created.</li>
<li>Click <strong>Debug</strong> to start the debugger server.</li>
</ol>
<p>The <strong>Connect to Debugger</strong> button in HALion turns green <img src="../images/Connect-Debugger-Green.PNG" alt="Connect to Debugger Green" /> if debugger server and client are connected.</p>
<p><img src="../images/Lua-Script-Module.PNG" alt="Lua Script Module" /></p>
<p>As a basic test, try the following steps with the code example from above and a breakpoint in line two:</p>
<ol>
<li>
<p>Play a MIDI note. LDT will break into the onNote function.</p>
<p><img src="../images/LDT-Break-Into-onNote.PNG" alt="Break Into onNote" /></p>
</li>
<li>
<p>Click Resume <img src="../images/LDT-Resume-Button.PNG" alt="Resume Button" /> or press (F8) to continue the script. HALion prints the event and outputs the note.</p>
</li>
</ol>
<h2 id="stopping-a-debug-session"><a class="header" href="#stopping-a-debug-session">Stopping a Debug Session</a></h2>
<p>To stop the debug session:</p>
<ul>
<li>Open the Lua Script module in HALion and click the <strong>Connect to Debugger</strong> <img src="../images/Connect-Debugger-Green.PNG" alt="Connect to Debugger Green" /> button.</li>
</ul>
<p>The <strong>Connect to Debugger</strong> button turns gray <img src="../images/Connect-Debugger-Gray.PNG" alt="Connect to Debugger Gray" /> and the Debug area in LDT says the Lua Attach to Application session has &lt;terminated&gt;.</p>
<p><img src="../images/LDT-Terminated-Debugger.PNG" alt="Terminated Debugger" /></p>
<h2 id="using-the-ldt-debugger"><a class="header" href="#using-the-ldt-debugger">Using the LDT Debugger</a></h2>
<p>From now on, the debug session can be started from the Debug menu <img src="../images/LDT-Debug-Menu-Button.PNG" alt="Debug Menu Button" /> on the LDT toolbar.</p>
<p><img src="../images/LDT-Debug-Menu-Toolbar.PNG" alt="Debug Menu Toolbar" /></p>
<p>Tips for using the LDT debugger can be found here:</p>
<p><a href="https://wiki.eclipse.org/LDT/User_Area/User_Guides/User_Guide_1.3#Debugging_a_Lua_program">Debugging a Lua program</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../HALion-Script/pages/Using-External-Files.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../HALion-Script/pages/Updates.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>

            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../HALion-Script/pages/Using-External-Files.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../HALion-Script/pages/Updates.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>
            
            <div id="footer" class="footer">
                <!-- Here comes the footer when available -->
                © 2025 <a href="https://www.steinberg.net" target="_blank">Steinberg Media Technologies GmbH</a>.&nbsp; All rights reserved.&nbsp;&nbsp;&nbsp;&nbsp;
                <a href="https://o.steinberg.net/en/extras/about.html" target="_blank">About</a> |
                <a href="https://o.steinberg.net/en/extras/privacy_policy.html" target="_blank">Privacy Policy</a> |
                <a href="https://o.steinberg.net/en/extras/terms_conditions.html" target="_blank">Legal Terms</a> 
            </div>
        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../mermaid.min.js"></script>
        <script src="../../mermaid-init.js"></script>


    </div>
    </body>
</html>
